<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: pgpPktKeyV3_s Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>pgpPktKeyV3_s Struct Reference<br>
<small>
[<a class="el" href="group__rpmpgp.html">OpenPGP API.</a>]</small>
</h1><!-- doxytag: class="pgpPktKeyV3_s" -->5.5.1.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="rpmpgp_8h-source.html">rpmpgp.h</a>&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpgpPktKeyV3__s.html#938936d2df98d45bb79147754c8a436b">version</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="rpmpgp_8h.html#3f26618361eeb911e1c83947661a4b93">pgpTime_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpgpPktKeyV3__s.html#d3766ee054726e1b0ff0899cdb908f8b">time</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpgpPktKeyV3__s.html#fff1851a4fc5e7f5039056d369dd0979">valid</a> [2]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpgpPktKeyV3__s.html#bbe632000557097d1d37374901ef1670">pubkey_algo</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
5.5.1. 
<p>
Key Packet Variants<p>
5.5.1.1. Public Key Packet (Tag 6)<p>
A Public Key packet starts a series of packets that forms an OpenPGP key (sometimes called an OpenPGP certificate).<p>
5.5.1.2. Public Subkey Packet (Tag 14)<p>
A Public Subkey packet (tag 14) has exactly the same format as a Public Key packet, but denotes a subkey. One or more subkeys may be associated with a top-level key. By convention, the top-level key provides signature services, and the subkeys provide encryption services.<p>
Note: in PGP 2.6.x, tag 14 was intended to indicate a comment packet. This tag was selected for reuse because no previous version of PGP ever emitted comment packets but they did properly ignore them. Public Subkey packets are ignored by PGP 2.6.x and do not cause it to fail, providing a limited degree of backward compatibility.<p>
5.5.1.3. Secret Key Packet (Tag 5)<p>
A Secret Key packet contains all the information that is found in a Public Key packet, including the public key material, but also includes the secret key material after all the public key fields.<p>
5.5.1.4. Secret Subkey Packet (Tag 7)<p>
A Secret Subkey packet (tag 7) is the subkey analog of the Secret Key packet, and has exactly the same format.<p>
5.5.2. Public Key Packet Formats<p>
There are two versions of key-material packets. Version 3 packets were first generated by PGP 2.6. Version 2 packets are identical in format to Version 3 packets, but are generated by PGP 2.5 or before. V2 packets are deprecated and they MUST NOT be generated. PGP 5.0 introduced version 4 packets, with new fields and semantics. PGP 2.6.x will not accept key-material packets with versions greater than 3.<p>
OpenPGP implementations SHOULD create keys with version 4 format. An implementation MAY generate a V3 key to ensure interoperability with old software; note, however, that V4 keys correct some security deficiencies in V3 keys. These deficiencies are described below. An implementation MUST NOT create a V3 key with a public key algorithm other than RSA.<p>
A version 3 public key or public subkey packet contains:<ul>
<li>A one-octet version number (3).</li><li>A four-octet number denoting the time that the key was created.</li><li>A two-octet number denoting the time in days that this key is valid. If this number is zero, then it does not expire.</li><li>A one-octet number denoting the public key algorithm of this key</li><li>A series of multi-precision integers comprising the key material:<ul>
<li>a multiprecision integer (MPI) of RSA public modulus n;</li><li>an MPI of RSA public encryption exponent e.</li></ul>
</li></ul>
<p>
V3 keys SHOULD only be used for backward compatibility because of three weaknesses in them. First, it is relatively easy to construct a V3 key that has the same key ID as any other key because the key ID is simply the low 64 bits of the public modulus. Secondly, because the fingerprint of a V3 key hashes the key material, but not its length, which increases the opportunity for fingerprint collisions. Third, there are minor weaknesses in the MD5 hash algorithm that make developers prefer other algorithms. See below for a fuller discussion of key IDs and fingerprints. 
<p>Definition at line <a class="el" href="rpmpgp_8h-source.html#l00611">611</a> of file <a class="el" href="rpmpgp_8h-source.html">rpmpgp.h</a>.</p>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="bbe632000557097d1d37374901ef1670"></a><!-- doxytag: member="pgpPktKeyV3_s::pubkey_algo" ref="bbe632000557097d1d37374901ef1670" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="structpgpPktKeyV3__s.html#bbe632000557097d1d37374901ef1670">pgpPktKeyV3_s::pubkey_algo</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
public key algorithm. 
<p>Definition at line <a class="el" href="rpmpgp_8h-source.html#l00615">615</a> of file <a class="el" href="rpmpgp_8h-source.html">rpmpgp.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d3766ee054726e1b0ff0899cdb908f8b"></a><!-- doxytag: member="pgpPktKeyV3_s::time" ref="d3766ee054726e1b0ff0899cdb908f8b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rpmpgp_8h.html#3f26618361eeb911e1c83947661a4b93">pgpTime_t</a> <a class="el" href="structpgpPktKeyV3__s.html#d3766ee054726e1b0ff0899cdb908f8b">pgpPktKeyV3_s::time</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
time that the key was created. 
<p>Definition at line <a class="el" href="rpmpgp_8h-source.html#l00613">613</a> of file <a class="el" href="rpmpgp_8h-source.html">rpmpgp.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="fff1851a4fc5e7f5039056d369dd0979"></a><!-- doxytag: member="pgpPktKeyV3_s::valid" ref="fff1851a4fc5e7f5039056d369dd0979" args="[2]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="structpgpPktKeyV3__s.html#fff1851a4fc5e7f5039056d369dd0979">pgpPktKeyV3_s::valid</a>[2]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
time in days that this key is valid. 
<p>Definition at line <a class="el" href="rpmpgp_8h-source.html#l00614">614</a> of file <a class="el" href="rpmpgp_8h-source.html">rpmpgp.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="938936d2df98d45bb79147754c8a436b"></a><!-- doxytag: member="pgpPktKeyV3_s::version" ref="938936d2df98d45bb79147754c8a436b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="structpgpPktKeyV3__s.html#938936d2df98d45bb79147754c8a436b">pgpPktKeyV3_s::version</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
version number (3). 
<p>Definition at line <a class="el" href="rpmpgp_8h-source.html#l00612">612</a> of file <a class="el" href="rpmpgp_8h-source.html">rpmpgp.h</a>.</p>

</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="rpmpgp_8h-source.html">rpmpgp.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Dec 17 15:19:11 2008 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
