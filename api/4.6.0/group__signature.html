<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: Signature API.</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Signature API.</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Files</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpmlib_8h.html">rpmlib.h</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">In Memoriam: Steve Taylor &lt;<a href="mailto:staylor@redhat.com">staylor@redhat.com</a>&gt; was here, now he's not. <br></td></tr>

<p>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef enum <a class="el" href="group__signature.html#gbe4f0a088b351ed92bfcfe2ed863e07a">rpmSigTag_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__signature.html#gc7d2c4a86bc7476ba67815928df227e2">rpmSigTag</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tags found in signature header from package.  <a href="#gc7d2c4a86bc7476ba67815928df227e2"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__signature.html#gbe4f0a088b351ed92bfcfe2ed863e07a">rpmSigTag_e</a> { <br>
&nbsp;&nbsp;<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07a9ce79a6dc5f08f628da38c4f0ed8461f">RPMSIGTAG_SIZE</a> =  1000, 
<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07a0e8bbec8af85b808a50323497f3318e9">RPMSIGTAG_LEMD5_1</a> =  1001, 
<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07aad2717c301116c93390eb57f1a5bdfc6">RPMSIGTAG_PGP</a> =  1002, 
<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07a3308808e75374022ddc3f68b33d823ef">RPMSIGTAG_LEMD5_2</a> =  1003, 
<br>
&nbsp;&nbsp;<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07a98404587b2537b1a0913f4bf84857b66">RPMSIGTAG_MD5</a> =  1004, 
<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07a0ed5d0c19de281d46d38e0210dc9faa7">RPMSIGTAG_GPG</a> =  1005, 
<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07abf5438c2d5c3e85d660be9588869ad7d">RPMSIGTAG_PGP5</a> =  1006, 
<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07ac2542a062d446e7a5b5642feaac2c278">RPMSIGTAG_PAYLOADSIZE</a> =  1007, 
<br>
&nbsp;&nbsp;<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07aa35edddd0dc76b6026707e221c5adcd4">RPMSIGTAG_BADSHA1_1</a> =  RPMTAG_BADSHA1_1, 
<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07a6144d0f409709c7e1327f23f100da92d">RPMSIGTAG_BADSHA1_2</a> =  RPMTAG_BADSHA1_2, 
<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07a1f0885c883cbf3c6a56b43378b2abb44">RPMSIGTAG_SHA1</a> =  RPMTAG_SHA1HEADER, 
<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07ab52ed4e5aa7d330de398f3e92334d828">RPMSIGTAG_DSA</a> =  RPMTAG_DSAHEADER, 
<br>
&nbsp;&nbsp;<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07ad5ce205120582b92319e8e686b7e5886">RPMSIGTAG_RSA</a> =  RPMTAG_RSAHEADER, 
<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07ae5c6265e0ec5629a451d64093d9def75">RPMSIGTAG_LONGSIZE</a> =  RPMTAG_LONGSIGSIZE, 
<a class="el" href="group__signature.html#ggbe4f0a088b351ed92bfcfe2ed863e07a742a3efd51b17b061bbc981a81c11979">RPMSIGTAG_LONGARCHIVESIZE</a> =  RPMTAG_LONGARCHIVESIZE
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tags found in signature header from package.  <a href="group__signature.html#gbe4f0a088b351ed92bfcfe2ed863e07a">More...</a><br></td></tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="gc7d2c4a86bc7476ba67815928df227e2"></a><!-- doxytag: member="rpmtag.h::rpmSigTag" ref="gc7d2c4a86bc7476ba67815928df227e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__signature.html#gbe4f0a088b351ed92bfcfe2ed863e07a">rpmSigTag_e</a>  <a class="el" href="group__signature.html#gc7d2c4a86bc7476ba67815928df227e2">rpmSigTag</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tags found in signature header from package. 
<p>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="gbe4f0a088b351ed92bfcfe2ed863e07a"></a><!-- doxytag: member="rpmtag.h::rpmSigTag_e" ref="gbe4f0a088b351ed92bfcfe2ed863e07a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__signature.html#gbe4f0a088b351ed92bfcfe2ed863e07a">rpmSigTag_e</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tags found in signature header from package. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07a9ce79a6dc5f08f628da38c4f0ed8461f"></a><!-- doxytag: member="RPMSIGTAG_SIZE" ref="ggbe4f0a088b351ed92bfcfe2ed863e07a9ce79a6dc5f08f628da38c4f0ed8461f" args="" -->RPMSIGTAG_SIZE</em>&nbsp;</td><td>
internal Header+Payload size (32bit) in bytes. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07a0e8bbec8af85b808a50323497f3318e9"></a><!-- doxytag: member="RPMSIGTAG_LEMD5_1" ref="ggbe4f0a088b351ed92bfcfe2ed863e07a0e8bbec8af85b808a50323497f3318e9" args="" -->RPMSIGTAG_LEMD5_1</em>&nbsp;</td><td>
internal Broken MD5, take 1 <dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000009">Deprecated:</a></b></dt><dd>legacy. </dd></dl>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07aad2717c301116c93390eb57f1a5bdfc6"></a><!-- doxytag: member="RPMSIGTAG_PGP" ref="ggbe4f0a088b351ed92bfcfe2ed863e07aad2717c301116c93390eb57f1a5bdfc6" args="" -->RPMSIGTAG_PGP</em>&nbsp;</td><td>
internal PGP 2.6.3 signature. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07a3308808e75374022ddc3f68b33d823ef"></a><!-- doxytag: member="RPMSIGTAG_LEMD5_2" ref="ggbe4f0a088b351ed92bfcfe2ed863e07a3308808e75374022ddc3f68b33d823ef" args="" -->RPMSIGTAG_LEMD5_2</em>&nbsp;</td><td>
internal Broken MD5, take 2 <dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000010">Deprecated:</a></b></dt><dd>legacy. </dd></dl>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07a98404587b2537b1a0913f4bf84857b66"></a><!-- doxytag: member="RPMSIGTAG_MD5" ref="ggbe4f0a088b351ed92bfcfe2ed863e07a98404587b2537b1a0913f4bf84857b66" args="" -->RPMSIGTAG_MD5</em>&nbsp;</td><td>
internal MD5 signature. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07a0ed5d0c19de281d46d38e0210dc9faa7"></a><!-- doxytag: member="RPMSIGTAG_GPG" ref="ggbe4f0a088b351ed92bfcfe2ed863e07a0ed5d0c19de281d46d38e0210dc9faa7" args="" -->RPMSIGTAG_GPG</em>&nbsp;</td><td>
internal GnuPG signature. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07abf5438c2d5c3e85d660be9588869ad7d"></a><!-- doxytag: member="RPMSIGTAG_PGP5" ref="ggbe4f0a088b351ed92bfcfe2ed863e07abf5438c2d5c3e85d660be9588869ad7d" args="" -->RPMSIGTAG_PGP5</em>&nbsp;</td><td>
internal PGP5 signature <dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000011">Deprecated:</a></b></dt><dd>legacy. </dd></dl>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07ac2542a062d446e7a5b5642feaac2c278"></a><!-- doxytag: member="RPMSIGTAG_PAYLOADSIZE" ref="ggbe4f0a088b351ed92bfcfe2ed863e07ac2542a062d446e7a5b5642feaac2c278" args="" -->RPMSIGTAG_PAYLOADSIZE</em>&nbsp;</td><td>
internal uncompressed payload size (32bit) in bytes. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07aa35edddd0dc76b6026707e221c5adcd4"></a><!-- doxytag: member="RPMSIGTAG_BADSHA1_1" ref="ggbe4f0a088b351ed92bfcfe2ed863e07aa35edddd0dc76b6026707e221c5adcd4" args="" -->RPMSIGTAG_BADSHA1_1</em>&nbsp;</td><td>
internal Broken SHA1, take 1. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07a6144d0f409709c7e1327f23f100da92d"></a><!-- doxytag: member="RPMSIGTAG_BADSHA1_2" ref="ggbe4f0a088b351ed92bfcfe2ed863e07a6144d0f409709c7e1327f23f100da92d" args="" -->RPMSIGTAG_BADSHA1_2</em>&nbsp;</td><td>
internal Broken SHA1, take 2. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07a1f0885c883cbf3c6a56b43378b2abb44"></a><!-- doxytag: member="RPMSIGTAG_SHA1" ref="ggbe4f0a088b351ed92bfcfe2ed863e07a1f0885c883cbf3c6a56b43378b2abb44" args="" -->RPMSIGTAG_SHA1</em>&nbsp;</td><td>
internal sha1 header digest. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07ab52ed4e5aa7d330de398f3e92334d828"></a><!-- doxytag: member="RPMSIGTAG_DSA" ref="ggbe4f0a088b351ed92bfcfe2ed863e07ab52ed4e5aa7d330de398f3e92334d828" args="" -->RPMSIGTAG_DSA</em>&nbsp;</td><td>
internal DSA header signature. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07ad5ce205120582b92319e8e686b7e5886"></a><!-- doxytag: member="RPMSIGTAG_RSA" ref="ggbe4f0a088b351ed92bfcfe2ed863e07ad5ce205120582b92319e8e686b7e5886" args="" -->RPMSIGTAG_RSA</em>&nbsp;</td><td>
internal RSA header signature. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07ae5c6265e0ec5629a451d64093d9def75"></a><!-- doxytag: member="RPMSIGTAG_LONGSIZE" ref="ggbe4f0a088b351ed92bfcfe2ed863e07ae5c6265e0ec5629a451d64093d9def75" args="" -->RPMSIGTAG_LONGSIZE</em>&nbsp;</td><td>
internal Header+Payload size (64bit) in bytes. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ggbe4f0a088b351ed92bfcfe2ed863e07a742a3efd51b17b061bbc981a81c11979"></a><!-- doxytag: member="RPMSIGTAG_LONGARCHIVESIZE" ref="ggbe4f0a088b351ed92bfcfe2ed863e07a742a3efd51b17b061bbc981a81c11979" args="" -->RPMSIGTAG_LONGARCHIVESIZE</em>&nbsp;</td><td>
internal uncompressed payload size (64bit) in bytes. </td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="rpmtag_8h-source.html#l00293">293</a> of file <a class="el" href="rpmtag_8h-source.html">rpmtag.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gfe211addadae046d1ae9b66fe80d6aa9"></a><!-- doxytag: member="rpmlib.h::rpmFreeSignature" ref="gfe211addadae046d1ae9b66fe80d6aa9" args="(Header h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#gcb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> rpmFreeSignature           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gcb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy signature header from package. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>signature header </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>NULL always </dd></dl>

</div>
</div><p>
<a class="anchor" name="ga617aca6bf73fd3d9427974717c828a4"></a><!-- doxytag: member="rpmlib.h::rpmVerifySignature" ref="ga617aca6bf73fd3d9427974717c828a4" args="(rpmKeyring keyring, rpmtd sigtd, pgpDig dig, char **result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#g06da857c39457bfb6ea9049643fdb706">rpmRC</a> rpmVerifySignature           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rpmtypes_8h.html#ca17e1e8702595af21a0840859675440">rpmKeyring</a>&nbsp;</td>
          <td class="paramname"> <em>keyring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrpmtd__s.html">rpmtd</a>&nbsp;</td>
          <td class="paramname"> <em>sigtd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmpgp.html#g86ebfc5fd71a3aa075ddac16b2cba230">pgpDig</a>&nbsp;</td>
          <td class="paramname"> <em>dig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verify a signature from a package. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>keyring</em>&nbsp;</td><td>keyring handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sigtd</em>&nbsp;</td><td>signature tag data container </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dig</em>&nbsp;</td><td>signature/pubkey parameters </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>detailed text result of signature verification (malloc'd) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>result of signature verification </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Dec 17 15:19:11 2008 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
