<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: rpmstring.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>rpmstring.h</h1><a href="rpmstring_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef _RPMSTRING_H_</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define _RPMSTRING_H_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;stddef.h&gt;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;rpm/rpmutil.h&gt;</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00015"></a>00015 <span class="preprocessor">#endif</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span>
<a name="l00020"></a>00020 <a class="code" href="rpmutil_8h.html#42bc7874ff5074aa0aa528838e0bfd91">RPM_GNUC_CONST</a>
<a name="l00021"></a><a class="code" href="group__rpmstring.html#g8949596c31b824ed2ed496572ac4dab2">00021</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="group__rpmstring.html#g8949596c31b824ed2ed496572ac4dab2" title="Locale insensitive islower(3).">rislower</a>(<span class="keywordtype">int</span> c)  {
<a name="l00022"></a>00022     <span class="keywordflow">return</span> (c &gt;= <span class="charliteral">'a'</span> &amp;&amp; c &lt;= <span class="charliteral">'z'</span>);
<a name="l00023"></a>00023 }
<a name="l00024"></a>00024 
<a name="l00028"></a>00028 <a class="code" href="rpmutil_8h.html#42bc7874ff5074aa0aa528838e0bfd91">RPM_GNUC_CONST</a>
<a name="l00029"></a><a class="code" href="group__rpmstring.html#ge41a3473054167af2a5fcb7e94ccb0e6">00029</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="group__rpmstring.html#ge41a3473054167af2a5fcb7e94ccb0e6" title="Locale insensitive isupper(3).">risupper</a>(<span class="keywordtype">int</span> c)  {
<a name="l00030"></a>00030     <span class="keywordflow">return</span> (c &gt;= <span class="charliteral">'A'</span> &amp;&amp; c &lt;= <span class="charliteral">'Z'</span>);
<a name="l00031"></a>00031 }
<a name="l00032"></a>00032 
<a name="l00036"></a>00036 <a class="code" href="rpmutil_8h.html#42bc7874ff5074aa0aa528838e0bfd91">RPM_GNUC_CONST</a>
<a name="l00037"></a><a class="code" href="group__rpmstring.html#g1059066592fc30325257903e37fa9523">00037</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="group__rpmstring.html#g1059066592fc30325257903e37fa9523" title="Locale insensitive isalpha(3).">risalpha</a>(<span class="keywordtype">int</span> c)  {
<a name="l00038"></a>00038     <span class="keywordflow">return</span> (<a class="code" href="group__rpmstring.html#g8949596c31b824ed2ed496572ac4dab2" title="Locale insensitive islower(3).">rislower</a>(c) || <a class="code" href="group__rpmstring.html#ge41a3473054167af2a5fcb7e94ccb0e6" title="Locale insensitive isupper(3).">risupper</a>(c));
<a name="l00039"></a>00039 }
<a name="l00040"></a>00040 
<a name="l00044"></a>00044 <a class="code" href="rpmutil_8h.html#42bc7874ff5074aa0aa528838e0bfd91">RPM_GNUC_CONST</a>
<a name="l00045"></a><a class="code" href="group__rpmstring.html#g1ca7980c13315e4d26207b765ac14838">00045</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="group__rpmstring.html#g1ca7980c13315e4d26207b765ac14838" title="Locale insensitive isdigit(3).">risdigit</a>(<span class="keywordtype">int</span> c)  {
<a name="l00046"></a>00046     <span class="keywordflow">return</span> (c &gt;= <span class="charliteral">'0'</span> &amp;&amp; c &lt;= <span class="charliteral">'9'</span>);
<a name="l00047"></a>00047 }
<a name="l00048"></a>00048 
<a name="l00052"></a>00052 <a class="code" href="rpmutil_8h.html#42bc7874ff5074aa0aa528838e0bfd91">RPM_GNUC_CONST</a>
<a name="l00053"></a><a class="code" href="group__rpmstring.html#gcbd496a4291f832e497c57340bcd555b">00053</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="group__rpmstring.html#gcbd496a4291f832e497c57340bcd555b" title="Locale insensitive isalnum(3).">risalnum</a>(<span class="keywordtype">int</span> c)  {
<a name="l00054"></a>00054     <span class="keywordflow">return</span> (<a class="code" href="group__rpmstring.html#g1059066592fc30325257903e37fa9523" title="Locale insensitive isalpha(3).">risalpha</a>(c) || <a class="code" href="group__rpmstring.html#g1ca7980c13315e4d26207b765ac14838" title="Locale insensitive isdigit(3).">risdigit</a>(c));
<a name="l00055"></a>00055 }
<a name="l00056"></a>00056 
<a name="l00060"></a>00060 <a class="code" href="rpmutil_8h.html#42bc7874ff5074aa0aa528838e0bfd91">RPM_GNUC_CONST</a>
<a name="l00061"></a><a class="code" href="group__rpmstring.html#ge36d2cf663bdc40226c39b1ae69bd941">00061</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="group__rpmstring.html#ge36d2cf663bdc40226c39b1ae69bd941" title="Locale insensitive isblank(3).">risblank</a>(<span class="keywordtype">int</span> c)  {
<a name="l00062"></a>00062     <span class="keywordflow">return</span> (c == <span class="charliteral">' '</span> || c == <span class="charliteral">'\t'</span>);
<a name="l00063"></a>00063 }
<a name="l00064"></a>00064 
<a name="l00068"></a>00068 <a class="code" href="rpmutil_8h.html#42bc7874ff5074aa0aa528838e0bfd91">RPM_GNUC_CONST</a>
<a name="l00069"></a><a class="code" href="group__rpmstring.html#gadacea87fc0dae96728220df85c99d52">00069</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="group__rpmstring.html#gadacea87fc0dae96728220df85c99d52" title="Locale insensitive isspace(3).">risspace</a>(<span class="keywordtype">int</span> c)  {
<a name="l00070"></a>00070     <span class="keywordflow">return</span> (<a class="code" href="group__rpmstring.html#ge36d2cf663bdc40226c39b1ae69bd941" title="Locale insensitive isblank(3).">risblank</a>(c) || c == <span class="charliteral">'\n'</span> || c == <span class="charliteral">'\r'</span> || c == <span class="charliteral">'\f'</span> || c == <span class="charliteral">'\v'</span>);
<a name="l00071"></a>00071 }
<a name="l00072"></a>00072 
<a name="l00076"></a>00076 <a class="code" href="rpmutil_8h.html#42bc7874ff5074aa0aa528838e0bfd91">RPM_GNUC_CONST</a>
<a name="l00077"></a><a class="code" href="group__rpmstring.html#g04226ba0cef6fef56ab42d61744ea3fd">00077</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="group__rpmstring.html#g04226ba0cef6fef56ab42d61744ea3fd" title="Locale insensitive tolower(3).">rtolower</a>(<span class="keywordtype">int</span> c)  {
<a name="l00078"></a>00078     <span class="keywordflow">return</span> ((<a class="code" href="group__rpmstring.html#ge41a3473054167af2a5fcb7e94ccb0e6" title="Locale insensitive isupper(3).">risupper</a>(c)) ? (c | (<span class="charliteral">'a'</span> - <span class="charliteral">'A'</span>)) : c);
<a name="l00079"></a>00079 }
<a name="l00080"></a>00080 
<a name="l00084"></a>00084 <a class="code" href="rpmutil_8h.html#42bc7874ff5074aa0aa528838e0bfd91">RPM_GNUC_CONST</a>
<a name="l00085"></a><a class="code" href="group__rpmstring.html#g0e74fcc0dc27410f5b5dd996468e57b2">00085</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="group__rpmstring.html#g0e74fcc0dc27410f5b5dd996468e57b2" title="Locale insensitive toupper(3).">rtoupper</a>(<span class="keywordtype">int</span> c)  {
<a name="l00086"></a>00086     <span class="keywordflow">return</span> ((<a class="code" href="group__rpmstring.html#g8949596c31b824ed2ed496572ac4dab2" title="Locale insensitive islower(3).">rislower</a>(c)) ? (c &amp; ~(<span class="charliteral">'a'</span> - <span class="charliteral">'A'</span>)) : c);
<a name="l00087"></a>00087 }
<a name="l00088"></a>00088 
<a name="l00094"></a>00094 <a class="code" href="rpmutil_8h.html#42bc7874ff5074aa0aa528838e0bfd91">RPM_GNUC_CONST</a>
<a name="l00095"></a><a class="code" href="rpmstring_8h.html#3b25bcce64eb38e449be58640169c209">00095</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="rpmstring_8h.html#3b25bcce64eb38e449be58640169c209" title="Convert hex to binary nibble.">rnibble</a>(<span class="keywordtype">char</span> c)
<a name="l00096"></a>00096 {
<a name="l00097"></a>00097     <span class="keywordflow">if</span> (c &gt;= <span class="charliteral">'0'</span> &amp;&amp; c &lt;= <span class="charliteral">'9'</span>)
<a name="l00098"></a>00098         <span class="keywordflow">return</span> (c - <span class="charliteral">'0'</span>);
<a name="l00099"></a>00099     <span class="keywordflow">if</span> (c &gt;= <span class="charliteral">'A'</span> &amp;&amp; c &lt;= <span class="charliteral">'F'</span>)
<a name="l00100"></a>00100         <span class="keywordflow">return</span> (c - <span class="charliteral">'A'</span>) + 10;
<a name="l00101"></a>00101     <span class="keywordflow">if</span> (c &gt;= <span class="charliteral">'a'</span> &amp;&amp; c &lt;= <span class="charliteral">'f'</span>)
<a name="l00102"></a>00102         <span class="keywordflow">return</span> (c - <span class="charliteral">'a'</span>) + 10;
<a name="l00103"></a>00103     <span class="keywordflow">return</span> 0;
<a name="l00104"></a>00104 }
<a name="l00105"></a>00105 
<a name="l00109"></a>00109 <a class="code" href="rpmutil_8h.html#a915ed180c0020d54d080555e1f55d8b">RPM_GNUC_PURE</a>
<a name="l00110"></a>00110 <span class="keywordtype">int</span> <a class="code" href="group__rpmstring.html#g6dd6f3c58033734cafc9f54c1ab96b44" title="Locale insensitive strcasecmp(3).">rstrcasecmp</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * s1, <span class="keyword">const</span> <span class="keywordtype">char</span> * s2)               ;
<a name="l00111"></a>00111 
<a name="l00115"></a>00115 <a class="code" href="rpmutil_8h.html#a915ed180c0020d54d080555e1f55d8b">RPM_GNUC_PURE</a>
<a name="l00116"></a>00116 <span class="keywordtype">int</span> <a class="code" href="group__rpmstring.html#ge228682d8efd91160c7c4caaecc29a4e" title="Locale insensitive strncasecmp(3).">rstrncasecmp</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s1, <span class="keyword">const</span> <span class="keywordtype">char</span> * s2, <span class="keywordtype">size_t</span> n)     ;
<a name="l00117"></a>00117 
<a name="l00121"></a>00121 <span class="keywordtype">int</span> <a class="code" href="group__rpmstring.html#gef54821b6f5090df66cb7e99e1e8e3c8" title="asprintf() clone">rasprintf</a>(<span class="keywordtype">char</span> **strp, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...) <a class="code" href="rpmutil_8h.html#fa56337204e88d492c1d951424b0bea5">RPM_GNUC_PRINTF</a>(2, 3);
<a name="l00122"></a>00122 
<a name="l00129"></a>00129 <span class="keywordtype">char</span> *<a class="code" href="group__rpmstring.html#g4ca948f1b9855baa0b62aa630d532095" title="Concatenate two strings with dynamically (re)allocated memory.">rstrcat</a>(<span class="keywordtype">char</span> **dest, const <span class="keywordtype">char</span> *src);
<a name="l00130"></a>00130 
<a name="l00137"></a>00137 <span class="keywordtype">char</span> *<a class="code" href="group__rpmstring.html#ge110db3befa40c8fcd2a15f61786b88b" title="Concatenate multiple strings with dynamically (re)allocated memory.">rstrscat</a>(<span class="keywordtype">char</span> **dest, const <span class="keywordtype">char</span> *arg, ...) <a class="code" href="rpmutil_8h.html#b20b5f4a77194dc7171b2311853db5cd">RPM_GNUC_NULL_TERMINATED</a>;
<a name="l00138"></a>00138 
<a name="l00149"></a>00149 <span class="keywordtype">size_t</span> <a class="code" href="group__rpmstring.html#gb3e83839ca93d0b6d91327881b0658d8" title="strlcpy() clone: Copy src to string dest of size n.">rstrlcpy</a>(<span class="keywordtype">char</span> *dest, const <span class="keywordtype">char</span> *src, <span class="keywordtype">size_t</span> n);
<a name="l00150"></a>00150 
<a name="l00157"></a>00157 <span class="keywordtype">char</span> * <a class="code" href="group__rpmstring.html#gcb9bba8fa14f0abf86beaa9ce03e4e86" title="Remove occurences of trailing character from string.">stripTrailingChar</a>(<span class="keywordtype">char</span> * s, <span class="keywordtype">char</span> c);
<a name="l00158"></a>00158 
<a name="l00161"></a><a class="code" href="group__rpmstring.html#g789b0d7def82dc3acb32484b66e181fd">00161</a> typedef struct StringBufRec *<a class="code" href="group__rpmstring.html#g789b0d7def82dc3acb32484b66e181fd">StringBuf</a>;
<a name="l00162"></a>00162 
<a name="l00165"></a>00165 StringBuf <a class="code" href="group__rpmstring.html#g81038d479995aefad7a0363228ddea2b">newStringBuf</a>(<span class="keywordtype">void</span>);
<a name="l00166"></a>00166 
<a name="l00169"></a>00169 StringBuf <a class="code" href="group__rpmstring.html#gcf01ede3435b2fe3b70562107e3afdf2">freeStringBuf</a>( StringBuf sb);
<a name="l00170"></a>00170 
<a name="l00173"></a>00173 <span class="keywordtype">void</span> <a class="code" href="group__rpmstring.html#g04ed93ce6c830cf942fcbdb94a85da7b">truncStringBuf</a>(StringBuf sb);
<a name="l00174"></a>00174 
<a name="l00177"></a>00177 <span class="keywordtype">char</span> * <a class="code" href="group__rpmstring.html#g441668416f5d264245c2eb6e290b373b">getStringBuf</a>(StringBuf sb);
<a name="l00178"></a>00178 
<a name="l00181"></a>00181 <span class="keywordtype">void</span> <a class="code" href="group__rpmstring.html#gf62514c8179db32c590393e287168e47">stripTrailingBlanksStringBuf</a>(StringBuf sb);
<a name="l00182"></a>00182 
<a name="l00185"></a><a class="code" href="group__rpmstring.html#ge9d81cc09511d1abd0276183253a4e8a">00185</a> <span class="preprocessor">#define appendStringBuf(sb, s)     appendStringBufAux(sb, s, 0)</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span>
<a name="l00189"></a><a class="code" href="group__rpmstring.html#g3d8984ad42a20077c1bf0d9c72471253">00189</a> <span class="preprocessor">#define appendLineStringBuf(sb, s) appendStringBufAux(sb, s, 1)</span>
<a name="l00190"></a>00190 <span class="preprocessor"></span>
<a name="l00193"></a>00193 <span class="keywordtype">void</span> <a class="code" href="group__rpmstring.html#gc8d4f00785727627653c132295fd8c3e">appendStringBufAux</a>(StringBuf sb, <span class="keyword">const</span> <span class="keywordtype">char</span> * s, <span class="keywordtype">int</span> nl);
<a name="l00194"></a>00194 
<a name="l00195"></a>00195 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00196"></a>00196 <span class="preprocessor"></span>}
<a name="l00197"></a>00197 <span class="preprocessor">#endif</span>
<a name="l00198"></a>00198 <span class="preprocessor"></span>
<a name="l00199"></a>00199 <span class="preprocessor">#endif  </span><span class="comment">/* _RPMSTRING_H_ */</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Apr 18 17:12:58 2009 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
