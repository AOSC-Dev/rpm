<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: rpmdb/rpmdb.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul>
</div>
<h1>rpmdb/rpmdb.h</h1><a href="rpmdb_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef H_RPMDB</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define H_RPMDB</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="comment">/*@-bounds@*/</span>
<a name="l00004"></a>00004 
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;assert.h&gt;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include "<a class="code" href="rpmlib_8h.html" title="In Memoriam: Steve Taylor &lt;staylor@redhat.com&gt; was here, now he's not.">rpmlib.h</a>"</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include "<a class="code" href="rpmsw_8h.html">rpmsw.h</a>"</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include "db.h"</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="comment">/*@-exportlocal@*/</span>
<a name="l00016"></a>00016 <span class="comment">/*@unchecked@*/</span>
<a name="l00017"></a>00017 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="poptALL_8c.html#7d80c586e47e4431c591805c88300d2f">_rpmdb_debug</a>;
<a name="l00018"></a>00018 <span class="comment">/*@=exportlocal@*/</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="preprocessor">#ifdef  NOTYET</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00024"></a>00024 <span class="keyword">typedef</span> <span class="comment">/*@abstract@*/</span> <span class="comment">/*@refcounted@*/</span> <span class="keyword">struct </span><a class="code" href="structrpmdb__s.html" title="Describes the collection of index databases used by rpm.">rpmdb_s</a> * <a class="code" href="structrpmdb__s.html" title="Describes the collection of index databases used by rpm.">rpmdb</a>;
<a name="l00025"></a>00025 
<a name="l00029"></a>00029 <span class="keyword">typedef</span> <span class="comment">/*@abstract@*/</span> <span class="keyword">struct </span><a class="code" href="struct__rpmdbMatchIterator.html">_rpmdbMatchIterator</a> * <a class="code" href="struct__rpmdbMatchIterator.html">rpmdbMatchIterator</a>;
<a name="l00030"></a>00030 <span class="preprocessor">#endif</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span>
<a name="l00035"></a><a class="code" href="rpmdb_8h.html#9f434603f55eb2ede2fdb018ae052fac">00035</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="rpmdb_8h.html#9f434603f55eb2ede2fdb018ae052fac" title="Tag value pattern match mode.">rpmMireMode_e</a> {
<a name="l00036"></a><a class="code" href="rpmdb_8h.html#9f434603f55eb2ede2fdb018ae052fac9de87beb76c24c6804785a1370195b0c">00036</a>     <a class="code" href="rpmdb_8h.html#9f434603f55eb2ede2fdb018ae052fac9de87beb76c24c6804785a1370195b0c">RPMMIRE_DEFAULT</a>     = 0,    
<a name="l00037"></a><a class="code" href="rpmdb_8h.html#9f434603f55eb2ede2fdb018ae052fac58ae2128033a0b95e70e603f085a0dcc">00037</a>     <a class="code" href="rpmdb_8h.html#9f434603f55eb2ede2fdb018ae052fac58ae2128033a0b95e70e603f085a0dcc">RPMMIRE_STRCMP</a>      = 1,    
<a name="l00038"></a><a class="code" href="rpmdb_8h.html#9f434603f55eb2ede2fdb018ae052fac8b6e6850a0b46f50e7a47cfa288e4d77">00038</a>     <a class="code" href="rpmdb_8h.html#9f434603f55eb2ede2fdb018ae052fac8b6e6850a0b46f50e7a47cfa288e4d77">RPMMIRE_REGEX</a>       = 2,    
<a name="l00039"></a><a class="code" href="rpmdb_8h.html#9f434603f55eb2ede2fdb018ae052fac67a2480f0de03f4d76cd3bb73b9233c0">00039</a>     <a class="code" href="rpmdb_8h.html#9f434603f55eb2ede2fdb018ae052fac67a2480f0de03f4d76cd3bb73b9233c0">RPMMIRE_GLOB</a>        = 3     
<a name="l00040"></a>00040 } <a class="code" href="rpmdb_8h.html#b569d29d9b8a15daf7ec03834691bdba" title="Tag value pattern match mode.">rpmMireMode</a>;
<a name="l00041"></a>00041 
<a name="l00044"></a><a class="code" href="rpmdb_8h.html#88d74d54cd786b47c13e2ef186b5c8ac">00044</a> <span class="keyword">typedef</span> <span class="comment">/*@abstract@*/</span> <span class="keyword">struct </span><a class="code" href="struct__dbiIndexItem.html" title="A single item from an index database (i.e.">_dbiIndexItem</a> * <a class="code" href="struct__dbiIndexItem.html" title="A single item from an index database (i.e.">dbiIndexItem</a>;
<a name="l00045"></a>00045 
<a name="l00049"></a><a class="code" href="group__rpmdb.html#g91224133bfeeb0e52f9da1d22f531cbc">00049</a> <span class="keyword">typedef</span> <span class="comment">/*@abstract@*/</span> <span class="keyword">struct </span><a class="code" href="struct__dbiIndexSet.html" title="Items retrieved from the index database.">_dbiIndexSet</a> * <a class="code" href="struct__dbiIndexSet.html" title="Items retrieved from the index database.">dbiIndexSet</a>;
<a name="l00050"></a>00050 
<a name="l00053"></a><a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">00053</a> <span class="keyword">typedef</span> <span class="comment">/*@abstract@*/</span> <span class="keyword">struct </span><a class="code" href="struct__dbiIndex.html" title="Describes an index database (implemented on Berkeley db3 functionality).">_dbiIndex</a> * <a class="code" href="struct__dbiIndex.html" title="Describes an index database (implemented on Berkeley db3 functionality).">dbiIndex</a>;
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 <span class="comment">/* this will break if sizeof(int) != 4 */</span>
<a name="l00061"></a><a class="code" href="struct__dbiIndexItem.html">00061</a> <span class="keyword">struct </span><a class="code" href="struct__dbiIndexItem.html" title="A single item from an index database (i.e.">_dbiIndexItem</a> {
<a name="l00062"></a><a class="code" href="struct__dbiIndexItem.html#d06f0d770ded06d4f5b148a5a5a0da1d">00062</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndexItem.html#d06f0d770ded06d4f5b148a5a5a0da1d">hdrNum</a>;                
<a name="l00063"></a><a class="code" href="struct__dbiIndexItem.html#22dc18596dc4488c3158d485940166fd">00063</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndexItem.html#22dc18596dc4488c3158d485940166fd">tagNum</a>;                
<a name="l00064"></a><a class="code" href="struct__dbiIndexItem.html#8323bdd5a808de54666ea8623f52647e">00064</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndexItem.html#8323bdd5a808de54666ea8623f52647e">fpNum</a>;                 
<a name="l00065"></a>00065 };
<a name="l00066"></a>00066 
<a name="l00070"></a><a class="code" href="struct__dbiIndexSet.html">00070</a> <span class="keyword">struct </span><a class="code" href="struct__dbiIndexSet.html" title="Items retrieved from the index database.">_dbiIndexSet</a> {
<a name="l00071"></a><a class="code" href="struct__dbiIndexSet.html#5955142a697cd13b2a9bd626d5b17cb2">00071</a> <span class="comment">/*@owned@*/</span> <span class="keyword">struct </span><a class="code" href="struct__dbiIndexItem.html" title="A single item from an index database (i.e.">_dbiIndexItem</a> * <a class="code" href="struct__dbiIndexSet.html#5955142a697cd13b2a9bd626d5b17cb2">recs</a>; 
<a name="l00072"></a><a class="code" href="struct__dbiIndexSet.html#72464da5baac960f4f991ac4a44d9a4b">00072</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndexSet.html#72464da5baac960f4f991ac4a44d9a4b">count</a>;                          
<a name="l00073"></a>00073 };
<a name="l00074"></a>00074 
<a name="l00078"></a><a class="code" href="struct__dbiVec.html">00078</a> <span class="keyword">struct </span><a class="code" href="struct__dbiVec.html" title="Private methods for accessing an index database.">_dbiVec</a> {
<a name="l00079"></a><a class="code" href="struct__dbiVec.html#864ff547fb8eae8b20c12936f0eee1ed">00079</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiVec.html#864ff547fb8eae8b20c12936f0eee1ed">dbv_major</a>;                      
<a name="l00080"></a><a class="code" href="struct__dbiVec.html#5cb1529a06bd15f6dc4d3be10778b422">00080</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiVec.html#5cb1529a06bd15f6dc4d3be10778b422">dbv_minor</a>;                      
<a name="l00081"></a><a class="code" href="struct__dbiVec.html#a0cfe13ecffe0bbcf3983f679c65ca27">00081</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiVec.html#a0cfe13ecffe0bbcf3983f679c65ca27">dbv_patch</a>;                      
<a name="l00089"></a>00089     int (*<a class="code" href="group__dbi.html#g7a1f2dfdaef5d388ae047cb8b6437f90" title="Return handle for an index database.">open</a>) (<a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a>, <a class="code" href="rpmlib_8h.html#4f08fde948b5511f2a904dc92e39e211">rpmTag</a> rpmtag, <span class="comment">/*@out@*/</span> <a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> * dbip)
<a name="l00090"></a>00090         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00091"></a>00091         <span class="comment">/*@modifies *dbip, fileSystem @*/</span>;
<a name="l00092"></a>00092 
<a name="l00099"></a>00099     int (*<a class="code" href="group__dbi.html#gd842f030327535fa8ae26e3d61e557c1" title="Close index database, and destroy database handle.">close</a>) (<span class="comment">/*@only@*/</span> <a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00100"></a>00100         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00101"></a>00101         <span class="comment">/*@modifies dbi, fileSystem @*/</span>;
<a name="l00102"></a>00102 
<a name="l00109"></a>00109     int (*<a class="code" href="group__dbi.html#gb9475140f86921271cb877c1cf6df4cf" title="Flush pending operations to disk.">sync</a>) (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00110"></a>00110         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00111"></a>00111         <span class="comment">/*@modifies fileSystem @*/</span>;
<a name="l00112"></a>00112 
<a name="l00121"></a>00121     int (*<a class="code" href="group__dbi.html#g31b8af8285c87d667baf4483863a6049" title="Associate secondary database with primary.">associate</a>) (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbisecondary,
<a name="l00122"></a>00122                 int (*callback) (DB *, <span class="keyword">const</span> DBT *, <span class="keyword">const</span> DBT *, DBT *),
<a name="l00123"></a>00123                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00124"></a>00124         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00125"></a>00125         <span class="comment">/*@modifies dbi, fileSystem @*/</span>;
<a name="l00126"></a>00126 
<a name="l00135"></a>00135     int (*<a class="code" href="group__dbi.html#ga3902f3d950c2a0f66687b5e37b7ff6e" title="Return join cursor for list of cursors.">join</a>) (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, DBC ** curslist, <span class="comment">/*@out@*/</span> DBC ** dbcp,
<a name="l00136"></a>00136                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00137"></a>00137         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00138"></a>00138         <span class="comment">/*@modifies dbi, *dbcp, fileSystem @*/</span>;
<a name="l00139"></a>00139 
<a name="l00148"></a>00148     int (*<a class="code" href="group__dbi.html#g9c64c67b38ebc28ff05eef44d91aa93a" title="Open database cursor.">copen</a>) (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="comment">/*@null@*/</span> DB_TXN * txnid,
<a name="l00149"></a>00149                         <span class="comment">/*@out@*/</span> DBC ** dbcp, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dbiflags)
<a name="l00150"></a>00150         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00151"></a>00151         <span class="comment">/*@modifies dbi, *txnid, *dbcp, fileSystem @*/</span>;
<a name="l00152"></a>00152 
<a name="l00160"></a>00160     int (*<a class="code" href="group__dbi.html#g5d5aa579f45a8ebeac4cb7c40b145c78" title="Close database cursor.">cclose</a>) (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="comment">/*@only@*/</span> DBC * dbcursor, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00161"></a>00161         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00162"></a>00162         <span class="comment">/*@modifies dbi, *dbcursor, fileSystem @*/</span>;
<a name="l00163"></a>00163 
<a name="l00172"></a>00172     int (*<a class="code" href="group__dbi.html#g7b90d4c8b7918b35f736f5e045ff15a0" title="Duplicate a database cursor.">cdup</a>) (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, DBC * dbcursor, <span class="comment">/*@out@*/</span> DBC ** dbcp,
<a name="l00173"></a>00173                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00174"></a>00174         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00175"></a>00175         <span class="comment">/*@modifies dbi, *dbcp, fileSystem @*/</span>;
<a name="l00176"></a>00176 
<a name="l00186"></a>00186     int (*<a class="code" href="group__dbi.html#g8b472074b8be06d8e22ae2f679245bd9" title="Delete (key,data) pair(s) using db-&gt;del or dbcursor-&gt;c_del.">cdel</a>) (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="comment">/*@null@*/</span> DBC * dbcursor, DBT * key, DBT * data,
<a name="l00187"></a>00187                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00188"></a>00188         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00189"></a>00189         <span class="comment">/*@modifies *dbcursor, fileSystem @*/</span>;
<a name="l00190"></a>00190 
<a name="l00200"></a>00200     int (*<a class="code" href="group__dbi.html#g47fa3713cd117679f812a66d57ae349a" title="Retrieve (key,data) pair using db-&gt;get or dbcursor-&gt;c_get.">cget</a>) (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="comment">/*@null@*/</span> DBC * dbcursor, DBT * key, DBT * data,
<a name="l00201"></a>00201                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00202"></a>00202         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00203"></a>00203         <span class="comment">/*@modifies *dbcursor, *key, *data, fileSystem @*/</span>;
<a name="l00204"></a>00204 
<a name="l00215"></a>00215     int (*<a class="code" href="group__dbi.html#g606d6dd209058470f3d02aeed5310f5c" title="Retrieve (key,data) pair using dbcursor-&gt;c_pget.">cpget</a>) (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="comment">/*@null@*/</span> DBC * dbcursor,
<a name="l00216"></a>00216                 DBT * key, DBT * pkey, DBT * data, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00217"></a>00217         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00218"></a>00218         <span class="comment">/*@modifies *dbcursor, *key, *pkey, *data, fileSystem @*/</span>;
<a name="l00219"></a>00219 
<a name="l00229"></a>00229     int (*<a class="code" href="group__dbi.html#g79bf895149ec6e4d67c73be507fa44be" title="Store (key,data) pair using db-&gt;put or dbcursor-&gt;c_put.">cput</a>) (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="comment">/*@null@*/</span> DBC * dbcursor, DBT * key, DBT * data,
<a name="l00230"></a>00230                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00231"></a>00231         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00232"></a>00232         <span class="comment">/*@modifies *dbcursor, fileSystem @*/</span>;
<a name="l00233"></a>00233 
<a name="l00242"></a>00242     int (*<a class="code" href="group__dbi.html#g0de8cd5c5b48de5e0a8c378d2f7fdd90" title="Retrieve count of (possible) duplicate items using dbcursor-&gt;c_count.">ccount</a>) (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, DBC * dbcursor,
<a name="l00243"></a>00243                         <span class="comment">/*@out@*/</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> * countp,
<a name="l00244"></a>00244                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00245"></a>00245         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00246"></a>00246         <span class="comment">/*@modifies *dbcursor, fileSystem @*/</span>;
<a name="l00247"></a>00247 
<a name="l00253"></a>00253     int (*<a class="code" href="group__dbi.html#gf79aa0934e2641e3f5ae6c9082c03524" title="Is database byte swapped?">byteswapped</a>) (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi)
<a name="l00254"></a>00254         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00255"></a>00255         <span class="comment">/*@modifies fileSystem @*/</span>;
<a name="l00256"></a>00256 
<a name="l00263"></a>00263     int (*<a class="code" href="group__dbi.html#g6cd19c5bcb6c29c2350193825b0f8786" title="Save statistics in database handle.">stat</a>) (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00264"></a>00264         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00265"></a>00265         <span class="comment">/*@modifies dbi, fileSystem @*/</span>;
<a name="l00266"></a>00266 };
<a name="l00267"></a>00267 
<a name="l00271"></a><a class="code" href="struct__dbiIndex.html">00271</a> <span class="keyword">struct </span><a class="code" href="struct__dbiIndex.html" title="Describes an index database (implemented on Berkeley db3 functionality).">_dbiIndex</a> {
<a name="l00272"></a>00272 <span class="comment">/*@null@*/</span>
<a name="l00273"></a><a class="code" href="struct__dbiIndex.html#9fb059b3ef4644fe6bb0cebcaba1463c">00273</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="struct__dbiIndex.html#9fb059b3ef4644fe6bb0cebcaba1463c">dbi_root</a>;      
<a name="l00274"></a>00274 <span class="comment">/*@null@*/</span>
<a name="l00275"></a><a class="code" href="struct__dbiIndex.html#a5bc27b8172b8749cdd090f5d96108b1">00275</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="struct__dbiIndex.html#a5bc27b8172b8749cdd090f5d96108b1">dbi_home</a>;      
<a name="l00276"></a>00276 <span class="comment">/*@relnull@*/</span>
<a name="l00277"></a><a class="code" href="struct__dbiIndex.html#e6703bd9f2ffa133d0ef9e643f69166c">00277</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="struct__dbiIndex.html#e6703bd9f2ffa133d0ef9e643f69166c">dbi_file</a>;      
<a name="l00278"></a>00278 <span class="comment">/*@relnull@*/</span>
<a name="l00279"></a><a class="code" href="struct__dbiIndex.html#b118c65ba24f23cb78431ac4ca32a680">00279</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="struct__dbiIndex.html#b118c65ba24f23cb78431ac4ca32a680">dbi_subfile</a>;
<a name="l00280"></a>00280 <span class="comment">/*@null@*/</span>
<a name="l00281"></a><a class="code" href="struct__dbiIndex.html#838bcce8eca843cb11e76c3805a618d0">00281</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="struct__dbiIndex.html#838bcce8eca843cb11e76c3805a618d0">dbi_tmpdir</a>;    
<a name="l00283"></a><a class="code" href="struct__dbiIndex.html#66e3137fd59ef2f1b72578e7b550f4eb">00283</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#66e3137fd59ef2f1b72578e7b550f4eb">dbi_ecflags</a>;            
<a name="l00284"></a><a class="code" href="struct__dbiIndex.html#7f4db692c65add62d34be78d4d66a337">00284</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#7f4db692c65add62d34be78d4d66a337">dbi_cflags</a>;             
<a name="l00285"></a><a class="code" href="struct__dbiIndex.html#c3f84aecb958fc1e29ed0212f315d349">00285</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#c3f84aecb958fc1e29ed0212f315d349">dbi_oeflags</a>;            
<a name="l00286"></a><a class="code" href="struct__dbiIndex.html#98e8b6b89ce8b811d90af2bdd9e8935f">00286</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#98e8b6b89ce8b811d90af2bdd9e8935f">dbi_eflags</a>;             
<a name="l00287"></a><a class="code" href="struct__dbiIndex.html#78ee1cf605cc48b8878a82f9791eca7d">00287</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#78ee1cf605cc48b8878a82f9791eca7d">dbi_oflags</a>;             
<a name="l00288"></a><a class="code" href="struct__dbiIndex.html#1bf35a99ca61b5e0f159af32382048ba">00288</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#1bf35a99ca61b5e0f159af32382048ba">dbi_tflags</a>;             
<a name="l00290"></a><a class="code" href="struct__dbiIndex.html#049e07078465e62da0a95be8bc76d35f">00290</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#049e07078465e62da0a95be8bc76d35f">dbi_type</a>;               
<a name="l00291"></a><a class="code" href="struct__dbiIndex.html#747d512952c06a677b209e1212ab3592">00291</a>     <span class="keywordtype">unsigned</span> <a class="code" href="struct__dbiIndex.html#747d512952c06a677b209e1212ab3592">dbi_mode</a>;          
<a name="l00292"></a><a class="code" href="struct__dbiIndex.html#0bc975908d6b6b5e900cdf190ef756b3">00292</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#0bc975908d6b6b5e900cdf190ef756b3">dbi_perms</a>;              
<a name="l00293"></a><a class="code" href="struct__dbiIndex.html#3020799d392a594696976545e77d65c6">00293</a>     <span class="keywordtype">long</span> <a class="code" href="struct__dbiIndex.html#3020799d392a594696976545e77d65c6">dbi_shmkey</a>;            
<a name="l00294"></a><a class="code" href="struct__dbiIndex.html#1d62826d4aa01acba94a89747c0a6df5">00294</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#1d62826d4aa01acba94a89747c0a6df5">dbi_api</a>;                
<a name="l00296"></a><a class="code" href="struct__dbiIndex.html#3808e6aea27034691f70f3ba5c227b72">00296</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#3808e6aea27034691f70f3ba5c227b72">dbi_verify_on_close</a>;
<a name="l00297"></a><a class="code" href="struct__dbiIndex.html#0b46c2e5abc94b58c76a7e891555821a">00297</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#0b46c2e5abc94b58c76a7e891555821a">dbi_use_dbenv</a>;          
<a name="l00298"></a><a class="code" href="struct__dbiIndex.html#4b083db74bd120ba87ff97a8d7f5a951">00298</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#4b083db74bd120ba87ff97a8d7f5a951">dbi_permit_dups</a>;        
<a name="l00299"></a><a class="code" href="struct__dbiIndex.html#5bce5208e5bfb08a6f32bcb7fdf03fb1">00299</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#5bce5208e5bfb08a6f32bcb7fdf03fb1">dbi_no_fsync</a>;           
<a name="l00300"></a><a class="code" href="struct__dbiIndex.html#e78bb4e41f7fadf4f849d4d6782c8d85">00300</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#e78bb4e41f7fadf4f849d4d6782c8d85">dbi_no_dbsync</a>;          
<a name="l00301"></a><a class="code" href="struct__dbiIndex.html#7629ab24cf26169601be13c00c484c38">00301</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#7629ab24cf26169601be13c00c484c38">dbi_lockdbfd</a>;           
<a name="l00302"></a><a class="code" href="struct__dbiIndex.html#ebe13a2f9ad91b3b948560744f111816">00302</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#ebe13a2f9ad91b3b948560744f111816">dbi_temporary</a>;          
<a name="l00303"></a><a class="code" href="struct__dbiIndex.html#f1fcafdb8a9bfb328d0a85de97e7fc62">00303</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#f1fcafdb8a9bfb328d0a85de97e7fc62">dbi_debug</a>;
<a name="l00304"></a><a class="code" href="struct__dbiIndex.html#567a229903ce3bae27b356589483ed1c">00304</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#567a229903ce3bae27b356589483ed1c">dbi_byteswapped</a>;
<a name="l00305"></a>00305 
<a name="l00306"></a>00306 <span class="comment">/*@null@*/</span>
<a name="l00307"></a><a class="code" href="struct__dbiIndex.html#537554fff1d5867ff60d8a32d7940144">00307</a>     <span class="keywordtype">char</span> * <a class="code" href="struct__dbiIndex.html#537554fff1d5867ff60d8a32d7940144">dbi_host</a>;
<a name="l00308"></a><a class="code" href="struct__dbiIndex.html#96816d265488cdc1412302af39dc79b7">00308</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="struct__dbiIndex.html#96816d265488cdc1412302af39dc79b7">dbi_cl_timeout</a>;
<a name="l00309"></a><a class="code" href="struct__dbiIndex.html#7f9fa5e31d85eeca26fee973e9908a6b">00309</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="struct__dbiIndex.html#7f9fa5e31d85eeca26fee973e9908a6b">dbi_sv_timeout</a>;
<a name="l00310"></a>00310 
<a name="l00311"></a>00311         <span class="comment">/* dbenv parameters */</span>
<a name="l00312"></a><a class="code" href="struct__dbiIndex.html#d37e9520bcd06e20c4bb6ecab664f6c7">00312</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#d37e9520bcd06e20c4bb6ecab664f6c7">dbi_lorder</a>;
<a name="l00313"></a>00313 <span class="comment">/*@unused@*/</span>
<a name="l00314"></a>00314     <span class="comment">/* XXX db-4.3.14 adds dbenv as 1st arg. */</span>
<a name="l00315"></a>00315     void (*<a class="code" href="struct__dbiIndex.html#c2d1eb7c3433acca6a3133940571e802">db_errcall</a>) (<span class="keywordtype">void</span> * dbenv, <span class="keyword">const</span> <span class="keywordtype">char</span> *db_errpfx, <span class="keywordtype">char</span> *buffer)
<a name="l00316"></a>00316         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00317"></a>00317         <span class="comment">/*@modifies fileSystem @*/</span>;
<a name="l00318"></a>00318 <span class="comment">/*@unused@*/</span> <span class="comment">/*@shared@*/</span>
<a name="l00319"></a><a class="code" href="struct__dbiIndex.html#15d15f395a43a010a64294dc11004d59">00319</a>     FILE *      <a class="code" href="struct__dbiIndex.html#15d15f395a43a010a64294dc11004d59">dbi_errfile</a>;
<a name="l00320"></a><a class="code" href="struct__dbiIndex.html#95d2a92ae473ff9193a97a9b17bc3223">00320</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="struct__dbiIndex.html#95d2a92ae473ff9193a97a9b17bc3223">dbi_errpfx</a>;
<a name="l00321"></a><a class="code" href="struct__dbiIndex.html#d840f12ba4b51584f7551d3d063cd6d4">00321</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#d840f12ba4b51584f7551d3d063cd6d4">dbi_verbose</a>;
<a name="l00322"></a><a class="code" href="struct__dbiIndex.html#d7aaf667ce96ad9f2973ba98a0456210">00322</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#d7aaf667ce96ad9f2973ba98a0456210">dbi_region_init</a>;
<a name="l00323"></a><a class="code" href="struct__dbiIndex.html#cde6e92b8c8bc8f9e27902b542177fd4">00323</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#cde6e92b8c8bc8f9e27902b542177fd4">dbi_tas_spins</a>;
<a name="l00324"></a>00324         <span class="comment">/* mpool sub-system parameters */</span>
<a name="l00325"></a><a class="code" href="struct__dbiIndex.html#46b3a5346891b021c2d276dd6d648ed5">00325</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#46b3a5346891b021c2d276dd6d648ed5">dbi_mmapsize</a>;   
<a name="l00326"></a><a class="code" href="struct__dbiIndex.html#c41f3a585fbbc6cd240ab49eb4c043b8">00326</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#c41f3a585fbbc6cd240ab49eb4c043b8">dbi_cachesize</a>;  
<a name="l00327"></a>00327         <span class="comment">/* lock sub-system parameters */</span>
<a name="l00328"></a><a class="code" href="struct__dbiIndex.html#7c28ea328cb8a2a4fa83ce5d964f96d5">00328</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#7c28ea328cb8a2a4fa83ce5d964f96d5">dbi_lk_max</a>;
<a name="l00329"></a><a class="code" href="struct__dbiIndex.html#4f97b7e1da72c4d1e43cc1d19dc7444a">00329</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#4f97b7e1da72c4d1e43cc1d19dc7444a">dbi_lk_detect</a>;
<a name="l00330"></a><a class="code" href="struct__dbiIndex.html#60f170f248cb634ca3d069f86ba2017d">00330</a> <span class="comment">/*@unused@*/</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#60f170f248cb634ca3d069f86ba2017d">dbi_lk_nmodes</a>;
<a name="l00331"></a><a class="code" href="struct__dbiIndex.html#919d901c453952637f39d819f5b160b5">00331</a> <span class="comment">/*@unused@*/</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * <a class="code" href="struct__dbiIndex.html#919d901c453952637f39d819f5b160b5">dbi_lk_conflicts</a>;
<a name="l00332"></a>00332         <span class="comment">/* log sub-system parameters */</span>
<a name="l00333"></a><a class="code" href="struct__dbiIndex.html#f80a2bc644b5f217a69df5f4273c906d">00333</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#f80a2bc644b5f217a69df5f4273c906d">dbi_lg_max</a>;
<a name="l00334"></a><a class="code" href="struct__dbiIndex.html#abf24b5ea062a3ceee29a08d141a1807">00334</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#abf24b5ea062a3ceee29a08d141a1807">dbi_lg_bsize</a>;
<a name="l00335"></a>00335         <span class="comment">/* transaction sub-system parameters */</span>
<a name="l00336"></a><a class="code" href="struct__dbiIndex.html#680c1761be68179ac5b6ac6d4c3ae407">00336</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#680c1761be68179ac5b6ac6d4c3ae407">dbi_tx_max</a>;
<a name="l00337"></a>00337 <span class="preprocessor">#if 0</span>
<a name="l00338"></a>00338 <span class="preprocessor"></span>    int (*dbi_tx_recover) (DB_ENV *dbenv, DBT *log_rec,
<a name="l00339"></a>00339                                 DB_LSN *lsnp, <span class="keywordtype">int</span> redo, <span class="keywordtype">void</span> *info)
<a name="l00340"></a>00340         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00341"></a>00341         <span class="comment">/*@modifies fileSystem @*/</span>;
<a name="l00342"></a>00342 <span class="preprocessor">#endif</span>
<a name="l00343"></a>00343 <span class="preprocessor"></span>        <span class="comment">/* dbinfo parameters */</span>
<a name="l00344"></a><a class="code" href="struct__dbiIndex.html#daf5b28f707d50ea409148a79f15c02f">00344</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#daf5b28f707d50ea409148a79f15c02f">dbi_pagesize</a>;           
<a name="l00345"></a>00345 <span class="comment">/*@unused@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00346"></a>00346     <span class="keywordtype">void</span> * (*dbi_malloc) (<span class="keywordtype">size_t</span> nbytes)
<a name="l00347"></a>00347         <span class="comment">/*@*/</span>;
<a name="l00348"></a>00348         <span class="comment">/* hash access parameters */</span>
<a name="l00349"></a><a class="code" href="struct__dbiIndex.html#e15805c477108aba9f0715d4ae88926b">00349</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#e15805c477108aba9f0715d4ae88926b">dbi_h_ffactor</a>; 
<a name="l00350"></a>00350     <span class="keywordtype">unsigned</span> int (*<a class="code" href="struct__dbiIndex.html#ca724ea74af876e73985d516f5c36cbd">dbi_h_hash_fcn</a>) (DB *, <span class="keyword">const</span> <span class="keywordtype">void</span> *bytes,
<a name="l00351"></a>00351                                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length)
<a name="l00352"></a>00352         <span class="comment">/*@*/</span>;
<a name="l00353"></a><a class="code" href="struct__dbiIndex.html#33fc9663b259efa13891ece7a32ae470">00353</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#33fc9663b259efa13891ece7a32ae470">dbi_h_nelem</a>;   
<a name="l00354"></a><a class="code" href="struct__dbiIndex.html#b467ddbecb76543c4029c8662cc881de">00354</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#b467ddbecb76543c4029c8662cc881de">dbi_h_flags</a>;   
<a name="l00355"></a>00355     int (*<a class="code" href="struct__dbiIndex.html#00eb1ec7cb17d7fadf3725657f644911">dbi_h_dup_compare_fcn</a>) (DB *, <span class="keyword">const</span> DBT *, <span class="keyword">const</span> DBT *)
<a name="l00356"></a>00356         <span class="comment">/*@*/</span>;
<a name="l00357"></a>00357         <span class="comment">/* btree access parameters */</span>
<a name="l00358"></a><a class="code" href="struct__dbiIndex.html#3edf9fbfa5b9fa5cbc503398a7ddb22f">00358</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#3edf9fbfa5b9fa5cbc503398a7ddb22f">dbi_bt_flags</a>;
<a name="l00359"></a><a class="code" href="struct__dbiIndex.html#40d69a8fd1d76e97d4638546f4fb3d16">00359</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#40d69a8fd1d76e97d4638546f4fb3d16">dbi_bt_minkey</a>;
<a name="l00360"></a>00360     int (*<a class="code" href="struct__dbiIndex.html#3bb15dc66d3f20e8d02b931da7772f97">dbi_bt_compare_fcn</a>) (DB *, <span class="keyword">const</span> DBT *, <span class="keyword">const</span> DBT *)
<a name="l00361"></a>00361         <span class="comment">/*@*/</span>;
<a name="l00362"></a>00362     int (*<a class="code" href="struct__dbiIndex.html#e18909d9268053263e29c52e5a9c7d07">dbi_bt_dup_compare_fcn</a>) (DB *, <span class="keyword">const</span> DBT *, <span class="keyword">const</span> DBT *)
<a name="l00363"></a>00363         <span class="comment">/*@*/</span>;
<a name="l00364"></a>00364     size_t (*<a class="code" href="struct__dbiIndex.html#7d367670eb97cd43e20cc5511090561d">dbi_bt_prefix_fcn</a>) (DB *, <span class="keyword">const</span> DBT *, <span class="keyword">const</span> DBT *)
<a name="l00365"></a>00365         <span class="comment">/*@*/</span>;
<a name="l00366"></a>00366         <span class="comment">/* recno access parameters */</span>
<a name="l00367"></a><a class="code" href="struct__dbiIndex.html#049e28711ffd72fbf348baa717cc1378">00367</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#049e28711ffd72fbf348baa717cc1378">dbi_re_flags</a>;
<a name="l00368"></a><a class="code" href="struct__dbiIndex.html#f4bff21ecbdcd689e8d1153cc46f9eb3">00368</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#f4bff21ecbdcd689e8d1153cc46f9eb3">dbi_re_delim</a>;
<a name="l00369"></a><a class="code" href="struct__dbiIndex.html#4503e6f32032cb81586ccdbaa133d33a">00369</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#4503e6f32032cb81586ccdbaa133d33a">dbi_re_len</a>;
<a name="l00370"></a><a class="code" href="struct__dbiIndex.html#16e3f9ea4172364ec12d54fb430cdc82">00370</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#16e3f9ea4172364ec12d54fb430cdc82">dbi_re_pad</a>;
<a name="l00371"></a><a class="code" href="struct__dbiIndex.html#35eb2c8c1210337298ca50ad5c5bd134">00371</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="struct__dbiIndex.html#35eb2c8c1210337298ca50ad5c5bd134">dbi_re_source</a>;
<a name="l00372"></a>00372         <span class="comment">/* queue access parameters */</span>
<a name="l00373"></a><a class="code" href="struct__dbiIndex.html#7847e9d60e6457c1b5a698f0602e45fd">00373</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#7847e9d60e6457c1b5a698f0602e45fd">dbi_q_extentsize</a>;
<a name="l00374"></a>00374 
<a name="l00375"></a>00375 <span class="comment">/*@refcounted@*/</span>
<a name="l00376"></a><a class="code" href="struct__dbiIndex.html#aea0e6fc519dd02478d015201851939f">00376</a>     <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> <a class="code" href="struct__dbiIndex.html#aea0e6fc519dd02478d015201851939f">dbi_rpmdb</a>;            
<a name="l00377"></a><a class="code" href="struct__dbiIndex.html#cb535761b5bc49a82906e7612d8500f6">00377</a>     <a class="code" href="rpmlib_8h.html#4f08fde948b5511f2a904dc92e39e211">rpmTag</a> <a class="code" href="struct__dbiIndex.html#cb535761b5bc49a82906e7612d8500f6">dbi_rpmtag</a>;          
<a name="l00378"></a><a class="code" href="struct__dbiIndex.html#b095b945ffc73e9fd5236d2db5be06ae">00378</a>     <span class="keywordtype">int</span> <a class="code" href="struct__dbiIndex.html#b095b945ffc73e9fd5236d2db5be06ae">dbi_jlen</a>;               
<a name="l00380"></a>00380 <span class="comment">/*@only@*/</span><span class="comment">/*@null@*/</span>
<a name="l00381"></a><a class="code" href="struct__dbiIndex.html#952479d86dd8b23b5d4ca60861526681">00381</a>     DB * <a class="code" href="struct__dbiIndex.html#952479d86dd8b23b5d4ca60861526681">dbi_db</a>;                
<a name="l00382"></a>00382 <span class="comment">/*@only@*/</span><span class="comment">/*@null@*/</span>
<a name="l00383"></a><a class="code" href="struct__dbiIndex.html#5b546c99cc39811d503686c614e35542">00383</a>     DB_TXN * <a class="code" href="struct__dbiIndex.html#5b546c99cc39811d503686c614e35542">dbi_txnid</a>;         
<a name="l00384"></a>00384 <span class="comment">/*@only@*/</span><span class="comment">/*@null@*/</span>
<a name="l00385"></a><a class="code" href="struct__dbiIndex.html#38bf4843145b9804cbd4b6b3e52833ab">00385</a>     <span class="keywordtype">void</span> * <a class="code" href="struct__dbiIndex.html#38bf4843145b9804cbd4b6b3e52833ab">dbi_stats</a>;           
<a name="l00387"></a>00387 <span class="comment">/*@observer@*/</span>
<a name="l00388"></a><a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">00388</a>     <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="struct__dbiVec.html" title="Private methods for accessing an index database.">_dbiVec</a> * <a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>;     
<a name="l00390"></a>00390 };
<a name="l00391"></a>00391 
<a name="l00395"></a><a class="code" href="structrpmdb__s.html">00395</a> <span class="keyword">struct </span><a class="code" href="structrpmdb__s.html" title="Describes the collection of index databases used by rpm.">rpmdb_s</a> {
<a name="l00396"></a>00396 <span class="comment">/*@owned@*/</span>
<a name="l00397"></a><a class="code" href="structrpmdb__s.html#6be3312cc9af2964d5c43e2d320e0fd5">00397</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="structrpmdb__s.html#6be3312cc9af2964d5c43e2d320e0fd5">db_root</a>;
<a name="l00398"></a>00398 <span class="comment">/*@owned@*/</span>
<a name="l00399"></a><a class="code" href="structrpmdb__s.html#2d4fdf733a4e4007266d5238190fcacf">00399</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="structrpmdb__s.html#2d4fdf733a4e4007266d5238190fcacf">db_home</a>;
<a name="l00400"></a><a class="code" href="structrpmdb__s.html#7fe085ad968abf746cf9cec2478e6e3a">00400</a>     <span class="keywordtype">int</span>         <a class="code" href="structrpmdb__s.html#7fe085ad968abf746cf9cec2478e6e3a">db_flags</a>;
<a name="l00401"></a><a class="code" href="structrpmdb__s.html#c365620444147a8a1cfc4df4b9ccc68b">00401</a>     <span class="keywordtype">int</span>         <a class="code" href="structrpmdb__s.html#c365620444147a8a1cfc4df4b9ccc68b">db_mode</a>;        
<a name="l00402"></a><a class="code" href="structrpmdb__s.html#367484c1213b6a81a29a67f27323606a">00402</a>     <span class="keywordtype">int</span>         <a class="code" href="structrpmdb__s.html#367484c1213b6a81a29a67f27323606a">db_perms</a>;       
<a name="l00403"></a><a class="code" href="structrpmdb__s.html#e6d27585f0999a87d3fa9630352417ac">00403</a>     <span class="keywordtype">int</span>         <a class="code" href="structrpmdb__s.html#e6d27585f0999a87d3fa9630352417ac">db_api</a>;         
<a name="l00404"></a>00404 <span class="comment">/*@owned@*/</span>
<a name="l00405"></a><a class="code" href="structrpmdb__s.html#66b43d64feea775a064b0e2402818abb">00405</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="structrpmdb__s.html#66b43d64feea775a064b0e2402818abb">db_errpfx</a>;
<a name="l00406"></a><a class="code" href="structrpmdb__s.html#0db7fed79a7f57aab3c7ae5cfb7aea6f">00406</a>     <span class="keywordtype">int</span>         <a class="code" href="structrpmdb__s.html#0db7fed79a7f57aab3c7ae5cfb7aea6f">db_remove_env</a>;
<a name="l00407"></a><a class="code" href="structrpmdb__s.html#97262775465693f500fc989eadf31256">00407</a>     <span class="keywordtype">int</span>         <a class="code" href="structrpmdb__s.html#97262775465693f500fc989eadf31256">db_filter_dups</a>;
<a name="l00408"></a><a class="code" href="structrpmdb__s.html#2d9e314cf947f45842d00096f0e6fcd0">00408</a>     <span class="keywordtype">int</span>         <a class="code" href="structrpmdb__s.html#2d9e314cf947f45842d00096f0e6fcd0">db_chrootDone</a>;  
<a name="l00409"></a>00409     void (*<a class="code" href="structrpmdb__s.html#ddf5aad4019b6623de367b8db10f4c65">db_errcall</a>) (<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structrpmdb__s.html#66b43d64feea775a064b0e2402818abb">db_errpfx</a>, <span class="keywordtype">char</span> *buffer)
<a name="l00410"></a>00410         <span class="comment">/*@*/</span>;
<a name="l00411"></a>00411 <span class="comment">/*@shared@*/</span>
<a name="l00412"></a><a class="code" href="structrpmdb__s.html#fd6ff4c8a6df18a1d86e1cb272e05870">00412</a>     FILE *      <a class="code" href="structrpmdb__s.html#fd6ff4c8a6df18a1d86e1cb272e05870">db_errfile</a>;
<a name="l00413"></a>00413 <span class="comment">/*@only@*/</span>
<a name="l00414"></a>00414     <span class="keywordtype">void</span> * (*db_malloc) (<span class="keywordtype">size_t</span> nbytes)
<a name="l00415"></a>00415         <span class="comment">/*@*/</span>;
<a name="l00416"></a>00416 <span class="comment">/*@only@*/</span>
<a name="l00417"></a>00417     <span class="keywordtype">void</span> * (*db_realloc) (<span class="comment">/*@only@*/</span><span class="comment">/*@null@*/</span> <span class="keywordtype">void</span> * ptr,
<a name="l00418"></a>00418                                                 <span class="keywordtype">size_t</span> nbytes)
<a name="l00419"></a>00419         <span class="comment">/*@*/</span>;
<a name="l00420"></a>00420     void (*<a class="code" href="structrpmdb__s.html#7c7309d5039a27abcedcfcb45384767d">db_free</a>) (<span class="comment">/*@only@*/</span> <span class="keywordtype">void</span> * ptr)
<a name="l00421"></a>00421         <span class="comment">/*@modifies *ptr @*/</span>;
<a name="l00422"></a>00422 <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00423"></a><a class="code" href="structrpmdb__s.html#8402621bd412d40d713946bcbc300e44">00423</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * <a class="code" href="structrpmdb__s.html#8402621bd412d40d713946bcbc300e44">db_bits</a>;    
<a name="l00424"></a><a class="code" href="structrpmdb__s.html#aad481be2b77a1d5ab3fe92a15e2c662">00424</a>     <span class="keywordtype">int</span>         <a class="code" href="structrpmdb__s.html#aad481be2b77a1d5ab3fe92a15e2c662">db_nbits</a>;       
<a name="l00425"></a><a class="code" href="structrpmdb__s.html#05213726f290699a788a205504309ccc">00425</a>     <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a>       <a class="code" href="structrpmdb__s.html#05213726f290699a788a205504309ccc">db_next</a>;
<a name="l00426"></a><a class="code" href="structrpmdb__s.html#780b8911b83405895b9afb3304fbb5b7">00426</a>     <span class="keywordtype">int</span>         <a class="code" href="structrpmdb__s.html#780b8911b83405895b9afb3304fbb5b7">db_opens</a>;
<a name="l00427"></a>00427 <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00428"></a><a class="code" href="structrpmdb__s.html#be623d65bc8bbba2dfa516546b0799cc">00428</a>     <span class="keywordtype">void</span> *      <a class="code" href="structrpmdb__s.html#be623d65bc8bbba2dfa516546b0799cc">db_dbenv</a>;       
<a name="l00429"></a><a class="code" href="structrpmdb__s.html#f384ff24c1ad77884a157451669b6bc9">00429</a>     <span class="keywordtype">int</span>         <a class="code" href="structrpmdb__s.html#f384ff24c1ad77884a157451669b6bc9">db_ndbi</a>;        
<a name="l00430"></a><a class="code" href="structrpmdb__s.html#252ab2820aed6528bb79a311f10e1bab">00430</a>     <a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> * <a class="code" href="structrpmdb__s.html#252ab2820aed6528bb79a311f10e1bab">_dbi</a>;            
<a name="l00432"></a><a class="code" href="structrpmdb__s.html#501696f693b34935c7800a1f13248296">00432</a>     <span class="keyword">struct </span><a class="code" href="structrpmop__s.html" title="Cumulative statistics for an operation.">rpmop_s</a> <a class="code" href="structrpmdb__s.html#501696f693b34935c7800a1f13248296">db_getops</a>;
<a name="l00433"></a><a class="code" href="structrpmdb__s.html#e0a0cd08030d4be7740990b1c7c87a2d">00433</a>     <span class="keyword">struct </span><a class="code" href="structrpmop__s.html" title="Cumulative statistics for an operation.">rpmop_s</a> <a class="code" href="structrpmdb__s.html#e0a0cd08030d4be7740990b1c7c87a2d">db_putops</a>;
<a name="l00434"></a><a class="code" href="structrpmdb__s.html#51a9c3b4e8dced275d3d1c11f4cea657">00434</a>     <span class="keyword">struct </span><a class="code" href="structrpmop__s.html" title="Cumulative statistics for an operation.">rpmop_s</a> <a class="code" href="structrpmdb__s.html#51a9c3b4e8dced275d3d1c11f4cea657">db_delops</a>;
<a name="l00435"></a>00435 
<a name="l00436"></a>00436 <span class="comment">/*@refs@*/</span>
<a name="l00437"></a><a class="code" href="structrpmdb__s.html#db71790d69a44162a83c4d5946d3e4f0">00437</a>     <span class="keywordtype">int</span> <a class="code" href="structrpmdb__s.html#db71790d69a44162a83c4d5946d3e4f0">nrefs</a>;                  
<a name="l00438"></a>00438 };
<a name="l00439"></a>00439 
<a name="l00440"></a>00440 <span class="comment">/* for RPM's internal use only */</span>
<a name="l00441"></a>00441 
<a name="l00444"></a><a class="code" href="group__rpmdb.html#gbabc5c19e980e272eef3674013cdf7bf">00444</a> <span class="keyword">enum</span> <a class="code" href="group__rpmdb.html#gbabc5c19e980e272eef3674013cdf7bf">rpmdbFlags</a> {
<a name="l00445"></a><a class="code" href="group__rpmdb.html#ggbabc5c19e980e272eef3674013cdf7bf1b1fbb11b77201baf60c0725cf37d09d">00445</a>         <a class="code" href="group__rpmdb.html#ggbabc5c19e980e272eef3674013cdf7bf1b1fbb11b77201baf60c0725cf37d09d">RPMDB_FLAG_JUSTCHECK</a>    = (1 &lt;&lt; 0),
<a name="l00446"></a><a class="code" href="group__rpmdb.html#ggbabc5c19e980e272eef3674013cdf7bfde00da5bfb4d0281d5b20a2a6c9f82e9">00446</a>         <a class="code" href="group__rpmdb.html#ggbabc5c19e980e272eef3674013cdf7bfde00da5bfb4d0281d5b20a2a6c9f82e9">RPMDB_FLAG_MINIMAL</a>      = (1 &lt;&lt; 1),
<a name="l00447"></a>00447 <span class="comment">/*@-enummemuse@*/</span>
<a name="l00448"></a><a class="code" href="group__rpmdb.html#ggbabc5c19e980e272eef3674013cdf7bf05063c3ee598eaab210db063baa34ce1">00448</a>         <a class="code" href="group__rpmdb.html#ggbabc5c19e980e272eef3674013cdf7bf05063c3ee598eaab210db063baa34ce1">RPMDB_FLAG_CHROOT</a>       = (1 &lt;&lt; 2)
<a name="l00449"></a>00449 <span class="comment">/*@=enummemuse@*/</span>
<a name="l00450"></a>00450 };
<a name="l00451"></a>00451 
<a name="l00452"></a>00452 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00453"></a>00453 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00454"></a>00454 <span class="preprocessor">#endif</span>
<a name="l00455"></a>00455 <span class="preprocessor"></span>
<a name="l00456"></a>00456 <span class="comment">/*@-exportlocal@*/</span>
<a name="l00463"></a>00463 <span class="comment">/*@unused@*/</span> <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00464"></a>00464 <a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> <a class="code" href="group__db3.html#g2402a650a769a0c8eaa615731e232df4" title="Return new configured index database handle instance.">db3New</a>(<a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a>, <a class="code" href="rpmlib_8h.html#4f08fde948b5511f2a904dc92e39e211">rpmTag</a> rpmtag)
<a name="l00465"></a>00465         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno @*/</span>
<a name="l00466"></a>00466         <span class="comment">/*@modifies rpmGlobalMacroContext @*/</span>;
<a name="l00467"></a>00467 
<a name="l00473"></a>00473 <span class="comment">/*@null@*/</span>
<a name="l00474"></a>00474 <a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> <a class="code" href="group__db3.html#g52fcac2ed3a11318fd040acaed2b9a4b" title="Destroy index database handle instance.">db3Free</a>( <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span> <a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi)
<a name="l00475"></a>00475         <span class="comment">/*@*/</span>;
<a name="l00476"></a>00476 
<a name="l00483"></a>00483 <span class="comment">/*@-redecl@*/</span>
<a name="l00484"></a>00484 <span class="comment">/*@exposed@*/</span>
<a name="l00485"></a>00485 <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> <a class="code" href="group__db3.html#g43d35045f4af9bbe0c96287029781481" title="Format db3 open flags for debugging print.">prDbiOpenFlags</a>(<span class="keywordtype">int</span> dbflags, <span class="keywordtype">int</span> print_dbenv_flags)
<a name="l00486"></a>00486         <span class="comment">/*@*/</span>;
<a name="l00487"></a>00487 <span class="comment">/*@=redecl@*/</span>
<a name="l00488"></a>00488 
<a name="l00496"></a>00496 <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span> <a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> <a class="code" href="group__dbi.html#g7aebb877dde5a616c8b255a862e0a218" title="Return handle for an index database.">dbiOpen</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> db, <a class="code" href="rpmlib_8h.html#4f08fde948b5511f2a904dc92e39e211">rpmTag</a> rpmtag,
<a name="l00497"></a>00497                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00498"></a>00498         <span class="comment">/*@globals rpmGlobalMacroContext, errno, h_errno @*/</span>
<a name="l00499"></a>00499         <span class="comment">/*@modifies db, rpmGlobalMacroContext, errno @*/</span>;
<a name="l00500"></a>00500 
<a name="l00501"></a>00501 <span class="comment">/*@-globuse -mustmod @*/</span> <span class="comment">/* FIX: vector annotations */</span>
<a name="l00510"></a>00510 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00511"></a><a class="code" href="group__dbi.html#gf56895ef3b2bdd09ffb72edc4ed4b973">00511</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#gf56895ef3b2bdd09ffb72edc4ed4b973" title="Open a database cursor.">dbiCopen</a>(<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="comment">/*@null@*/</span> DB_TXN * txnid,
<a name="l00512"></a>00512                 <span class="comment">/*@out@*/</span> DBC ** dbcp, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00513"></a>00513         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00514"></a>00514         <span class="comment">/*@modifies dbi, *dbcp, fileSystem @*/</span>
<a name="l00515"></a>00515 {
<a name="l00516"></a>00516     <span class="keywordflow">return</span> (*dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#g9c64c67b38ebc28ff05eef44d91aa93a" title="Open database cursor.">copen</a>) (dbi, txnid, dbcp, flags);
<a name="l00517"></a>00517 }
<a name="l00518"></a>00518 
<a name="l00526"></a>00526 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00527"></a><a class="code" href="group__dbi.html#g35dd0588a90ec416441aebcf19fae218">00527</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#g35dd0588a90ec416441aebcf19fae218" title="Close a database cursor.">dbiCclose</a>(<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="comment">/*@only@*/</span> DBC * dbcursor, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00528"></a>00528         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00529"></a>00529         <span class="comment">/*@modifies dbi, *dbcursor, fileSystem @*/</span>
<a name="l00530"></a>00530 {
<a name="l00531"></a>00531     <span class="keywordflow">return</span> (*dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#g5d5aa579f45a8ebeac4cb7c40b145c78" title="Close database cursor.">cclose</a>) (dbi, dbcursor, flags);
<a name="l00532"></a>00532 }
<a name="l00533"></a>00533 
<a name="l00542"></a>00542 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00543"></a><a class="code" href="group__dbi.html#gce7a3cbe52b48ffe92ebed9b8a619004">00543</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#gce7a3cbe52b48ffe92ebed9b8a619004" title="Duplicate a database cursor.">dbiCdup</a>(<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, DBC * dbcursor, <span class="comment">/*@out@*/</span> DBC ** dbcp,
<a name="l00544"></a>00544                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00545"></a>00545         <span class="comment">/*@modifies dbi, *dbcp @*/</span>
<a name="l00546"></a>00546 {
<a name="l00547"></a>00547     <span class="keywordflow">return</span> (*dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#g7b90d4c8b7918b35f736f5e045ff15a0" title="Duplicate a database cursor.">cdup</a>) (dbi, dbcursor, dbcp, flags);
<a name="l00548"></a>00548 }
<a name="l00549"></a>00549 
<a name="l00559"></a>00559 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00560"></a><a class="code" href="group__dbi.html#g32b2e25405307b086ade0213ea3a7ffc">00560</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#g32b2e25405307b086ade0213ea3a7ffc" title="Delete (key,data) pair(s) from index database.">dbiDel</a>(<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="comment">/*@null@*/</span> DBC * dbcursor, DBT * key, DBT * data,
<a name="l00561"></a>00561                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00562"></a>00562         <span class="comment">/*@globals fileSystem, internalState @*/</span>
<a name="l00563"></a>00563         <span class="comment">/*@modifies dbi, *dbcursor, fileSystem, internalState @*/</span>
<a name="l00564"></a>00564 {
<a name="l00565"></a>00565     <span class="keywordtype">int</span> rc;
<a name="l00566"></a>00566     assert(key-&gt;data != NULL &amp;&amp; key-&gt;size &gt; 0);
<a name="l00567"></a>00567     (void) <a class="code" href="group__rpmio.html#g9210749af5d0961362731749a5191941" title="Enter timed operation.">rpmswEnter</a>(&amp;dbi-&gt;<a class="code" href="struct__dbiIndex.html#aea0e6fc519dd02478d015201851939f">dbi_rpmdb</a>-&gt;<a class="code" href="structrpmdb__s.html#51a9c3b4e8dced275d3d1c11f4cea657">db_delops</a>, 0);
<a name="l00568"></a>00568     rc = (dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#g8b472074b8be06d8e22ae2f679245bd9" title="Delete (key,data) pair(s) using db-&gt;del or dbcursor-&gt;c_del.">cdel</a>) (dbi, dbcursor, key, data, flags);
<a name="l00569"></a>00569     (void) <a class="code" href="group__rpmio.html#gf13ffdcd889ba29669274d4e3aabd5c6" title="Exit timed operation.">rpmswExit</a>(&amp;dbi-&gt;<a class="code" href="struct__dbiIndex.html#aea0e6fc519dd02478d015201851939f">dbi_rpmdb</a>-&gt;<a class="code" href="structrpmdb__s.html#51a9c3b4e8dced275d3d1c11f4cea657">db_delops</a>, data-&gt;size);
<a name="l00570"></a>00570     <span class="keywordflow">return</span> rc;
<a name="l00571"></a>00571 }
<a name="l00572"></a>00572 
<a name="l00582"></a>00582 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00583"></a><a class="code" href="group__dbi.html#gcbe37e363d7fc7fd9ee310878678aa25">00583</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#gcbe37e363d7fc7fd9ee310878678aa25" title="Retrieve (key,data) pair from index database.">dbiGet</a>(<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="comment">/*@null@*/</span> DBC * dbcursor, DBT * key, DBT * data,
<a name="l00584"></a>00584                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00585"></a>00585         <span class="comment">/*@globals fileSystem, internalState @*/</span>
<a name="l00586"></a>00586         <span class="comment">/*@modifies dbi, *dbcursor, *key, *data, fileSystem, internalState @*/</span>
<a name="l00587"></a>00587 {
<a name="l00588"></a>00588     <span class="keywordtype">int</span> rc;
<a name="l00589"></a>00589     assert((flags == DB_NEXT) || (key-&gt;data != NULL &amp;&amp; key-&gt;size &gt; 0));
<a name="l00590"></a>00590     (void) <a class="code" href="group__rpmio.html#g9210749af5d0961362731749a5191941" title="Enter timed operation.">rpmswEnter</a>(&amp;dbi-&gt;<a class="code" href="struct__dbiIndex.html#aea0e6fc519dd02478d015201851939f">dbi_rpmdb</a>-&gt;<a class="code" href="structrpmdb__s.html#501696f693b34935c7800a1f13248296">db_getops</a>, 0);
<a name="l00591"></a>00591     rc = (dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#g47fa3713cd117679f812a66d57ae349a" title="Retrieve (key,data) pair using db-&gt;get or dbcursor-&gt;c_get.">cget</a>) (dbi, dbcursor, key, data, flags);
<a name="l00592"></a>00592     (void) <a class="code" href="group__rpmio.html#gf13ffdcd889ba29669274d4e3aabd5c6" title="Exit timed operation.">rpmswExit</a>(&amp;dbi-&gt;<a class="code" href="struct__dbiIndex.html#aea0e6fc519dd02478d015201851939f">dbi_rpmdb</a>-&gt;<a class="code" href="structrpmdb__s.html#501696f693b34935c7800a1f13248296">db_getops</a>, data-&gt;size);
<a name="l00593"></a>00593     <span class="keywordflow">return</span> rc;
<a name="l00594"></a>00594 }
<a name="l00595"></a>00595 
<a name="l00606"></a>00606 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00607"></a><a class="code" href="group__dbi.html#g934b13c93c3572494c178e5a9b6f68df">00607</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#g934b13c93c3572494c178e5a9b6f68df" title="Retrieve (key,data) pair using dbcursor-&gt;c_pget.">dbiPget</a>(<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="comment">/*@null@*/</span> DBC * dbcursor,
<a name="l00608"></a>00608                 DBT * key, DBT * pkey, DBT * data, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00609"></a>00609         <span class="comment">/*@globals fileSystem, internalState @*/</span>
<a name="l00610"></a>00610         <span class="comment">/*@modifies dbi, *dbcursor, *key, *pkey, *data, fileSystem, internalState @*/</span>
<a name="l00611"></a>00611 {
<a name="l00612"></a>00612     <span class="keywordtype">int</span> rc;
<a name="l00613"></a>00613     assert((flags == DB_NEXT) || (key-&gt;data != NULL &amp;&amp; key-&gt;size &gt; 0));
<a name="l00614"></a>00614     (void) <a class="code" href="group__rpmio.html#g9210749af5d0961362731749a5191941" title="Enter timed operation.">rpmswEnter</a>(&amp;dbi-&gt;<a class="code" href="struct__dbiIndex.html#aea0e6fc519dd02478d015201851939f">dbi_rpmdb</a>-&gt;<a class="code" href="structrpmdb__s.html#501696f693b34935c7800a1f13248296">db_getops</a>, 0);
<a name="l00615"></a>00615     rc = (dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#g606d6dd209058470f3d02aeed5310f5c" title="Retrieve (key,data) pair using dbcursor-&gt;c_pget.">cpget</a>) (dbi, dbcursor, key, pkey, data, flags);
<a name="l00616"></a>00616     (void) <a class="code" href="group__rpmio.html#gf13ffdcd889ba29669274d4e3aabd5c6" title="Exit timed operation.">rpmswExit</a>(&amp;dbi-&gt;<a class="code" href="struct__dbiIndex.html#aea0e6fc519dd02478d015201851939f">dbi_rpmdb</a>-&gt;<a class="code" href="structrpmdb__s.html#501696f693b34935c7800a1f13248296">db_getops</a>, data-&gt;size);
<a name="l00617"></a>00617     <span class="keywordflow">return</span> rc;
<a name="l00618"></a>00618 }
<a name="l00619"></a>00619 
<a name="l00629"></a>00629 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00630"></a><a class="code" href="group__dbi.html#g41b575585220c550822a4632ca5fea78">00630</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#g41b575585220c550822a4632ca5fea78" title="Store (key,data) pair in index database.">dbiPut</a>(<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="comment">/*@null@*/</span> DBC * dbcursor, DBT * key, DBT * data,
<a name="l00631"></a>00631                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00632"></a>00632         <span class="comment">/*@globals fileSystem, internalState @*/</span>
<a name="l00633"></a>00633         <span class="comment">/*@modifies dbi, *dbcursor, *key, fileSystem, internalState @*/</span>
<a name="l00634"></a>00634 {
<a name="l00635"></a>00635     <span class="keywordtype">int</span> rc;
<a name="l00636"></a>00636     assert(key-&gt;data != NULL &amp;&amp; key-&gt;size &gt; 0 &amp;&amp; data-&gt;data != NULL &amp;&amp; data-&gt;size &gt; 0);
<a name="l00637"></a>00637     (void) <a class="code" href="group__rpmio.html#g9210749af5d0961362731749a5191941" title="Enter timed operation.">rpmswEnter</a>(&amp;dbi-&gt;<a class="code" href="struct__dbiIndex.html#aea0e6fc519dd02478d015201851939f">dbi_rpmdb</a>-&gt;<a class="code" href="structrpmdb__s.html#e0a0cd08030d4be7740990b1c7c87a2d">db_putops</a>, 0);
<a name="l00638"></a>00638     rc = (dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#g79bf895149ec6e4d67c73be507fa44be" title="Store (key,data) pair using db-&gt;put or dbcursor-&gt;c_put.">cput</a>) (dbi, dbcursor, key, data, flags);
<a name="l00639"></a>00639     (void) <a class="code" href="group__rpmio.html#gf13ffdcd889ba29669274d4e3aabd5c6" title="Exit timed operation.">rpmswExit</a>(&amp;dbi-&gt;<a class="code" href="struct__dbiIndex.html#aea0e6fc519dd02478d015201851939f">dbi_rpmdb</a>-&gt;<a class="code" href="structrpmdb__s.html#e0a0cd08030d4be7740990b1c7c87a2d">db_putops</a>, data-&gt;size);
<a name="l00640"></a>00640     <span class="keywordflow">return</span> rc;
<a name="l00641"></a>00641 }
<a name="l00642"></a>00642 
<a name="l00651"></a>00651 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00652"></a><a class="code" href="group__dbi.html#ga397c461125aa0069674a78a627fad08">00652</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#ga397c461125aa0069674a78a627fad08" title="Retrieve count of (possible) duplicate items.">dbiCount</a>(<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, DBC * dbcursor, <span class="comment">/*@out@*/</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> * countp,
<a name="l00653"></a>00653                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00654"></a>00654         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00655"></a>00655         <span class="comment">/*@modifies *dbcursor, fileSystem @*/</span>
<a name="l00656"></a>00656 {
<a name="l00657"></a>00657     <span class="keywordflow">return</span> (*dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#g0de8cd5c5b48de5e0a8c378d2f7fdd90" title="Retrieve count of (possible) duplicate items using dbcursor-&gt;c_count.">ccount</a>) (dbi, dbcursor, countp, flags);
<a name="l00658"></a>00658 }
<a name="l00659"></a>00659 
<a name="l00666"></a>00666 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00667"></a><a class="code" href="group__dbi.html#g66f3d8eb97df1328869be7f1dab92d2a">00667</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#g66f3d8eb97df1328869be7f1dab92d2a" title="Verify (and close) index database.">dbiVerify</a>(<span class="comment">/*@only@*/</span> <a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00668"></a>00668         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00669"></a>00669         <span class="comment">/*@modifies dbi, fileSystem @*/</span>
<a name="l00670"></a>00670 {
<a name="l00671"></a>00671     dbi-&gt;<a class="code" href="struct__dbiIndex.html#3808e6aea27034691f70f3ba5c227b72">dbi_verify_on_close</a> = 1;
<a name="l00672"></a>00672     <span class="keywordflow">return</span> (*dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#gd842f030327535fa8ae26e3d61e557c1" title="Close index database, and destroy database handle.">close</a>) (dbi, flags);
<a name="l00673"></a>00673 }
<a name="l00674"></a>00674 
<a name="l00681"></a>00681 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00682"></a><a class="code" href="group__dbi.html#g90094d956f25580bbe22f79a14f007fb">00682</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#g90094d956f25580bbe22f79a14f007fb" title="Close index database.">dbiClose</a>(<span class="comment">/*@only@*/</span> <a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00683"></a>00683         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00684"></a>00684         <span class="comment">/*@modifies dbi, fileSystem @*/</span>
<a name="l00685"></a>00685 {
<a name="l00686"></a>00686     <span class="keywordflow">return</span> (*dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#gd842f030327535fa8ae26e3d61e557c1" title="Close index database, and destroy database handle.">close</a>) (dbi, flags);
<a name="l00687"></a>00687 }
<a name="l00688"></a>00688 
<a name="l00695"></a>00695 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00696"></a><a class="code" href="group__dbi.html#gfeb1e3c5b45188b129d6d2ec7295cdf4">00696</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#gfeb1e3c5b45188b129d6d2ec7295cdf4" title="Flush pending operations to disk.">dbiSync</a> (<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00697"></a>00697         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00698"></a>00698         <span class="comment">/*@modifies fileSystem @*/</span>
<a name="l00699"></a>00699 {
<a name="l00700"></a>00700     <span class="keywordflow">return</span> (*dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#gb9475140f86921271cb877c1cf6df4cf" title="Flush pending operations to disk.">sync</a>) (dbi, flags);
<a name="l00701"></a>00701 }
<a name="l00702"></a>00702 
<a name="l00711"></a>00711 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00712"></a><a class="code" href="group__dbi.html#gacbc31f535529db19f56a19bb3cee77a">00712</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#gacbc31f535529db19f56a19bb3cee77a" title="Associate secondary database with primary.">dbiAssociate</a>(<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbisecondary,
<a name="l00713"></a>00713                 <span class="keywordtype">int</span> (*callback) (DB *, <span class="keyword">const</span> DBT *, <span class="keyword">const</span> DBT *, DBT *),
<a name="l00714"></a>00714                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00715"></a>00715         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00716"></a>00716         <span class="comment">/*@modifies dbi, fileSystem @*/</span>
<a name="l00717"></a>00717 {
<a name="l00718"></a>00718     <span class="keywordflow">return</span> (*dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#g31b8af8285c87d667baf4483863a6049" title="Associate secondary database with primary.">associate</a>) (dbi, dbisecondary, callback, flags);
<a name="l00719"></a>00719 }
<a name="l00720"></a>00720 
<a name="l00729"></a>00729 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00730"></a><a class="code" href="group__dbi.html#g60c779f47dd9ff31cf7a7cc0bc6d1a3d">00730</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#g60c779f47dd9ff31cf7a7cc0bc6d1a3d" title="Return join cursor for list of cursors.">dbiJoin</a>(<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, DBC ** curslist, <span class="comment">/*@out@*/</span> DBC ** dbcp,
<a name="l00731"></a>00731                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00732"></a>00732         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00733"></a>00733         <span class="comment">/*@modifies dbi, *dbcp, fileSystem @*/</span>
<a name="l00734"></a>00734 {
<a name="l00735"></a>00735     <span class="keywordflow">return</span> (*dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#ga3902f3d950c2a0f66687b5e37b7ff6e" title="Return join cursor for list of cursors.">join</a>) (dbi, curslist, dbcp, flags);
<a name="l00736"></a>00736 }
<a name="l00737"></a>00737 
<a name="l00743"></a>00743 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00744"></a><a class="code" href="group__dbi.html#g2cc2bf968c4da799b75fd04265f34b3e">00744</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#g2cc2bf968c4da799b75fd04265f34b3e" title="Is database byte swapped?">dbiByteSwapped</a>(<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi)
<a name="l00745"></a>00745         <span class="comment">/*@modifies dbi @*/</span>
<a name="l00746"></a>00746 {
<a name="l00747"></a>00747     <span class="keywordflow">if</span> (dbi-&gt;<a class="code" href="struct__dbiIndex.html#567a229903ce3bae27b356589483ed1c">dbi_byteswapped</a> == -1)
<a name="l00748"></a>00748         dbi-&gt;<a class="code" href="struct__dbiIndex.html#567a229903ce3bae27b356589483ed1c">dbi_byteswapped</a> = (*dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#gf79aa0934e2641e3f5ae6c9082c03524" title="Is database byte swapped?">byteswapped</a>) (dbi);
<a name="l00749"></a>00749     <span class="keywordflow">return</span> dbi-&gt;<a class="code" href="struct__dbiIndex.html#567a229903ce3bae27b356589483ed1c">dbi_byteswapped</a>;
<a name="l00750"></a>00750 }
<a name="l00757"></a>00757 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span>
<a name="l00758"></a><a class="code" href="group__dbi.html#g3a9d38118d5d01c68eb53799b84cc590">00758</a> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#g3a9d38118d5d01c68eb53799b84cc590" title="Is database byte swapped?">dbiStat</a>(<a class="code" href="rpmdb_8h.html#de060c7ecca71b94a51d7865b4277806">dbiIndex</a> dbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags)
<a name="l00759"></a>00759         <span class="comment">/*@modifies dbi @*/</span>
<a name="l00760"></a>00760 {
<a name="l00761"></a>00761     <span class="keywordflow">return</span> (*dbi-&gt;<a class="code" href="struct__dbiIndex.html#34d350d6c0222a3434cb5fb787e2fc46">dbi_vec</a>-&gt;<a class="code" href="group__dbi.html#g6cd19c5bcb6c29c2350193825b0f8786" title="Save statistics in database handle.">stat</a>) (dbi, flags);
<a name="l00762"></a>00762 }
<a name="l00763"></a>00763 <span class="comment">/*@=globuse =mustmod @*/</span>
<a name="l00764"></a>00764 
<a name="l00765"></a>00765 <span class="comment">/*@=exportlocal@*/</span>
<a name="l00766"></a>00766 
<a name="l00769"></a>00769 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#gdaf67ee2dc1406454c82217f2aeaf906">rpmdbGetIteratorFileNum</a>(<a class="code" href="group__rpmdb.html#g78095e799d15f45a3a744836fdb5ff09" title="Database iterator.">rpmdbMatchIterator</a> mi)
<a name="l00770"></a>00770         <span class="comment">/*@*/</span>;
<a name="l00771"></a>00771 
<a name="l00777"></a>00777 <span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#g91224133bfeeb0e52f9da1d22f531cbc" title="A single element (i.e.">dbiIndexSet</a> <a class="code" href="group__dbi.html#ga7f425928845183e0025747724ed8037" title="Destroy set of index database items.">dbiFreeIndexSet</a>(<span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#g91224133bfeeb0e52f9da1d22f531cbc" title="A single element (i.e.">dbiIndexSet</a> <span class="keyword">set</span>)
<a name="l00778"></a>00778         <span class="comment">/*@modifies set @*/</span>;
<a name="l00779"></a>00779 
<a name="l00785"></a>00785 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#g547d2b653d5fb9e4d4b29e6576a0bca6" title="Count items in index database set.">dbiIndexSetCount</a>(<a class="code" href="group__rpmdb.html#g91224133bfeeb0e52f9da1d22f531cbc" title="A single element (i.e.">dbiIndexSet</a> <span class="keyword">set</span>)
<a name="l00786"></a>00786         <span class="comment">/*@*/</span>;
<a name="l00787"></a>00787 
<a name="l00794"></a>00794 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#gfccbec437a59277ba23b17eb4078f866" title="Return record offset of header from element in index database set.">dbiIndexRecordOffset</a>(<a class="code" href="group__rpmdb.html#g91224133bfeeb0e52f9da1d22f531cbc" title="A single element (i.e.">dbiIndexSet</a> <span class="keyword">set</span>, <span class="keywordtype">int</span> recno)
<a name="l00795"></a>00795         <span class="comment">/*@*/</span>;
<a name="l00796"></a>00796 
<a name="l00803"></a>00803 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__dbi.html#g39bb5cd962575cff233edf026919c72c" title="Return file index from element in index database set.">dbiIndexRecordFileNumber</a>(<a class="code" href="group__rpmdb.html#g91224133bfeeb0e52f9da1d22f531cbc" title="A single element (i.e.">dbiIndexSet</a> <span class="keyword">set</span>, <span class="keywordtype">int</span> recno)
<a name="l00804"></a>00804         <span class="comment">/*@*/</span>;
<a name="l00805"></a>00805 
<a name="l00809"></a>00809 <span class="comment">/*@-exportlocal@*/</span>
<a name="l00810"></a>00810 <span class="comment">/*@unchecked@*/</span>
<a name="l00811"></a>00811 <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span> <span class="keyword">extern</span> <span class="keywordtype">int</span> * <a class="code" href="group__rpmdb.html#gaa38ed50d0d140f2f3423b8d65df36b1" title="Tags for which rpmdb indices will be built.">dbiTags</a>;
<a name="l00812"></a>00812 <span class="comment">/*@unchecked@*/</span>
<a name="l00813"></a>00813 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="rpmdb_8c.html#45ea69e342dc9781f9b1d3322cfd8d0b">dbiTagsMax</a>;
<a name="l00814"></a>00814 <span class="comment">/*@=exportlocal@*/</span>
<a name="l00815"></a>00815 
<a name="l00822"></a>00822 <span class="comment">/*@unused@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00823"></a>00823 <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> <a class="code" href="rpmdb_8h.html#df542febc17419c2aa368ff24186126a">rpmdbUnlink</a> (<span class="comment">/*@killref@*/</span> <span class="comment">/*@only@*/</span> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> db, <span class="keyword">const</span> <span class="keywordtype">char</span> * msg)
<a name="l00824"></a>00824         <span class="comment">/*@modifies db @*/</span>;
<a name="l00825"></a>00825 
<a name="l00827"></a>00827 <span class="comment">/*@-exportlocal@*/</span>
<a name="l00828"></a>00828 <span class="comment">/*@null@*/</span>
<a name="l00829"></a>00829 <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> <a class="code" href="rpmdb_8c.html#40a16e0985f946cda82aff21b02f3edb">XrpmdbUnlink</a> (<span class="comment">/*@killref@*/</span> <span class="comment">/*@only@*/</span> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> db, <span class="keyword">const</span> <span class="keywordtype">char</span> * msg,
<a name="l00830"></a>00830                 <span class="keyword">const</span> <span class="keywordtype">char</span> * fn, <span class="keywordtype">unsigned</span> ln)
<a name="l00831"></a>00831         <span class="comment">/*@modifies db @*/</span>;
<a name="l00832"></a>00832 <span class="comment">/*@=exportlocal@*/</span>
<a name="l00833"></a><a class="code" href="rpmdb_8h.html#df542febc17419c2aa368ff24186126a">00833</a> <span class="preprocessor">#define rpmdbUnlink(_db, _msg)  XrpmdbUnlink(_db, _msg, __FILE__, __LINE__)</span>
<a name="l00834"></a>00834 <span class="preprocessor"></span>
<a name="l00841"></a>00841 <span class="comment">/*@unused@*/</span>
<a name="l00842"></a>00842 <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> <a class="code" href="rpmdb_8h.html#d38c1eae52cd9a05b4530d2fce7605c7">rpmdbLink</a> (<a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> db, <span class="keyword">const</span> <span class="keywordtype">char</span> * msg)
<a name="l00843"></a>00843         <span class="comment">/*@modifies db @*/</span>;
<a name="l00844"></a>00844 
<a name="l00846"></a>00846 <span class="comment">/*@-exportlocal@*/</span>
<a name="l00847"></a>00847 <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> <a class="code" href="rpmdb_8c.html#4d8ddd82444d1f55259a38c1692fd4b8">XrpmdbLink</a> (<a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> db, <span class="keyword">const</span> <span class="keywordtype">char</span> * msg,
<a name="l00848"></a>00848                 <span class="keyword">const</span> <span class="keywordtype">char</span> * fn, <span class="keywordtype">unsigned</span> ln)
<a name="l00849"></a>00849         <span class="comment">/*@modifies db @*/</span>;
<a name="l00850"></a>00850 <span class="comment">/*@=exportlocal@*/</span>
<a name="l00851"></a><a class="code" href="rpmdb_8h.html#d38c1eae52cd9a05b4530d2fce7605c7">00851</a> <span class="preprocessor">#define rpmdbLink(_db, _msg)    XrpmdbLink(_db, _msg, __FILE__, __LINE__)</span>
<a name="l00852"></a>00852 <span class="preprocessor"></span>
<a name="l00861"></a>00861 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#g3032a2649d7761087dfd25c29119ebc5" title="Open rpm database.">rpmdbOpen</a> (<span class="comment">/*@null@*/</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * prefix, <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> * dbp,
<a name="l00862"></a>00862                 <span class="keywordtype">int</span> mode, <span class="keywordtype">int</span> perms)
<a name="l00863"></a>00863         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno, fileSystem, internalState @*/</span>
<a name="l00864"></a>00864         <span class="comment">/*@modifies *dbp, rpmGlobalMacroContext, fileSystem, internalState @*/</span>;
<a name="l00865"></a>00865 
<a name="l00872"></a>00872 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#gf67b15f34035a0f7974c5ef28286d789" title="Initialize database.">rpmdbInit</a>(<span class="comment">/*@null@*/</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * prefix, <span class="keywordtype">int</span> perms)
<a name="l00873"></a>00873         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno, fileSystem, internalState @*/</span>
<a name="l00874"></a>00874         <span class="comment">/*@modifies rpmGlobalMacroContext, fileSystem, internalState @*/</span>;
<a name="l00875"></a>00875 
<a name="l00881"></a>00881 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#g458c33b31c30a317c4e8a14064ed1f24" title="Verify database components.">rpmdbVerify</a>(<span class="comment">/*@null@*/</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * prefix)
<a name="l00882"></a>00882         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno, fileSystem, internalState @*/</span>
<a name="l00883"></a>00883         <span class="comment">/*@modifies rpmGlobalMacroContext, fileSystem, internalState @*/</span>;
<a name="l00884"></a>00884 
<a name="l00891"></a>00891 <span class="keywordtype">int</span> <a class="code" href="rpmdb_8c.html#c50f354a485811175269125081408ae9" title="Close a single database index.">rpmdbCloseDBI</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> db, <span class="keywordtype">int</span> rpmtag)
<a name="l00892"></a>00892         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00893"></a>00893         <span class="comment">/*@modifies db, fileSystem @*/</span>;
<a name="l00894"></a>00894 
<a name="l00900"></a>00900 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#g534a3cbbecac13bdf5ca5de61e6e8563" title="Close all database indices and free rpmdb.">rpmdbClose</a> (<span class="comment">/*@killref@*/</span> <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> db)
<a name="l00901"></a>00901         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00902"></a>00902         <span class="comment">/*@modifies db, fileSystem @*/</span>;
<a name="l00903"></a>00903 
<a name="l00909"></a>00909 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#ge634d83d6ac7fd0e8c59f94a8b2379c6" title="Sync all database indices.">rpmdbSync</a> (<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> db)
<a name="l00910"></a>00910         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00911"></a>00911         <span class="comment">/*@modifies fileSystem @*/</span>;
<a name="l00912"></a>00912 
<a name="l00918"></a>00918 <span class="comment">/*@-exportlocal@*/</span>
<a name="l00919"></a>00919 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#g075a0f702ca8bc4d74454b1f56e73a18" title="Open all database indices.">rpmdbOpenAll</a> (<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> db)
<a name="l00920"></a>00920         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno @*/</span>
<a name="l00921"></a>00921         <span class="comment">/*@modifies db, rpmGlobalMacroContext @*/</span>;
<a name="l00922"></a>00922 <span class="comment">/*@=exportlocal@*/</span>
<a name="l00923"></a>00923 
<a name="l00930"></a>00930 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#g494f8b8c1ca3cf8b7c54d5d59d6c5821" title="Return number of instances of package in rpm database.">rpmdbCountPackages</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> db, <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="structname.html">name</a>)
<a name="l00931"></a>00931         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno, fileSystem, internalState @*/</span>
<a name="l00932"></a>00932         <span class="comment">/*@modifies db, rpmGlobalMacroContext, fileSystem, internalState @*/</span>;
<a name="l00933"></a>00933 
<a name="l00939"></a>00939 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#g6390115472d641de8bdc50cb5f00dbed" title="Return header join key for current position of rpm database iterator.">rpmdbGetIteratorOffset</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#g78095e799d15f45a3a744836fdb5ff09" title="Database iterator.">rpmdbMatchIterator</a> mi)
<a name="l00940"></a>00940         <span class="comment">/*@*/</span>;
<a name="l00941"></a>00941 
<a name="l00947"></a>00947 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#gac81920c8e50f62b109183999a8e7da4" title="Return number of elements in rpm database iterator.">rpmdbGetIteratorCount</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#g78095e799d15f45a3a744836fdb5ff09" title="Database iterator.">rpmdbMatchIterator</a> mi)
<a name="l00948"></a>00948         <span class="comment">/*@*/</span>;
<a name="l00949"></a>00949 
<a name="l00957"></a>00957 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#gbf6009a6794639ec5cbc65ab318102c5" title="Append items to set of package instances to iterate.">rpmdbAppendIterator</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#g78095e799d15f45a3a744836fdb5ff09" title="Database iterator.">rpmdbMatchIterator</a> mi,
<a name="l00958"></a>00958                 <span class="comment">/*@null@*/</span> <span class="keyword">const</span> <span class="keywordtype">int</span> * hdrNums, <span class="keywordtype">int</span> nHdrNums)
<a name="l00959"></a>00959         <span class="comment">/*@modifies mi @*/</span>;
<a name="l00960"></a>00960 
<a name="l00970"></a>00970 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#g1735dfaf4b1a88fbe8c22ecb59623954" title="Remove items from set of package instances to iterate.">rpmdbPruneIterator</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#g78095e799d15f45a3a744836fdb5ff09" title="Database iterator.">rpmdbMatchIterator</a> mi,
<a name="l00971"></a>00971                 <span class="comment">/*@null@*/</span> <span class="keywordtype">int</span> * hdrNums, <span class="keywordtype">int</span> nHdrNums, <span class="keywordtype">int</span> sorted)
<a name="l00972"></a>00972         <span class="comment">/*@modifies mi, hdrNums @*/</span>;
<a name="l00973"></a>00973 
<a name="l00982"></a>00982 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#g9f84dbc47d1d432f4ffe83b713fb47c9" title="Add pattern to iterator selector.">rpmdbSetIteratorRE</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#g78095e799d15f45a3a744836fdb5ff09" title="Database iterator.">rpmdbMatchIterator</a> mi, <a class="code" href="rpmlib_8h.html#4f08fde948b5511f2a904dc92e39e211">rpmTag</a> tag,
<a name="l00983"></a>00983                 <a class="code" href="rpmdb_8h.html#b569d29d9b8a15daf7ec03834691bdba" title="Tag value pattern match mode.">rpmMireMode</a> mode, <span class="comment">/*@null@*/</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * pattern)
<a name="l00984"></a>00984         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno @*/</span>
<a name="l00985"></a>00985         <span class="comment">/*@modifies mi, mode, rpmGlobalMacroContext @*/</span>;
<a name="l00986"></a>00986 
<a name="l00994"></a>00994 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#gbc607a9e703efc3fd02f57e6263fbbc4" title="Prepare iterator for lazy writes.">rpmdbSetIteratorRewrite</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#g78095e799d15f45a3a744836fdb5ff09" title="Database iterator.">rpmdbMatchIterator</a> mi, <span class="keywordtype">int</span> rewrite)
<a name="l00995"></a>00995         <span class="comment">/*@modifies mi @*/</span>;
<a name="l00996"></a>00996 
<a name="l01003"></a>01003 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#g328723eac8c189ade897ebc7f2db3ca9" title="Modify iterator to mark header for lazy write on release.">rpmdbSetIteratorModified</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#g78095e799d15f45a3a744836fdb5ff09" title="Database iterator.">rpmdbMatchIterator</a> mi, <span class="keywordtype">int</span> modified)
<a name="l01004"></a>01004         <span class="comment">/*@modifies mi @*/</span>;
<a name="l01005"></a>01005 
<a name="l01013"></a>01013 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#g9c376b0225cd66a32a1d2f27ac8dc04a" title="Modify iterator to verify retrieved header blobs.">rpmdbSetHdrChk</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#g78095e799d15f45a3a744836fdb5ff09" title="Database iterator.">rpmdbMatchIterator</a> mi, <span class="comment">/*@null@*/</span> <a class="code" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb" title="The RPM Transaction Set.">rpmts</a> ts,
<a name="l01014"></a>01014                 <span class="comment">/*@null@*/</span> <a class="code" href="rpmlib_8h.html#f1718b0bac61cc03eaf3e3cb02806fb3" title="Package read return codes.">rpmRC</a> (*hdrchk) (<a class="code" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb" title="The RPM Transaction Set.">rpmts</a> ts, <span class="keyword">const</span> <span class="keywordtype">void</span> * uh, <span class="keywordtype">size_t</span> uc, <span class="keyword">const</span> <span class="keywordtype">char</span> ** msg))
<a name="l01015"></a>01015         <span class="comment">/*@modifies mi @*/</span>;
<a name="l01016"></a>01016 
<a name="l01025"></a>01025 <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span>
<a name="l01026"></a>01026 <a class="code" href="group__rpmdb.html#g78095e799d15f45a3a744836fdb5ff09" title="Database iterator.">rpmdbMatchIterator</a> <a class="code" href="group__rpmdb.html#g2cf5104a3a6483662a608e5d4b449e8d" title="Return database iterator.">rpmdbInitIterator</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> db, <a class="code" href="rpmlib_8h.html#4f08fde948b5511f2a904dc92e39e211">rpmTag</a> rpmtag,
<a name="l01027"></a>01027                         <span class="comment">/*@null@*/</span> <span class="keyword">const</span> <span class="keywordtype">void</span> * keyp, <span class="keywordtype">size_t</span> keylen)
<a name="l01028"></a>01028         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno, fileSystem, internalState @*/</span>
<a name="l01029"></a>01029         <span class="comment">/*@modifies db, rpmGlobalMacroContext, fileSystem, internalState @*/</span>;
<a name="l01030"></a>01030 
<a name="l01036"></a>01036 <span class="comment">/*@null@*/</span>
<a name="l01037"></a>01037 <a class="code" href="structheaderToken__s.html" title="The Header data structure.">Header</a> <a class="code" href="group__rpmdb.html#gf5d8e3f7efbd6885ee7577d2729b8476" title="Return next package header from iteration.">rpmdbNextIterator</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#g78095e799d15f45a3a744836fdb5ff09" title="Database iterator.">rpmdbMatchIterator</a> mi)
<a name="l01038"></a>01038         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno, fileSystem, internalState @*/</span>
<a name="l01039"></a>01039         <span class="comment">/*@modifies mi, rpmGlobalMacroContext, fileSystem, internalState @*/</span>;
<a name="l01040"></a>01040 
<a name="l01044"></a>01044 <span class="comment">/*@mayexit@*/</span>
<a name="l01045"></a>01045 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#gad60ebdc45b481f7d00f7510cb8f743c" title="Check for and exit on termination signals.">rpmdbCheckSignals</a>(<span class="keywordtype">void</span>)
<a name="l01046"></a>01046         <span class="comment">/*@globals fileSystem, internalState @*/</span>
<a name="l01047"></a>01047         <span class="comment">/*@modifies fileSystem, internalState @*/</span>;
<a name="l01048"></a>01048 
<a name="l01057"></a>01057 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#g17f500c7432de8931552787451ae34af" title="Check rpmdb signal handler for trapped signal and/or requested exit, clean up any...">rpmdbCheckTerminate</a>(<span class="keywordtype">int</span> terminate);
<a name="l01058"></a>01058 
<a name="l01064"></a>01064 <span class="comment">/*@null@*/</span>
<a name="l01065"></a>01065 <a class="code" href="group__rpmdb.html#g78095e799d15f45a3a744836fdb5ff09" title="Database iterator.">rpmdbMatchIterator</a> <a class="code" href="group__rpmdb.html#g8b9f2121415fcec732234cf2115f6c7d" title="Destroy rpm database iterator.">rpmdbFreeIterator</a>(<span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span><a class="code" href="group__rpmdb.html#g78095e799d15f45a3a744836fdb5ff09" title="Database iterator.">rpmdbMatchIterator</a> mi)
<a name="l01066"></a>01066         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno, fileSystem, internalState @*/</span>
<a name="l01067"></a>01067         <span class="comment">/*@modifies mi, rpmGlobalMacroContext, fileSystem, internalState @*/</span>;
<a name="l01068"></a>01068 
<a name="l01078"></a>01078 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#g6fe29db07ee5aa54b3af80472875ae76" title="Add package header to rpm database and indices.">rpmdbAdd</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> db, <span class="keywordtype">int</span> iid, <a class="code" href="structheaderToken__s.html" title="The Header data structure.">Header</a> h, <span class="comment">/*@null@*/</span> <a class="code" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb" title="The RPM Transaction Set.">rpmts</a> ts,
<a name="l01079"></a>01079                 <span class="comment">/*@null@*/</span> <a class="code" href="rpmlib_8h.html#f1718b0bac61cc03eaf3e3cb02806fb3" title="Package read return codes.">rpmRC</a> (*hdrchk) (<a class="code" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb" title="The RPM Transaction Set.">rpmts</a> ts, <span class="keyword">const</span> <span class="keywordtype">void</span> *uh, <span class="keywordtype">size_t</span> uc, <span class="keyword">const</span> <span class="keywordtype">char</span> ** msg))
<a name="l01080"></a>01080         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno, fileSystem, internalState @*/</span>
<a name="l01081"></a>01081         <span class="comment">/*@modifies db, h, rpmGlobalMacroContext, fileSystem, internalState @*/</span>;
<a name="l01082"></a>01082 
<a name="l01092"></a>01092 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#gd76021e1b6863a5ff268b74a5a8b3e6f" title="Remove package header from rpm database and indices.">rpmdbRemove</a>(<span class="comment">/*@null@*/</span> <a class="code" href="group__rpmdb.html#gf3e51332f8c9054b134d0c4822d59fd8" title="Database of headers and tag value indices.">rpmdb</a> db, <span class="comment">/*@unused@*/</span> <span class="keywordtype">int</span> rid, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hdrNum,
<a name="l01093"></a>01093                 <span class="comment">/*@null@*/</span> <a class="code" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb" title="The RPM Transaction Set.">rpmts</a> ts,
<a name="l01094"></a>01094                 <span class="comment">/*@null@*/</span> <a class="code" href="rpmlib_8h.html#f1718b0bac61cc03eaf3e3cb02806fb3" title="Package read return codes.">rpmRC</a> (*hdrchk) (<a class="code" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb" title="The RPM Transaction Set.">rpmts</a> ts, <span class="keyword">const</span> <span class="keywordtype">void</span> *uh, <span class="keywordtype">size_t</span> uc, <span class="keyword">const</span> <span class="keywordtype">char</span> ** msg))
<a name="l01095"></a>01095         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno, fileSystem, internalState @*/</span>
<a name="l01096"></a>01096         <span class="comment">/*@modifies db, rpmGlobalMacroContext, fileSystem, internalState @*/</span>;
<a name="l01097"></a>01097 
<a name="l01105"></a>01105 <span class="keywordtype">int</span> <a class="code" href="group__rpmdb.html#g328f470eed143da0e81ef414b664cf45" title="Rebuild database indices from package headers.">rpmdbRebuild</a>(<span class="comment">/*@null@*/</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * prefix, <span class="comment">/*@null@*/</span> <a class="code" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb" title="The RPM Transaction Set.">rpmts</a> ts,
<a name="l01106"></a>01106                 <span class="comment">/*@null@*/</span> <a class="code" href="rpmlib_8h.html#f1718b0bac61cc03eaf3e3cb02806fb3" title="Package read return codes.">rpmRC</a> (*hdrchk) (<a class="code" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb" title="The RPM Transaction Set.">rpmts</a> ts, <span class="keyword">const</span> <span class="keywordtype">void</span> *uh, <span class="keywordtype">size_t</span> uc, <span class="keyword">const</span> <span class="keywordtype">char</span> ** msg))
<a name="l01107"></a>01107         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno, fileSystem, internalState @*/</span>
<a name="l01108"></a>01108         <span class="comment">/*@modifies rpmGlobalMacroContext, fileSystem, internalState @*/</span>;
<a name="l01109"></a>01109 
<a name="l01110"></a>01110 <span class="preprocessor">#ifndef __APPLE__</span>
<a name="l01111"></a>01111 <span class="preprocessor"></span>
<a name="l01114"></a>01114 <span class="comment">/*@unused@*/</span>
<a name="l01115"></a>01115 <span class="keywordtype">int</span> <a class="code" href="merge_8c.html#892e8baa764c401d5d728009aed01f03" title="Mergesort, same arguments as qsort(2).">mergesort</a>(<span class="keywordtype">void</span> *base, <span class="keywordtype">size_t</span> nmemb, <span class="keywordtype">size_t</span> size,
<a name="l01116"></a>01116                 <span class="keywordtype">int</span> (*cmp) (<span class="keyword">const</span> <span class="keywordtype">void</span> *, <span class="keyword">const</span> <span class="keywordtype">void</span> *))
<a name="l01117"></a>01117         <span class="comment">/*@globals errno @*/</span>
<a name="l01118"></a>01118         <span class="comment">/*@modifies base, errno @*/</span>;
<a name="l01119"></a>01119 <span class="preprocessor">#else</span>
<a name="l01120"></a>01120 <span class="preprocessor"></span><span class="comment">/* mergesort is defined in stdlib.h on Mac OS X */</span>
<a name="l01121"></a>01121 <span class="preprocessor">#endif </span><span class="comment">/* __APPLE__ */</span>
<a name="l01122"></a>01122 
<a name="l01123"></a>01123 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l01124"></a>01124 <span class="preprocessor"></span>}
<a name="l01125"></a>01125 <span class="preprocessor">#endif</span>
<a name="l01126"></a>01126 <span class="preprocessor"></span>
<a name="l01127"></a>01127 <span class="comment">/*@=bounds@*/</span>
<a name="l01128"></a>01128 <span class="preprocessor">#endif  </span><span class="comment">/* H_RPMDB */</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 12 08:44:54 2007 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
