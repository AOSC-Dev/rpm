<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: lib/fsm.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul>
</div>
<h1>lib/fsm.c File Reference</h1>File state machine to handle a payload from a package. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="system_8h-source.html">system.h</a>&quot;</code><br>
<code>#include &lt;<a class="el" href="rpmio__internal_8h-source.html">rpmio_internal.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="rpmlib_8h-source.html">rpmlib.h</a>&gt;</code><br>
<code>#include &quot;<a class="el" href="cpio_8h-source.html">cpio.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="fsm_8h-source.html">fsm.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="rpmerr_8h-source.html">rpmerr.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="rpmfi_8h-source.html">rpmfi.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="rpmte_8h-source.html">rpmte.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="rpmts_8h-source.html">rpmts.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="rpmsq_8h-source.html">rpmsq.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="ugid_8h-source.html">ugid.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="debug_8h-source.html">debug.h</a>&quot;</code><br>

<p>
<a href="fsm_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdnli__s.html">dnli_s</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Directory <a class="el" href="structname.html">name</a> iterator.  <a href="structdnli__s.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#25917a3a7f4e9cf8da6c994f0e6937df">fsmUNSAFE</a>&nbsp;&nbsp;&nbsp;fsmStage</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#23b390a0b6abdc14c30d53d89a40fd7f">_RPMFI_INTERNAL</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#0e6c36aa207979a118f67d4ddb341fce">alloca_strdup</a>(_s)&nbsp;&nbsp;&nbsp;strcpy(alloca(strlen(_s)+1), (_s))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#6a0b22c3779c91ef8dc780a1d8298119">_FSM_DEBUG</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#e3f9813e414018874da312f62dba6abf">SUFFIX_RPMORIG</a>&nbsp;&nbsp;&nbsp;&quot;.rpmorig&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#5d20ad06b1b5013d721500a60c3f7a5f">SUFFIX_RPMSAVE</a>&nbsp;&nbsp;&nbsp;&quot;.rpmsave&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#b3bef1d63c9c102d9f0502d967228e62">SUFFIX_RPMNEW</a>&nbsp;&nbsp;&nbsp;&quot;.rpmnew&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#5390c8ef669a0ca7dfc2b5a843bd3566">IS_DEV_LOG</a>(_x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#773cd9be56ae4de92eb74ca52644c61f">_fafilter</a>(_a)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#1f9f6e6e1258571e9317dc47babc5bcb">_tsmask</a>&nbsp;&nbsp;&nbsp;(RPMTRANS_FLAG_PKGCOMMIT | RPMTRANS_FLAG_COMMIT)</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structdnli__s.html">dnli_s</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g8e54217f0748e648a081dc1da0327c97">DNLI_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Directory <a class="el" href="structname.html">name</a> iterator.  <a href="group__payload.html#g8e54217f0748e648a081dc1da0327c97"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb">rpmts</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#79af3076ba347b7d1fea192fb7bf911e">fsmGetTs</a> (const <a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve transaction set from file state machine iterator.  <a href="#79af3076ba347b7d1fea192fb7bf911e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="rpmlib_8h.html#2f4e0bf6f106ed6889162837ce39b83e">rpmfi</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#a372483e106d9a40cdff9929008331a3">fsmGetFi</a> (const <a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve transaction element file info from file state machine iterator.  <a href="#a372483e106d9a40cdff9929008331a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g8b014cfd9fa8c05f42626c6c8c5b307d">fsmFsPath</a> (const <a class="el" href="structfsm__s.html">FSM_t</a> fsm, const struct stat *st, const char *subdir, const char *suffix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Build path to file from file info, ornamented with subdir and suffix.  <a href="group__payload.html#g8b014cfd9fa8c05f42626c6c8c5b307d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g1fd05286dfa9848e8c26c25764623e8f">mapFreeIterator</a> (void *p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy file info iterator.  <a href="group__payload.html#g1fd05286dfa9848e8c26c25764623e8f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#ge8aa1c0ca3352e8c71c816c9b9684971">mapInitIterator</a> (<a class="el" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb">rpmts</a> ts, <a class="el" href="rpmlib_8h.html#2f4e0bf6f106ed6889162837ce39b83e">rpmfi</a> fi)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create file info iterator.  <a href="group__payload.html#ge8aa1c0ca3352e8c71c816c9b9684971"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#gc3e7c71c0c5c6614af0567c5d986843d">mapNextIterator</a> (void *a)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return next index into file info.  <a href="group__payload.html#gc3e7c71c0c5c6614af0567c5d986843d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g37c749b5ff0d983ab45e9a14990cbddc">cpioStrCmp</a> (const void *a, const void *b)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#gdffbdd1164605996bec9620e6acbe8b1">mapFind</a> (<a class="el" href="structfsmIterator__s.html">FSMI_t</a> iter, const char *fsmPath)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Locate archive path in file info.  <a href="group__payload.html#gdffbdd1164605996bec9620e6acbe8b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#gb360bb38b118640228af9fb4bd6d067d">dnlFreeIterator</a> (const void *a)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy directory <a class="el" href="structname.html">name</a> iterator.  <a href="group__payload.html#gb360bb38b118640228af9fb4bd6d067d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#ge7fb0a21248265e78d8e9fc06b4cf708">dnlCount</a> (const <a class="el" href="structdnli__s.html">DNLI_t</a> dnli)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#gba4a4ab97a1721b54010195e06543159">dnlIndex</a> (const <a class="el" href="structdnli__s.html">DNLI_t</a> dnli)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g9c78bfa42b2036abb3a0cb98aaa24b13">dnlInitIterator</a> (const <a class="el" href="structfsm__s.html">FSM_t</a> fsm, int <a class="el" href="rpminstall_8c.html#052f243a02ba4a715c9e395aff5ec1d2">reverse</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create directory <a class="el" href="structname.html">name</a> iterator.  <a href="group__payload.html#g9c78bfa42b2036abb3a0cb98aaa24b13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g3a778746d4887e03063a884ff6414e57">dnlNextIterator</a> (<a class="el" href="structdnli__s.html">DNLI_t</a> dnli)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return next directory <a class="el" href="structname.html">name</a> (from file info).  <a href="group__payload.html#g3a778746d4887e03063a884ff6414e57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#3d7e1301915e79d5eccf84be83adfc79">fsmThread</a> (void *arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#5cd1965aa3d5448685dfc97fd6d183ff">fsmNext</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm, <a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a> nstage)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">File state machine driver.  <a href="#5cd1965aa3d5448685dfc97fd6d183ff"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#gb91f1cf1a421c6c9c565ec9a4f45b658">saveHardLink</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save hard <a class="el" href="structlink.html">link</a> in chain.  <a href="group__payload.html#gb91f1cf1a421c6c9c565ec9a4f45b658"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g9ab8b32638e9b9bce798ff8a8cdb100f">freeHardLink</a> (struct <a class="el" href="structhardLink__s.html">hardLink_s</a> *li)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy set of hard links.  <a href="group__payload.html#g9ab8b32638e9b9bce798ff8a8cdb100f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#77f09b9b5a7d08b3e85caf7d201fa843">newFSM</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create file state machine instance.  <a href="#77f09b9b5a7d08b3e85caf7d201fa843"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#08c4a7eb02d4f91e545f90d070d4104c">freeFSM</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy file state machine instance.  <a href="#08c4a7eb02d4f91e545f90d070d4104c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#6e6fb0ed805d1c2d07ede70f4947dcef">fsmSetup</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm, <a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a> goal, const <a class="el" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb">rpmts</a> ts, const <a class="el" href="rpmlib_8h.html#2f4e0bf6f106ed6889162837ce39b83e">rpmfi</a> fi, <a class="el" href="struct__FD__s.html">FD_t</a> cfd, unsigned int *archiveSize, const char **failedFile)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load external data into file state machine.  <a href="#6e6fb0ed805d1c2d07ede70f4947dcef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#0c1d23991daeaa4b7adddf3901cc6f01">fsmTeardown</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clean file state machine.  <a href="#0c1d23991daeaa4b7adddf3901cc6f01"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#cc6456db2a1c0155226b18fe0d343079">fsmMapFContext</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#b5ec0917e40a7ef6bf78edc5ffdde5bd">fsmMapPath</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Map next file path and action.  <a href="#b5ec0917e40a7ef6bf78edc5ffdde5bd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#224238bdc8ab4145c31943f6ddf2e3fb">fsmMapAttrs</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Map file stat(2) info.  <a href="#224238bdc8ab4145c31943f6ddf2e3fb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g3a1b3d636ff257e751ef5c5139ca29ca">expandRegular</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create file from payload stream.  <a href="group__payload.html#g3a1b3d636ff257e751ef5c5139ca29ca"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#gb228a1a0b6d1189f881ca1a0b0c87926">writeFile</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm, int writeData)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write next item to payload stream.  <a href="group__payload.html#gb228a1a0b6d1189f881ca1a0b0c87926"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g6d1cb6cacbb90223510503fa6eca9b72">writeLinkedFile</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write set of linked files to payload stream.  <a href="group__payload.html#g6d1cb6cacbb90223510503fa6eca9b72"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g79aa14b1856aa8e461249eceae17de59">fsmMakeLinks</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create pending hard links to existing file.  <a href="group__payload.html#g79aa14b1856aa8e461249eceae17de59"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g20c401dca511eb11b6ddaec3a8e97643">fsmCommitLinks</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Commit hard linked file set atomically.  <a href="group__payload.html#g20c401dca511eb11b6ddaec3a8e97643"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#f893f0155c89e2cb44e61687b612d38e">fsmRmdirs</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove (if created) directories not explicitly included in package.  <a href="#f893f0155c89e2cb44e61687b612d38e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#cd6276d038e9954be2d0970550895f97">fsmMkdirs</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create (if necessary) directories not explicitly included in package.  <a href="#cd6276d038e9954be2d0970550895f97"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#ad84b5d64310b6ed28dcd49746a2506f">fsmStage</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm, <a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a> stage)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">File state machine driver.  <a href="#ad84b5d64310b6ed28dcd49746a2506f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *const&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#fed7a234831f706bc74dbcb2da055fcd">fileActionString</a> (<a class="el" href="rpmlib_8h.html#08a1787ab1f9297419fc4d37b587cdee">fileAction</a> a)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return formatted string representation of file disposition.  <a href="#fed7a234831f706bc74dbcb2da055fcd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *const&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#410ee9097708efa9da4cc2d8843baba8">fileStageString</a> (<a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a> a)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return formatted string representation of file stages.  <a href="#410ee9097708efa9da4cc2d8843baba8"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#76ef6b61d6c034d5d7a84280e388f483">_fsm_debug</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#bd2f72dd5fff0183f3a3392c943ed9c3">_fsm_threads</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8c.html#b5626c987420c6ab48ddb9541d6a5181">strict_erasures</a> = 0</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
File state machine to handle a payload from a package. 
<p>

<p>
Definition in file <a class="el" href="fsm_8c-source.html">fsm.c</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="773cd9be56ae4de92eb74ca52644c61f"></a><!-- doxytag: member="fsm.c::_fafilter" ref="773cd9be56ae4de92eb74ca52644c61f" args="(_a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _fafilter          </td>
          <td>(</td>
          <td class="paramtype">_a&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">(!((_a) == <a class="code" href="rpmlib_8h.html#4409aea3e0e68d6f88c7866c85aafef947c55521a08d7eed68cbb9b1406334ca">FA_CREATE</a> || (_a) == <a class="code" href="rpmlib_8h.html#4409aea3e0e68d6f88c7866c85aafef96d7eb8b200bfb8a40319085ee6cda356">FA_ERASE</a> || (_a) == <a class="code" href="rpmlib_8h.html#4409aea3e0e68d6f88c7866c85aafef9219135e7b158ab710ed01f0bb9e19888">FA_COPYIN</a> || (_a) == <a class="code" href="rpmlib_8h.html#4409aea3e0e68d6f88c7866c85aafef957be9542b973695e13c1733094d77ba8">FA_COPYOUT</a>) \
        ? <a class="code" href="fsm_8c.html#fed7a234831f706bc74dbcb2da055fcd" title="Return formatted string representation of file disposition.">fileActionString</a>(_a) : <span class="stringliteral">""</span>)
</pre></div>
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="6a0b22c3779c91ef8dc780a1d8298119"></a><!-- doxytag: member="fsm.c::_FSM_DEBUG" ref="6a0b22c3779c91ef8dc780a1d8298119" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _FSM_DEBUG&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00036">36</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
</div>
</div><p>
<a class="anchor" name="23b390a0b6abdc14c30d53d89a40fd7f"></a><!-- doxytag: member="fsm.c::_RPMFI_INTERNAL" ref="23b390a0b6abdc14c30d53d89a40fd7f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _RPMFI_INTERNAL          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00018">18</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
</div>
</div><p>
<a class="anchor" name="1f9f6e6e1258571e9317dc47babc5bcb"></a><!-- doxytag: member="fsm.c::_tsmask" ref="1f9f6e6e1258571e9317dc47babc5bcb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _tsmask&nbsp;&nbsp;&nbsp;(RPMTRANS_FLAG_PKGCOMMIT | RPMTRANS_FLAG_COMMIT)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="0e6c36aa207979a118f67d4ddb341fce"></a><!-- doxytag: member="fsm.c::alloca_strdup" ref="0e6c36aa207979a118f67d4ddb341fce" args="(_s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define alloca_strdup          </td>
          <td>(</td>
          <td class="paramtype">_s&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;strcpy(alloca(strlen(_s)+1), (_s))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00034">34</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
Referenced by <a class="el" href="rpmrpc_8c-source.html#l00878">ftpNLST()</a>, <a class="el" href="legacy_8c-source.html#l00530">legacyRetrofit()</a>, <a class="el" href="rpmfi_8c-source.html#l00708">relocateFileList()</a>, and <a class="el" href="fsm_8c-source.html#l00893">writeFile()</a>.
</div>
</div><p>
<a class="anchor" name="25917a3a7f4e9cf8da6c994f0e6937df"></a><!-- doxytag: member="fsm.c::fsmUNSAFE" ref="25917a3a7f4e9cf8da6c994f0e6937df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fsmUNSAFE&nbsp;&nbsp;&nbsp;fsmStage          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00014">14</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01089">fsmMakeLinks()</a>, <a class="el" href="fsm_8c-source.html#l01260">fsmMkdirs()</a>, <a class="el" href="fsm_8c-source.html#l00551">fsmSetup()</a>, <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>, <a class="el" href="fsm_8c-source.html#l00607">fsmTeardown()</a>, and <a class="el" href="fsm_8c-source.html#l00893">writeFile()</a>.
</div>
</div><p>
<a class="anchor" name="5390c8ef669a0ca7dfc2b5a843bd3566"></a><!-- doxytag: member="fsm.c::IS_DEV_LOG" ref="5390c8ef669a0ca7dfc2b5a843bd3566" args="(_x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IS_DEV_LOG          </td>
          <td>(</td>
          <td class="paramtype">_x&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">((_x) != NULL &amp;&amp; strlen(_x) &gt;= (<span class="keyword">sizeof</span>(<span class="stringliteral">"/dev/log"</span>)-1) &amp;&amp; \
        !strncmp((_x), <span class="stringliteral">"/dev/log"</span>, <span class="keyword">sizeof</span>(<span class="stringliteral">"/dev/log"</span>)-1) &amp;&amp; \
        ((_x)[<span class="keyword">sizeof</span>(<span class="stringliteral">"/dev/log"</span>)-1] == <span class="charliteral">'\0'</span> || \
         (_x)[<span class="keyword">sizeof</span>(<span class="stringliteral">"/dev/log"</span>)-1] == <span class="charliteral">';'</span>))
</pre></div>
<p>
Definition at line <a class="el" href="fsm_8c-source.html#l01424">1424</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="b3bef1d63c9c102d9f0502d967228e62"></a><!-- doxytag: member="fsm.c::SUFFIX_RPMNEW" ref="b3bef1d63c9c102d9f0502d967228e62" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SUFFIX_RPMNEW&nbsp;&nbsp;&nbsp;&quot;.rpmnew&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00068">68</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l00653">fsmMapPath()</a>.
</div>
</div><p>
<a class="anchor" name="e3f9813e414018874da312f62dba6abf"></a><!-- doxytag: member="fsm.c::SUFFIX_RPMORIG" ref="e3f9813e414018874da312f62dba6abf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SUFFIX_RPMORIG&nbsp;&nbsp;&nbsp;&quot;.rpmorig&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00066">66</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l00653">fsmMapPath()</a>.
</div>
</div><p>
<a class="anchor" name="5d20ad06b1b5013d721500a60c3f7a5f"></a><!-- doxytag: member="fsm.c::SUFFIX_RPMSAVE" ref="5d20ad06b1b5013d721500a60c3f7a5f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SUFFIX_RPMSAVE&nbsp;&nbsp;&nbsp;&quot;.rpmsave&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00067">67</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l00653">fsmMapPath()</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="fed7a234831f706bc74dbcb2da055fcd"></a><!-- doxytag: member="fsm.c::fileActionString" ref="fed7a234831f706bc74dbcb2da055fcd" args="(fileAction a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* const fileActionString           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rpmlib_8h.html#08a1787ab1f9297419fc4d37b587cdee">fileAction</a>&nbsp;</td>
          <td class="paramname"> <em>a</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return formatted string representation of file disposition. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>file dispostion </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>formatted string </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l02455">2455</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00841">FA_ALTNAME</a>, <a class="el" href="rpmlib_8h-source.html#l00838">FA_BACKUP</a>, <a class="el" href="rpmlib_8h-source.html#l00836">FA_COPYIN</a>, <a class="el" href="rpmlib_8h-source.html#l00837">FA_COPYOUT</a>, <a class="el" href="rpmlib_8h-source.html#l00835">FA_CREATE</a>, <a class="el" href="rpmlib_8h-source.html#l00842">FA_ERASE</a>, <a class="el" href="rpmlib_8h-source.html#l00839">FA_SAVE</a>, <a class="el" href="rpmlib_8h-source.html#l00840">FA_SKIP</a>, <a class="el" href="rpmlib_8h-source.html#l00845">FA_SKIPCOLOR</a>, <a class="el" href="rpmlib_8h-source.html#l00844">FA_SKIPNETSHARED</a>, <a class="el" href="rpmlib_8h-source.html#l00843">FA_SKIPNSTATE</a>, and <a class="el" href="rpmlib_8h-source.html#l00834">FA_UNKNOWN</a>.
</div>
</div><p>
<a class="anchor" name="410ee9097708efa9da4cc2d8843baba8"></a><!-- doxytag: member="fsm.c::fileStageString" ref="410ee9097708efa9da4cc2d8843baba8" args="(fileStage a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* const fileStageString           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a>&nbsp;</td>
          <td class="paramname"> <em>a</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return formatted string representation of file stages. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>file stage </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>formatted string </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l02475">2475</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8h-source.html#l00060">FSM_CHMOD</a>, <a class="el" href="fsm_8h-source.html#l00058">FSM_CHOWN</a>, <a class="el" href="fsm_8h-source.html#l00069">FSM_CHROOT</a>, <a class="el" href="fsm_8h-source.html#l00051">FSM_COMMIT</a>, <a class="el" href="fsm_8h-source.html#l00043">FSM_CREATE</a>, <a class="el" href="fsm_8h-source.html#l00049">FSM_DESTROY</a>, <a class="el" href="fsm_8h-source.html#l00078">FSM_DREAD</a>, <a class="el" href="fsm_8h-source.html#l00079">FSM_DWRITE</a>, <a class="el" href="fsm_8h-source.html#l00072">FSM_EAT</a>, <a class="el" href="fsm_8h-source.html#l00035">FSM_FINI</a>, <a class="el" href="fsm_8h-source.html#l00076">FSM_HREAD</a>, <a class="el" href="fsm_8h-source.html#l00077">FSM_HWRITE</a>, <a class="el" href="fsm_8h-source.html#l00030">FSM_INIT</a>, <a class="el" href="fsm_8h-source.html#l00059">FSM_LCHOWN</a>, <a class="el" href="fsm_8h-source.html#l00063">FSM_LINK</a>, <a class="el" href="fsm_8h-source.html#l00057">FSM_LSETFCON</a>, <a class="el" href="fsm_8h-source.html#l00066">FSM_LSTAT</a>, <a class="el" href="fsm_8h-source.html#l00044">FSM_MAP</a>, <a class="el" href="fsm_8h-source.html#l00055">FSM_MKDIR</a>, <a class="el" href="fsm_8h-source.html#l00045">FSM_MKDIRS</a>, <a class="el" href="fsm_8h-source.html#l00064">FSM_MKFIFO</a>, <a class="el" href="fsm_8h-source.html#l00047">FSM_MKLINKS</a>, <a class="el" href="fsm_8h-source.html#l00065">FSM_MKNOD</a>, <a class="el" href="fsm_8h-source.html#l00071">FSM_NEXT</a>, <a class="el" href="fsm_8h-source.html#l00048">FSM_NOTIFY</a>, <a class="el" href="fsm_8h-source.html#l00074">FSM_PAD</a>, <a class="el" href="fsm_8h-source.html#l00039">FSM_PKGBUILD</a>, <a class="el" href="fsm_8h-source.html#l00040">FSM_PKGCOMMIT</a>, <a class="el" href="fsm_8h-source.html#l00038">FSM_PKGERASE</a>, <a class="el" href="fsm_8h-source.html#l00037">FSM_PKGINSTALL</a>, <a class="el" href="fsm_8h-source.html#l00041">FSM_PKGUNDO</a>, <a class="el" href="fsm_8h-source.html#l00073">FSM_POS</a>, <a class="el" href="fsm_8h-source.html#l00033">FSM_POST</a>, <a class="el" href="fsm_8h-source.html#l00031">FSM_PRE</a>, <a class="el" href="fsm_8h-source.html#l00032">FSM_PROCESS</a>, <a class="el" href="fsm_8h-source.html#l00083">FSM_RCLOSE</a>, <a class="el" href="fsm_8h-source.html#l00082">FSM_READ</a>, <a class="el" href="fsm_8h-source.html#l00068">FSM_READLINK</a>, <a class="el" href="fsm_8h-source.html#l00054">FSM_RENAME</a>, <a class="el" href="fsm_8h-source.html#l00056">FSM_RMDIR</a>, <a class="el" href="fsm_8h-source.html#l00046">FSM_RMDIRS</a>, <a class="el" href="fsm_8h-source.html#l00081">FSM_ROPEN</a>, <a class="el" href="fsm_8h-source.html#l00067">FSM_STAT</a>, <a class="el" href="fsm_8h-source.html#l00062">FSM_SYMLINK</a>, <a class="el" href="fsm_8h-source.html#l00075">FSM_TRAILER</a>, <a class="el" href="fsm_8h-source.html#l00034">FSM_UNDO</a>, <a class="el" href="fsm_8h-source.html#l00029">FSM_UNKNOWN</a>, <a class="el" href="fsm_8h-source.html#l00053">FSM_UNLINK</a>, <a class="el" href="fsm_8h-source.html#l00061">FSM_UTIME</a>, <a class="el" href="fsm_8h-source.html#l00050">FSM_VERIFY</a>, <a class="el" href="fsm_8h-source.html#l00086">FSM_WCLOSE</a>, <a class="el" href="fsm_8h-source.html#l00084">FSM_WOPEN</a>, and <a class="el" href="fsm_8h-source.html#l00085">FSM_WRITE</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="08c4a7eb02d4f91e545f90d070d4104c"></a><!-- doxytag: member="fsm.c::freeFSM" ref="08c4a7eb02d4f91e545f90d070d4104c" args="(FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsm__s.html">FSM_t</a> freeFSM           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy file state machine instance. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>always NULL </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00533">533</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, <a class="el" href="fsm_8h-source.html#l00171">fsm_s::dnlx</a>, <a class="el" href="fsm_8c-source.html#l00517">freeHardLink()</a>, <a class="el" href="fsm_8h-source.html#l00149">fsm_s::iter</a>, <a class="el" href="fsm_8h-source.html#l00173">fsm_s::ldn</a>, <a class="el" href="fsm_8h-source.html#l00154">fsm_s::li</a>, <a class="el" href="fsm_8h-source.html#l00152">fsm_s::links</a>, <a class="el" href="fsm_8c-source.html#l00113">mapFreeIterator()</a>, <a class="el" href="fsm_8h-source.html#l00098">hardLink_s::next</a>, and <a class="el" href="fsm_8h-source.html#l00126">fsm_s::path</a>.
<p>
Referenced by <a class="el" href="rpmfi_8c-source.html#l01151">rpmfiFree()</a>.
</div>
</div><p>
<a class="anchor" name="a372483e106d9a40cdff9929008331a3"></a><!-- doxytag: member="fsm.c::fsmGetFi" ref="a372483e106d9a40cdff9929008331a3" args="(const FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rpmlib_8h.html#2f4e0bf6f106ed6889162837ce39b83e">rpmfi</a> fsmGetFi           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve transaction element file info from file state machine iterator. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>transaction element file info </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00058">58</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8h-source.html#l00115">fsmIterator_s::fi</a>, and <a class="el" href="fsm_8h-source.html#l00149">fsm_s::iter</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l00282">dnlInitIterator()</a>, <a class="el" href="fsm_8c-source.html#l00755">fsmMapAttrs()</a>, <a class="el" href="fsm_8c-source.html#l00623">fsmMapFContext()</a>, <a class="el" href="fsm_8c-source.html#l00653">fsmMapPath()</a>, <a class="el" href="fsm_8c-source.html#l01260">fsmMkdirs()</a>, <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>, <a class="el" href="fsm_8c-source.html#l00422">saveHardLink()</a>, and <a class="el" href="fsm_8c-source.html#l00893">writeFile()</a>.
</div>
</div><p>
<a class="anchor" name="79af3076ba347b7d1fea192fb7bf911e"></a><!-- doxytag: member="fsm.c::fsmGetTs" ref="79af3076ba347b7d1fea192fb7bf911e" args="(const FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb">rpmts</a> fsmGetTs           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve transaction set from file state machine iterator. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>transaction set </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00051">51</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8h-source.html#l00149">fsm_s::iter</a>, and <a class="el" href="fsm_8h-source.html#l00114">fsmIterator_s::ts</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l00755">fsmMapAttrs()</a>, <a class="el" href="fsm_8c-source.html#l00623">fsmMapFContext()</a>, <a class="el" href="fsm_8c-source.html#l01260">fsmMkdirs()</a>, and <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="224238bdc8ab4145c31943f6ddf2e3fb"></a><!-- doxytag: member="fsm.c::fsmMapAttrs" ref="224238bdc8ab4145c31943f6ddf2e3fb" args="(FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsmMapAttrs           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Map file stat(2) info. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00755">755</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="cpio_8h-source.html#l00062">CPIO_MAP_GID</a>, <a class="el" href="cpio_8h-source.html#l00060">CPIO_MAP_MODE</a>, <a class="el" href="cpio_8h-source.html#l00067">CPIO_MAP_TYPE</a>, <a class="el" href="cpio_8h-source.html#l00061">CPIO_MAP_UID</a>, <a class="el" href="fsm_8h-source.html#l00189">fsm_s::fmd5sum</a>, <a class="el" href="fsm_8h-source.html#l00037">FSM_PKGINSTALL</a>, <a class="el" href="fsm_8c-source.html#l00058">fsmGetFi()</a>, <a class="el" href="fsm_8c-source.html#l00051">fsmGetTs()</a>, <a class="el" href="ugid_8c-source.html#l00066">gnameToGid()</a>, <a class="el" href="fsm_8h-source.html#l00197">fsm_s::goal</a>, <a class="el" href="fsm_8h-source.html#l00150">fsm_s::ix</a>, <a class="el" href="fsm_8h-source.html#l00183">fsm_s::mapFlags</a>, <a class="el" href="fsm_8h-source.html#l00191">fsm_s::md5sum</a>, <a class="el" href="rpmmessages_8h-source.html#l00014">RPMMESS_WARNING</a>, <a class="el" href="rpmmessages_8h-source.html#l00020">rpmMessage</a>, <a class="el" href="rpmlib_8h-source.html#l01007">RPMTRANS_FLAG_NOMD5</a>, <a class="el" href="rpmts_8c-source.html#l01416">rpmtsFlags()</a>, <a class="el" href="fsm_8h-source.html#l00200">fsm_s::sb</a>, and <a class="el" href="ugid_8c-source.html#l00016">unameToUid()</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="cc6456db2a1c0155226b18fe0d343079"></a><!-- doxytag: member="fsm.c::fsmMapFContext" ref="cc6456db2a1c0155226b18fe0d343079" args="(FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int fsmMapFContext           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00623">623</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8h-source.html#l00193">fsm_s::fcontext</a>, <a class="el" href="fsm_8c-source.html#l00058">fsmGetFi()</a>, <a class="el" href="fsm_8c-source.html#l00051">fsmGetTs()</a>, <a class="el" href="fsm_8h-source.html#l00150">fsm_s::ix</a>, <a class="el" href="fsm_8h-source.html#l00126">fsm_s::path</a>, <a class="el" href="rpmlib_8h-source.html#l00979">RPMTRANS_FLAG_NOCONTEXTS</a>, <a class="el" href="rpmts_8c-source.html#l01416">rpmtsFlags()</a>, <a class="el" href="rpmts_8c-source.html#l01065">rpmtsSELinuxEnabled()</a>, and <a class="el" href="fsm_8h-source.html#l00200">fsm_s::sb</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="b5ec0917e40a7ef6bf78edc5ffdde5bd"></a><!-- doxytag: member="fsm.c::fsmMapPath" ref="b5ec0917e40a7ef6bf78edc5ffdde5bd" args="(FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsmMapPath           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Map next file path and action. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00653">653</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, <a class="el" href="fsm_8h-source.html#l00196">fsm_s::action</a>, <a class="el" href="fsm_8h-source.html#l00180">fsm_s::astriplen</a>, <a class="el" href="fsm_8h-source.html#l00187">fsm_s::baseName</a>, <a class="el" href="cpio_8h-source.html#l00059">CPIO_MAP_PATH</a>, <a class="el" href="fsm_8h-source.html#l00185">fsm_s::dirName</a>, <a class="el" href="rpmlib_8h-source.html#l00841">FA_ALTNAME</a>, <a class="el" href="rpmlib_8h-source.html#l00838">FA_BACKUP</a>, <a class="el" href="rpmlib_8h-source.html#l00836">FA_COPYIN</a>, <a class="el" href="rpmlib_8h-source.html#l00837">FA_COPYOUT</a>, <a class="el" href="rpmlib_8h-source.html#l00835">FA_CREATE</a>, <a class="el" href="rpmlib_8h-source.html#l00842">FA_ERASE</a>, <a class="el" href="rpmlib_8h-source.html#l00839">FA_SAVE</a>, <a class="el" href="rpmlib_8h-source.html#l00840">FA_SKIP</a>, <a class="el" href="rpmlib_8h-source.html#l00845">FA_SKIPCOLOR</a>, <a class="el" href="rpmlib_8h-source.html#l00844">FA_SKIPNETSHARED</a>, <a class="el" href="rpmlib_8h-source.html#l00843">FA_SKIPNSTATE</a>, <a class="el" href="rpmlib_8h-source.html#l00834">FA_UNKNOWN</a>, <a class="el" href="fsm_8h-source.html#l00195">fsm_s::fflags</a>, <a class="el" href="fsm_8c-source.html#l00079">fsmFsPath()</a>, <a class="el" href="fsm_8c-source.html#l00058">fsmGetFi()</a>, <a class="el" href="fsm_8h-source.html#l00150">fsm_s::ix</a>, <a class="el" href="fsm_8h-source.html#l00183">fsm_s::mapFlags</a>, <a class="el" href="fsm_8h-source.html#l00166">fsm_s::nsuffix</a>, <a class="el" href="fsm_8h-source.html#l00164">fsm_s::osuffix</a>, <a class="el" href="fsm_8h-source.html#l00126">fsm_s::path</a>, <a class="el" href="rpmlib_8h-source.html#l00483">RPMFILE_GHOST</a>, <a class="el" href="rpmlib_8h-source.html#l00465">RPMFILE_STATE_NETSHARED</a>, <a class="el" href="rpmlib_8h-source.html#l00464">RPMFILE_STATE_NOTINSTALLED</a>, <a class="el" href="rpmlib_8h-source.html#l00466">RPMFILE_STATE_WRONGCOLOR</a>, <a class="el" href="rpmte_8c-source.html#l00267">rpmteType()</a>, <a class="el" href="fsm_8h-source.html#l00200">fsm_s::sb</a>, <a class="el" href="fsm_8h-source.html#l00160">fsm_s::subdir</a>, <a class="el" href="fsm_8h-source.html#l00168">fsm_s::suffix</a>, <a class="el" href="fsm_8c-source.html#l00068">SUFFIX_RPMNEW</a>, <a class="el" href="fsm_8c-source.html#l00066">SUFFIX_RPMORIG</a>, <a class="el" href="fsm_8c-source.html#l00067">SUFFIX_RPMSAVE</a>, <a class="el" href="rpmte_8h-source.html#l00030">TR_ADDED</a>, and <a class="el" href="rpmte_8h-source.html#l00031">TR_REMOVED</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="cd6276d038e9954be2d0970550895f97"></a><!-- doxytag: member="fsm.c::fsmMkdirs" ref="cd6276d038e9954be2d0970550895f97" args="(FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int fsmMkdirs           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create (if necessary) directories not explicitly included in package. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine data </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l01260">1260</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="cpio_8h-source.html#l00052">CPIOERR_ENOENT</a>, <a class="el" href="fsm_8c-source.html#l00259">dnlCount()</a>, <a class="el" href="fsm_8c-source.html#l00267">dnlIndex()</a>, <a class="el" href="fsm_8c-source.html#l00282">dnlInitIterator()</a>, <a class="el" href="fsm_8c-source.html#l00372">dnlNextIterator()</a>, <a class="el" href="fsm_8h-source.html#l00171">fsm_s::dnlx</a>, <a class="el" href="fsm_8h-source.html#l00193">fsm_s::fcontext</a>, <a class="el" href="fsm_8h-source.html#l00057">FSM_LSETFCON</a>, <a class="el" href="fsm_8h-source.html#l00066">FSM_LSTAT</a>, <a class="el" href="fsm_8h-source.html#l00055">FSM_MKDIR</a>, <a class="el" href="fsm_8c-source.html#l00058">fsmGetFi()</a>, <a class="el" href="fsm_8c-source.html#l00051">fsmGetTs()</a>, <a class="el" href="fsm_8c-source.html#l00406">fsmNext()</a>, <a class="el" href="fsm_8c-source.html#l00014">fsmUNSAFE</a>, <a class="el" href="fsm_8h-source.html#l00173">fsm_s::ldn</a>, <a class="el" href="fsm_8h-source.html#l00175">fsm_s::ldnalloc</a>, <a class="el" href="fsm_8h-source.html#l00174">fsm_s::ldnlen</a>, <a class="el" href="fsm_8h-source.html#l00201">fsm_s::osb</a>, <a class="el" href="fsm_8h-source.html#l00126">fsm_s::path</a>, <a class="el" href="fsm_8h-source.html#l00134">fsm_s::rdbuf</a>, <a class="el" href="rpmmessages_8h-source.html#l00011">RPMMESS_DEBUG</a>, <a class="el" href="rpmmessages_8h-source.html#l00020">rpmMessage</a>, <a class="el" href="rpmlib_8h-source.html#l00979">RPMTRANS_FLAG_NOCONTEXTS</a>, <a class="el" href="rpmts_8c-source.html#l01416">rpmtsFlags()</a>, <a class="el" href="rpmts_8c-source.html#l01065">rpmtsSELinuxEnabled()</a>, <a class="el" href="fsm_8h-source.html#l00200">fsm_s::sb</a>, <a class="el" href="system_8h.html#58841684f76853b313e27e663c850381">stpcpy()</a>, <a class="el" href="rpmmalloc_8c-source.html#l00034">xcalloc()</a>, and <a class="el" href="rpmmalloc_8c-source.html#l00045">xrealloc()</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="5cd1965aa3d5448685dfc97fd6d183ff"></a><!-- doxytag: member="fsm.c::fsmNext" ref="5cd1965aa3d5448685dfc97fd6d183ff" args="(FSM_t fsm, fileStage nstage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsmNext           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a>&nbsp;</td>
          <td class="paramname"> <em>nstage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File state machine driver. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nstage</em>&nbsp;</td><td>next stage </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00406">406</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8c-source.html#l00042">_fsm_threads</a>, <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>, <a class="el" href="fsm_8c-source.html#l00396">fsmThread()</a>, <a class="el" href="fsm_8h-source.html#l00199">fsm_s::nstage</a>, <a class="el" href="rpmsq_8c-source.html#l00592">rpmsqJoin()</a>, and <a class="el" href="rpmsq_8c-source.html#l00583">rpmsqThread()</a>.
<p>
Referenced by <a class="el" href="cpio_8c-source.html#l00130">cpioHeaderRead()</a>, <a class="el" href="cpio_8c-source.html#l00092">cpioHeaderWrite()</a>, <a class="el" href="cpio_8c-source.html#l00064">cpioTrailerWrite()</a>, <a class="el" href="fsm_8c-source.html#l00824">expandRegular()</a>, <a class="el" href="fsm_8c-source.html#l01155">fsmCommitLinks()</a>, <a class="el" href="fsm_8c-source.html#l01089">fsmMakeLinks()</a>, <a class="el" href="fsm_8c-source.html#l01260">fsmMkdirs()</a>, <a class="el" href="fsm_8c-source.html#l01203">fsmRmdirs()</a>, <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>, <a class="el" href="fsm_8c-source.html#l00422">saveHardLink()</a>, <a class="el" href="fsm_8c-source.html#l00893">writeFile()</a>, and <a class="el" href="fsm_8c-source.html#l01036">writeLinkedFile()</a>.
</div>
</div><p>
<a class="anchor" name="f893f0155c89e2cb44e61687b612d38e"></a><!-- doxytag: member="fsm.c::fsmRmdirs" ref="f893f0155c89e2cb44e61687b612d38e" args="(FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int fsmRmdirs           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove (if created) directories not explicitly included in package. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine data </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l01203">1203</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8c-source.html#l00259">dnlCount()</a>, <a class="el" href="fsm_8c-source.html#l00247">dnlFreeIterator()</a>, <a class="el" href="fsm_8c-source.html#l00267">dnlIndex()</a>, <a class="el" href="fsm_8c-source.html#l00282">dnlInitIterator()</a>, <a class="el" href="fsm_8c-source.html#l00372">dnlNextIterator()</a>, <a class="el" href="fsm_8h-source.html#l00171">fsm_s::dnlx</a>, <a class="el" href="fsm_8h-source.html#l00056">FSM_RMDIR</a>, <a class="el" href="fsm_8c-source.html#l00406">fsmNext()</a>, <a class="el" href="fsm_8h-source.html#l00173">fsm_s::ldn</a>, <a class="el" href="fsm_8h-source.html#l00126">fsm_s::path</a>, <a class="el" href="fsm_8h-source.html#l00134">fsm_s::rdbuf</a>, and <a class="el" href="system_8h.html#58841684f76853b313e27e663c850381">stpcpy()</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="6e6fb0ed805d1c2d07ede70f4947dcef"></a><!-- doxytag: member="fsm.c::fsmSetup" ref="6e6fb0ed805d1c2d07ede70f4947dcef" args="(FSM_t fsm, fileStage goal, const rpmts ts, const rpmfi fi, FD_t cfd, unsigned int *archiveSize, const char **failedFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsmSetup           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a>&nbsp;</td>
          <td class="paramname"> <em>goal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb">rpmts</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rpmlib_8h.html#2f4e0bf6f106ed6889162837ce39b83e">rpmfi</a>&nbsp;</td>
          <td class="paramname"> <em>fi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__FD__s.html">FD_t</a>&nbsp;</td>
          <td class="paramname"> <em>cfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>archiveSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>failedFile</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load external data into file state machine. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>goal</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>transaction set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fi</em>&nbsp;</td><td>transaction element file info </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cfd</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>archiveSize</em>&nbsp;</td><td>pointer to archive size </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>failedFile</em>&nbsp;</td><td>pointer to first file <a class="el" href="structname.html">name</a> that failed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00551">551</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8h-source.html#l00156">fsm_s::archiveSize</a>, <a class="el" href="fsm_8h-source.html#l00130">fsm_s::cfd</a>, <a class="el" href="fsm_8h-source.html#l00158">fsm_s::failedFile</a>, <a class="el" href="rpmio__internal_8h-source.html#l00499">fdGetCpioPos()</a>, <a class="el" href="rpmio_8h-source.html#l00524">fdLink</a>, <a class="el" href="rpmio__internal_8h-source.html#l00509">fdSetCpioPos()</a>, <a class="el" href="fsm_8h-source.html#l00043">FSM_CREATE</a>, <a class="el" href="fsm_8h-source.html#l00039">FSM_PKGBUILD</a>, <a class="el" href="fsm_8h-source.html#l00037">FSM_PKGINSTALL</a>, <a class="el" href="fsm_8c-source.html#l00014">fsmUNSAFE</a>, <a class="el" href="fsm_8h-source.html#l00197">fsm_s::goal</a>, <a class="el" href="fsm_8h-source.html#l00149">fsm_s::iter</a>, <a class="el" href="fsm_8c-source.html#l00134">mapInitIterator()</a>, <a class="el" href="fsm_8h-source.html#l00181">fsm_s::rc</a>, <a class="el" href="rpmmessages_8h-source.html#l00044">RPMCALLBACK_INST_START</a>, <a class="el" href="rpmts_8c-source.html#l01104">rpmtsGetTid()</a>, <a class="el" href="rpmts_8c-source.html#l01374">rpmtsNotify()</a>, and <a class="el" href="fsm_8h-source.html#l00169">fsm_s::sufbuf</a>.
<p>
Referenced by <a class="el" href="pack_8c-source.html#l00056">cpio_doio()</a>, and <a class="el" href="psm_8c-source.html#l01355">rpmpsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="ad84b5d64310b6ed28dcd49746a2506f"></a><!-- doxytag: member="fsm.c::fsmStage" ref="ad84b5d64310b6ed28dcd49746a2506f" args="(FSM_t fsm, fileStage stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsmStage           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a>&nbsp;</td>
          <td class="paramname"> <em>stage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File state machine driver. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stage</em>&nbsp;</td><td>next stage </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l01432">1432</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="fsm_8c.html#773cd9be56ae4de92eb74ca52644c61f">_fafilter</a>, <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, <a class="el" href="fsm_8c-source.html#l00038">_fsm_debug</a>, <a class="el" href="fsm_8c.html#1f9f6e6e1258571e9317dc47babc5bcb">_tsmask</a>, <a class="el" href="fsm_8h-source.html#l00196">fsm_s::action</a>, <a class="el" href="fsm_8h-source.html#l00180">fsm_s::astriplen</a>, <a class="el" href="fsm_8h-source.html#l00130">fsm_s::cfd</a>, <a class="el" href="fsm_8h-source.html#l00182">fsm_s::commit</a>, <a class="el" href="cpio_8h-source.html#l00066">CPIO_ALL_HARDLINKS</a>, <a class="el" href="cpio_8h-source.html#l00063">CPIO_FOLLOW_SYMLINKS</a>, <a class="el" href="cpio_8h-source.html#l00052">CPIOERR_ENOENT</a>, <a class="el" href="cpio_8h-source.html#l00053">CPIOERR_ENOTEMPTY</a>, <a class="el" href="cpio_8h-source.html#l00045">CPIOERR_HDR_SIZE</a>, <a class="el" href="cpio_8h-source.html#l00046">CPIOERR_HDR_TRAILER</a>, <a class="el" href="cpio_8h-source.html#l00048">CPIOERR_MISSING_HARDLINK</a>, <a class="el" href="cpio_8h-source.html#l00042">CPIOERR_READ_FAILED</a>, <a class="el" href="cpio_8h-source.html#l00047">CPIOERR_UNKNOWN_FILETYPE</a>, <a class="el" href="cpio_8h-source.html#l00051">CPIOERR_UNMAPPED_FILE</a>, <a class="el" href="fsm_8h-source.html#l00107">hardLink_s::createdPath</a>, <a class="el" href="fsm_8h-source.html#l00177">fsm_s::diskchecked</a>, <a class="el" href="fsm_8h-source.html#l00171">fsm_s::dnlx</a>, <a class="el" href="system_8h.html#a5e6580e8f12679392f66d3c9b146ab4">errno</a>, <a class="el" href="fsm_8h-source.html#l00178">fsm_s::exists</a>, <a class="el" href="fsm_8c-source.html#l00824">expandRegular()</a>, <a class="el" href="rpmlib_8h-source.html#l00842">FA_ERASE</a>, <a class="el" href="rpmlib_8h-source.html#l00834">FA_UNKNOWN</a>, <a class="el" href="fsm_8h-source.html#l00158">fsm_s::failedFile</a>, <a class="el" href="fsm_8h-source.html#l00193">fsm_s::fcontext</a>, <a class="el" href="rpmio__internal_8h-source.html#l00499">fdGetCpioPos()</a>, <a class="el" href="fsm_8h-source.html#l00195">fsm_s::fflags</a>, <a class="el" href="fsm_8c-source.html#l02475">fileStageString()</a>, <a class="el" href="fsm_8h-source.html#l00102">hardLink_s::filex</a>, <a class="el" href="fsm_8c-source.html#l00517">freeHardLink()</a>, <a class="el" href="fsm_8h-source.html#l00060">FSM_CHMOD</a>, <a class="el" href="fsm_8h-source.html#l00058">FSM_CHOWN</a>, <a class="el" href="fsm_8h-source.html#l00051">FSM_COMMIT</a>, <a class="el" href="fsm_8h-source.html#l00043">FSM_CREATE</a>, <a class="el" href="fsm_8h-source.html#l00021">FSM_DEAD</a>, <a class="el" href="fsm_8h-source.html#l00049">FSM_DESTROY</a>, <a class="el" href="fsm_8h-source.html#l00078">FSM_DREAD</a>, <a class="el" href="fsm_8h-source.html#l00072">FSM_EAT</a>, <a class="el" href="fsm_8h-source.html#l00035">FSM_FINI</a>, <a class="el" href="fsm_8h-source.html#l00030">FSM_INIT</a>, <a class="el" href="fsm_8h-source.html#l00019">FSM_INTERNAL</a>, <a class="el" href="fsm_8h-source.html#l00059">FSM_LCHOWN</a>, <a class="el" href="fsm_8h-source.html#l00057">FSM_LSETFCON</a>, <a class="el" href="fsm_8h-source.html#l00066">FSM_LSTAT</a>, <a class="el" href="fsm_8h-source.html#l00044">FSM_MAP</a>, <a class="el" href="fsm_8h-source.html#l00055">FSM_MKDIR</a>, <a class="el" href="fsm_8h-source.html#l00045">FSM_MKDIRS</a>, <a class="el" href="fsm_8h-source.html#l00064">FSM_MKFIFO</a>, <a class="el" href="fsm_8h-source.html#l00047">FSM_MKLINKS</a>, <a class="el" href="fsm_8h-source.html#l00065">FSM_MKNOD</a>, <a class="el" href="fsm_8h-source.html#l00071">FSM_NEXT</a>, <a class="el" href="fsm_8h-source.html#l00048">FSM_NOTIFY</a>, <a class="el" href="fsm_8h-source.html#l00039">FSM_PKGBUILD</a>, <a class="el" href="fsm_8h-source.html#l00040">FSM_PKGCOMMIT</a>, <a class="el" href="fsm_8h-source.html#l00038">FSM_PKGERASE</a>, <a class="el" href="fsm_8h-source.html#l00037">FSM_PKGINSTALL</a>, <a class="el" href="fsm_8h-source.html#l00033">FSM_POST</a>, <a class="el" href="fsm_8h-source.html#l00031">FSM_PRE</a>, <a class="el" href="fsm_8h-source.html#l00032">FSM_PROCESS</a>, <a class="el" href="fsm_8h-source.html#l00054">FSM_RENAME</a>, <a class="el" href="fsm_8h-source.html#l00056">FSM_RMDIR</a>, <a class="el" href="fsm_8h-source.html#l00046">FSM_RMDIRS</a>, <a class="el" href="fsm_8h-source.html#l00067">FSM_STAT</a>, <a class="el" href="fsm_8h-source.html#l00062">FSM_SYMLINK</a>, <a class="el" href="fsm_8h-source.html#l00020">FSM_SYSCALL</a>, <a class="el" href="fsm_8h-source.html#l00075">FSM_TRAILER</a>, <a class="el" href="fsm_8h-source.html#l00034">FSM_UNDO</a>, <a class="el" href="fsm_8h-source.html#l00029">FSM_UNKNOWN</a>, <a class="el" href="fsm_8h-source.html#l00053">FSM_UNLINK</a>, <a class="el" href="fsm_8h-source.html#l00061">FSM_UTIME</a>, <a class="el" href="fsm_8h-source.html#l00018">FSM_VERBOSE</a>, <a class="el" href="fsm_8h-source.html#l00050">FSM_VERIFY</a>, <a class="el" href="fsm_8c-source.html#l01155">fsmCommitLinks()</a>, <a class="el" href="fsm_8c-source.html#l00079">fsmFsPath()</a>, <a class="el" href="fsm_8c-source.html#l00058">fsmGetFi()</a>, <a class="el" href="fsm_8c-source.html#l00051">fsmGetTs()</a>, <a class="el" href="fsm_8c-source.html#l01089">fsmMakeLinks()</a>, <a class="el" href="fsm_8c-source.html#l00755">fsmMapAttrs()</a>, <a class="el" href="fsm_8c-source.html#l00623">fsmMapFContext()</a>, <a class="el" href="fsm_8c-source.html#l00653">fsmMapPath()</a>, <a class="el" href="fsm_8c-source.html#l01260">fsmMkdirs()</a>, <a class="el" href="fsm_8c-source.html#l00406">fsmNext()</a>, <a class="el" href="fsm_8c-source.html#l01203">fsmRmdirs()</a>, <a class="el" href="fsm_8c-source.html#l00014">fsmUNSAFE</a>, <a class="el" href="fsm_8h-source.html#l00197">fsm_s::goal</a>, <a class="el" href="fsm_8c-source.html#l01424">IS_DEV_LOG</a>, <a class="el" href="fsm_8h-source.html#l00149">fsm_s::iter</a>, <a class="el" href="fsm_8h-source.html#l00150">fsm_s::ix</a>, <a class="el" href="fsm_8h-source.html#l00173">fsm_s::ldn</a>, <a class="el" href="fsm_8h-source.html#l00175">fsm_s::ldnalloc</a>, <a class="el" href="fsm_8h-source.html#l00174">fsm_s::ldnlen</a>, <a class="el" href="lparser_8c-source.html#l00876">left</a>, <a class="el" href="fsm_8h-source.html#l00154">fsm_s::li</a>, <a class="el" href="fsm_8h-source.html#l00106">hardLink_s::linkIndex</a>, <a class="el" href="fsm_8h-source.html#l00152">fsm_s::links</a>, <a class="el" href="fsm_8h-source.html#l00105">hardLink_s::linksLeft</a>, <a class="el" href="fsm_8c-source.html#l00205">mapFind()</a>, <a class="el" href="fsm_8h-source.html#l00183">fsm_s::mapFlags</a>, <a class="el" href="fsm_8c-source.html#l00153">mapNextIterator()</a>, <a class="el" href="fsm_8h-source.html#l00179">fsm_s::mkdirsdone</a>, <a class="el" href="fsm_8h-source.html#l00098">hardLink_s::next</a>, <a class="el" href="fsm_8h-source.html#l00104">hardLink_s::nlink</a>, <a class="el" href="fsm_8h-source.html#l00166">fsm_s::nsuffix</a>, <a class="el" href="fsm_8h-source.html#l00128">fsm_s::opath</a>, <a class="el" href="rpmtool_8c-source.html#l00101">opath</a>, <a class="el" href="fsm_8h-source.html#l00201">fsm_s::osb</a>, <a class="el" href="fsm_8h-source.html#l00164">fsm_s::osuffix</a>, <a class="el" href="fsm_8h-source.html#l00126">fsm_s::path</a>, <a class="el" href="fsm_8h-source.html#l00176">fsm_s::postpone</a>, <a class="el" href="fsm_8h-source.html#l00181">fsm_s::rc</a>, <a class="el" href="fsm_8h-source.html#l00136">fsm_s::rdb</a>, <a class="el" href="fsm_8h-source.html#l00134">fsm_s::rdbuf</a>, <a class="el" href="fsm_8h-source.html#l00139">fsm_s::rdnb</a>, <a class="el" href="fsm_8h-source.html#l00137">fsm_s::rdsize</a>, <a class="el" href="rpmmessages_8h-source.html#l00043">RPMCALLBACK_INST_PROGRESS</a>, <a class="el" href="rpmerr_8h-source.html#l00133">RPMDEBUG_RMDIR</a>, <a class="el" href="rpmerr_8h-source.html#l00132">RPMDEBUG_UNLINK</a>, <a class="el" href="rpmerr_8h-source.html#l00046">RPMERR_RMDIR</a>, <a class="el" href="rpmerr_8h-source.html#l00045">RPMERR_UNLINK</a>, <a class="el" href="rpmerr_8h-source.html#l00143">rpmError</a>, <a class="el" href="rpmlib_8h-source.html#l00483">RPMFILE_GHOST</a>, <a class="el" href="rpmlib_8h-source.html#l00480">RPMFILE_MISSINGOK</a>, <a class="el" href="rpmfi_8c-source.html#l00685">rpmfiTypeString()</a>, <a class="el" href="rpmmessages_8h-source.html#l00011">RPMMESS_DEBUG</a>, <a class="el" href="rpmmessages_8h-source.html#l00014">RPMMESS_WARNING</a>, <a class="el" href="rpmmessages_8h-source.html#l00020">rpmMessage</a>, <a class="el" href="rpmts_8c-source.html#l01416">rpmtsFlags()</a>, <a class="el" href="rpmts_8c-source.html#l01374">rpmtsNotify()</a>, <a class="el" href="system_8h-source.html#l00612">S_ISLNK</a>, <a class="el" href="system_8h-source.html#l00616">S_ISSOCK</a>, <a class="el" href="fsm_8c-source.html#l00422">saveHardLink()</a>, <a class="el" href="fsm_8h-source.html#l00200">fsm_s::sb</a>, <a class="el" href="fsm_8h-source.html#l00103">hardLink_s::sb</a>, <a class="el" href="fsm_8h-source.html#l00198">fsm_s::stage</a>, <a class="el" href="file_8h-source.html#l00323">strerror</a>, <a class="el" href="fsm_8c-source.html#l00048">strict_erasures</a>, <a class="el" href="fsm_8h-source.html#l00160">fsm_s::subdir</a>, <a class="el" href="fsm_8h-source.html#l00169">fsm_s::sufbuf</a>, <a class="el" href="fsm_8h-source.html#l00168">fsm_s::suffix</a>, <a class="el" href="fsm_8h-source.html#l00144">fsm_s::wrb</a>, <a class="el" href="fsm_8h-source.html#l00142">fsm_s::wrbuf</a>, <a class="el" href="fsm_8c-source.html#l00893">writeFile()</a>, <a class="el" href="fsm_8c-source.html#l01036">writeLinkedFile()</a>, <a class="el" href="fsm_8h-source.html#l00146">fsm_s::wrlen</a>, <a class="el" href="fsm_8h-source.html#l00145">fsm_s::wrsize</a>, <a class="el" href="rpmlib_8h-source.html#l00848">XFA_SKIPPING</a>, <a class="el" href="rpmmalloc_8c-source.html#l00024">xmalloc()</a>, and <a class="el" href="rpmmalloc_8c-source.html#l00055">xstrdup()</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l00406">fsmNext()</a>, and <a class="el" href="fsm_8c-source.html#l00396">fsmThread()</a>.
</div>
</div><p>
<a class="anchor" name="0c1d23991daeaa4b7adddf3901cc6f01"></a><!-- doxytag: member="fsm.c::fsmTeardown" ref="0c1d23991daeaa4b7adddf3901cc6f01" args="(FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsmTeardown           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clean file state machine. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00607">607</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8h-source.html#l00130">fsm_s::cfd</a>, <a class="el" href="fsm_8h-source.html#l00158">fsm_s::failedFile</a>, <a class="el" href="rpmio_8h-source.html#l00533">fdFree</a>, <a class="el" href="fsm_8h-source.html#l00049">FSM_DESTROY</a>, <a class="el" href="fsm_8c-source.html#l00014">fsmUNSAFE</a>, <a class="el" href="fsm_8h-source.html#l00149">fsm_s::iter</a>, <a class="el" href="fsm_8c-source.html#l00113">mapFreeIterator()</a>, and <a class="el" href="fsm_8h-source.html#l00181">fsm_s::rc</a>.
<p>
Referenced by <a class="el" href="pack_8c-source.html#l00056">cpio_doio()</a>, and <a class="el" href="psm_8c-source.html#l01355">rpmpsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="3d7e1301915e79d5eccf84be83adfc79"></a><!-- doxytag: member="fsm.c::fsmThread" ref="3d7e1301915e79d5eccf84be83adfc79" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* fsmThread           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00396">396</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>, and <a class="el" href="fsm_8h-source.html#l00199">fsm_s::nstage</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l00406">fsmNext()</a>.
</div>
</div><p>
<a class="anchor" name="77f09b9b5a7d08b3e85caf7d201fa843"></a><!-- doxytag: member="fsm.c::newFSM" ref="77f09b9b5a7d08b3e85caf7d201fa843" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsm__s.html">FSM_t</a> newFSM           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create file state machine instance. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>file state machine </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00527">527</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="rpmmalloc_8c-source.html#l00034">xcalloc()</a>.
<p>
Referenced by <a class="el" href="rpmfi_8c-source.html#l01263">rpmfiNew()</a>.
</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="76ef6b61d6c034d5d7a84280e388f483"></a><!-- doxytag: member="fsm.c::_fsm_debug" ref="76ef6b61d6c034d5d7a84280e388f483" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="poptALL_8c.html#76ef6b61d6c034d5d7a84280e388f483">_fsm_debug</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00038">38</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
</div>
</div><p>
<a class="anchor" name="bd2f72dd5fff0183f3a3392c943ed9c3"></a><!-- doxytag: member="fsm.c::_fsm_threads" ref="bd2f72dd5fff0183f3a3392c943ed9c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="poptALL_8c.html#bd2f72dd5fff0183f3a3392c943ed9c3">_fsm_threads</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00042">42</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l00406">fsmNext()</a>.
</div>
</div><p>
<a class="anchor" name="b5626c987420c6ab48ddb9541d6a5181"></a><!-- doxytag: member="fsm.c::strict_erasures" ref="b5626c987420c6ab48ddb9541d6a5181" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="fsm_8c.html#b5626c987420c6ab48ddb9541d6a5181">strict_erasures</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00048">48</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 12 08:44:55 2007 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
