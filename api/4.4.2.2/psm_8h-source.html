<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: lib/psm.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul>
</div>
<h1>lib/psm.h</h1><a href="psm_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef H_PSM</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define H_PSM</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;<a class="code" href="rpmsq_8h.html">rpmsq.h</a>&gt;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="comment">/*@-exportlocal@*/</span>
<a name="l00012"></a>00012 <span class="comment">/*@unchecked@*/</span>
<a name="l00013"></a>00013 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="poptALL_8c.html#1c2ede845b148b5fca6c850a3e137d86">_psm_debug</a>;
<a name="l00014"></a>00014 <span class="comment">/*@=exportlocal@*/</span>
<a name="l00015"></a>00015 
<a name="l00018"></a><a class="code" href="psm_8h.html#30cca18df58bb74235d0b733be6354ab">00018</a> <span class="preprocessor">#define PSM_VERBOSE     0x8000</span>
<a name="l00019"></a><a class="code" href="psm_8h.html#bdf383c50480424500feccf0265e376e">00019</a> <span class="preprocessor"></span><span class="preprocessor">#define PSM_INTERNAL    0x4000</span>
<a name="l00020"></a><a class="code" href="psm_8h.html#285f8c188f91e147ff2d2d319a5b75c1">00020</a> <span class="preprocessor"></span><span class="preprocessor">#define PSM_SYSCALL     0x2000</span>
<a name="l00021"></a><a class="code" href="psm_8h.html#0db0c82e898f91e0eff716db3bbe9356">00021</a> <span class="preprocessor"></span><span class="preprocessor">#define PSM_DEAD        0x1000</span>
<a name="l00022"></a><a class="code" href="psm_8h.html#1e9d8e14212ba0c6a9e2c2745cc87afc">00022</a> <span class="preprocessor"></span><span class="preprocessor">#define _fv(_a)         ((_a) | PSM_VERBOSE)</span>
<a name="l00023"></a><a class="code" href="psm_8h.html#e4616f3bd45034bcb42462b57caaf25a">00023</a> <span class="preprocessor"></span><span class="preprocessor">#define _fi(_a)         ((_a) | PSM_INTERNAL)</span>
<a name="l00024"></a><a class="code" href="psm_8h.html#70df01ff72faea4afc12652c9e10eb67">00024</a> <span class="preprocessor"></span><span class="preprocessor">#define _fs(_a)         ((_a) | (PSM_INTERNAL | PSM_SYSCALL))</span>
<a name="l00025"></a><a class="code" href="psm_8h.html#c1fb81e93eb1a3c7bef6a0744b2b6f71">00025</a> <span class="preprocessor"></span><span class="preprocessor">#define _fd(_a)         ((_a) | (PSM_INTERNAL | PSM_DEAD))</span>
<a name="l00026"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6">00026</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6">pkgStage_e</a> {
<a name="l00027"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c611309fc454a51adf1f5510928edd88d9">00027</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c611309fc454a51adf1f5510928edd88d9">PSM_UNKNOWN</a>         =  0,
<a name="l00028"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6b96f4592754cfa38b714fb324ba072fa">00028</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6b96f4592754cfa38b714fb324ba072fa">PSM_INIT</a>            =  1,
<a name="l00029"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c65bed5400ba4c25e41818b1117e0a3249">00029</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c65bed5400ba4c25e41818b1117e0a3249">PSM_PRE</a>             =  2,
<a name="l00030"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6b137afc3d59eade9e30dac9646c24c64">00030</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6b137afc3d59eade9e30dac9646c24c64">PSM_PROCESS</a>         =  3,
<a name="l00031"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c649cff6c7f1fa224f18f252bd8e7ad344">00031</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c649cff6c7f1fa224f18f252bd8e7ad344">PSM_POST</a>            =  4,
<a name="l00032"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c68377b0108019ad19b0c49d387e681ba1">00032</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c68377b0108019ad19b0c49d387e681ba1">PSM_UNDO</a>            =  5,
<a name="l00033"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6ede13a4bd9a854259929a84f69ea1f53">00033</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6ede13a4bd9a854259929a84f69ea1f53">PSM_FINI</a>            =  6,
<a name="l00034"></a>00034 
<a name="l00035"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6ff25d8e1de35046f139253a28e33337c">00035</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6ff25d8e1de35046f139253a28e33337c">PSM_PKGINSTALL</a>      =  7,
<a name="l00036"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c60252f688190663fc6a5104aa3d63bd11">00036</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c60252f688190663fc6a5104aa3d63bd11">PSM_PKGERASE</a>        =  8,
<a name="l00037"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c68700f5d64d4b0977f64a4620512fc07d">00037</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c68700f5d64d4b0977f64a4620512fc07d">PSM_PKGCOMMIT</a>       = 10,
<a name="l00038"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c612fc9c43b9fd57116037cd61692d4adc">00038</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c612fc9c43b9fd57116037cd61692d4adc">PSM_PKGSAVE</a>         = 12,
<a name="l00039"></a>00039 
<a name="l00040"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c66d0f647bf066623daf5955e6f6fc0c60">00040</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c66d0f647bf066623daf5955e6f6fc0c60">PSM_CREATE</a>          = 17,
<a name="l00041"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c64d25c780368a52a0e0615c8b0453f403">00041</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c64d25c780368a52a0e0615c8b0453f403">PSM_NOTIFY</a>          = 22,
<a name="l00042"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6ff0d78985c48a8d7c77ba9a0963c4421">00042</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6ff0d78985c48a8d7c77ba9a0963c4421">PSM_DESTROY</a>         = 23,
<a name="l00043"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c626a2f9b59f654e7bb13cd54653f9cd5e">00043</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c626a2f9b59f654e7bb13cd54653f9cd5e">PSM_COMMIT</a>          = 25,
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c628f5898104deaf5fbf84ac9b9479aea9">00045</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c628f5898104deaf5fbf84ac9b9479aea9">PSM_CHROOT_IN</a>       = 51,
<a name="l00046"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c64af7c17221c173ed222d839efaf50eb7">00046</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c64af7c17221c173ed222d839efaf50eb7">PSM_CHROOT_OUT</a>      = 52,
<a name="l00047"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6c5ccb555ea14269c2e123260fefcbb5d">00047</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6c5ccb555ea14269c2e123260fefcbb5d">PSM_SCRIPT</a>          = 53,
<a name="l00048"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c65264f1e3cb3e34cb55e6480a05735684">00048</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c65264f1e3cb3e34cb55e6480a05735684">PSM_TRIGGERS</a>        = 54,
<a name="l00049"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6c012a1906d05ade4d1c8abcf28fa2b39">00049</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6c012a1906d05ade4d1c8abcf28fa2b39">PSM_IMMED_TRIGGERS</a>  = 55,
<a name="l00050"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6c6b5af32590e5f986b8a84438c9c9c8b">00050</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6c6b5af32590e5f986b8a84438c9c9c8b">PSM_RPMIO_FLAGS</a>     = 56,
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6d826d80215dc4bc2b713562b4e953dab">00052</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6d826d80215dc4bc2b713562b4e953dab">PSM_RPMDB_LOAD</a>      = 97,
<a name="l00053"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c61f982140042da78e78b0ac4855952c60">00053</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c61f982140042da78e78b0ac4855952c60">PSM_RPMDB_ADD</a>       = 98,
<a name="l00054"></a><a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6c2aaecfa1d4d357b4e01618ca45b9985">00054</a>     <a class="code" href="psm_8h.html#0109351d3159a533681094ee278a15c6c2aaecfa1d4d357b4e01618ca45b9985">PSM_RPMDB_REMOVE</a>    = 99
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 } <a class="code" href="psm_8h.html#dd4d6aee2024b5c3e3094b8b4e75c73e">pkgStage</a>;
<a name="l00057"></a>00057 <span class="preprocessor">#undef  _fv</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="preprocessor">#undef  _fi</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span><span class="preprocessor">#undef  _fs</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span><span class="preprocessor">#undef  _fd</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span>
<a name="l00064"></a><a class="code" href="structrpmpsm__s.html">00064</a> <span class="keyword">struct </span><a class="code" href="structrpmpsm__s.html">rpmpsm_s</a> {
<a name="l00065"></a><a class="code" href="structrpmpsm__s.html#146aaae5fa79583f644e606aa599fc85">00065</a>     <span class="keyword">struct </span><a class="code" href="structrpmsqElem.html" title="SIGCHLD queue element.">rpmsqElem</a> <a class="code" href="structrpmpsm__s.html#146aaae5fa79583f644e606aa599fc85">sq</a>;        
<a name="l00067"></a>00067 <span class="comment">/*@refcounted@*/</span>
<a name="l00068"></a><a class="code" href="structrpmpsm__s.html#09a3c1c4fc7b8c892f0f91822a54091d">00068</a>     <a class="code" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb" title="The RPM Transaction Set.">rpmts</a> <a class="code" href="structrpmpsm__s.html#09a3c1c4fc7b8c892f0f91822a54091d">ts</a>;                   
<a name="l00069"></a>00069 <span class="comment">/*@dependent@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00070"></a><a class="code" href="structrpmpsm__s.html#2bdb96b457b481e85f157a73560a2c2c">00070</a>     <a class="code" href="rpmlib_8h.html#595f1393fd2daf70aed8652ebc7d5dae" title="An element of a transaction set, i.e.">rpmte</a> <a class="code" href="structrpmpsm__s.html#2bdb96b457b481e85f157a73560a2c2c">te</a>;                   
<a name="l00071"></a>00071 <span class="comment">/*@refcounted@*/</span> <span class="comment">/*@relnull@*/</span>
<a name="l00072"></a><a class="code" href="structrpmpsm__s.html#315f8709f26495408d27caeaea5d44b2">00072</a>     <a class="code" href="rpmlib_8h.html#2f4e0bf6f106ed6889162837ce39b83e" title="File info tag sets from a header, so that a header can be discarded early.">rpmfi</a> <a class="code" href="structrpmpsm__s.html#315f8709f26495408d27caeaea5d44b2">fi</a>;                   
<a name="l00073"></a>00073 <span class="comment">/*@relnull@*/</span>
<a name="l00074"></a><a class="code" href="structrpmpsm__s.html#cf5a83039d96304e1c453ba843380124">00074</a>     <a class="code" href="struct__FD__s.html" title="The FD_t File Handle data structure.">FD_t</a> <a class="code" href="structrpmpsm__s.html#cf5a83039d96304e1c453ba843380124">cfd</a>;                   
<a name="l00075"></a>00075 <span class="comment">/*@relnull@*/</span>
<a name="l00076"></a><a class="code" href="structrpmpsm__s.html#91dde9174cf1212a391fa6e33b44467c">00076</a>     <a class="code" href="struct__FD__s.html" title="The FD_t File Handle data structure.">FD_t</a> <a class="code" href="structrpmpsm__s.html#91dde9174cf1212a391fa6e33b44467c">fd</a>;                    
<a name="l00077"></a><a class="code" href="structrpmpsm__s.html#d39c9dda89d60e148f2080c1359eee3c">00077</a>     <a class="code" href="structheaderToken__s.html" title="The Header data structure.">Header</a> <a class="code" href="structrpmpsm__s.html#d39c9dda89d60e148f2080c1359eee3c">oh</a>;                  
<a name="l00078"></a>00078 <span class="comment">/*@null@*/</span>
<a name="l00079"></a><a class="code" href="structrpmpsm__s.html#8166026a044be7c4de9f70ae8b90e96d">00079</a>     <a class="code" href="struct__rpmdbMatchIterator.html">rpmdbMatchIterator</a> <a class="code" href="structrpmpsm__s.html#8166026a044be7c4de9f70ae8b90e96d">mi</a>;
<a name="l00080"></a>00080 <span class="comment">/*@observer@*/</span>
<a name="l00081"></a><a class="code" href="structrpmpsm__s.html#83294fd48a388b10f90183c1f4883b7b">00081</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="structrpmpsm__s.html#83294fd48a388b10f90183c1f4883b7b">stepName</a>;
<a name="l00082"></a>00082 <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00083"></a><a class="code" href="structrpmpsm__s.html#e269f7e85e7472f5fc58a4321b3a627a">00083</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="structrpmpsm__s.html#e269f7e85e7472f5fc58a4321b3a627a">rpmio_flags</a>;
<a name="l00084"></a>00084 <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00085"></a><a class="code" href="structrpmpsm__s.html#00b5c19a2ca3f494730614461c5eacdc">00085</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="structrpmpsm__s.html#00b5c19a2ca3f494730614461c5eacdc">failedFile</a>;
<a name="l00086"></a>00086 <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00087"></a><a class="code" href="structrpmpsm__s.html#35d4650316e10fc27b1a40d45ff2fd2b">00087</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="structrpmpsm__s.html#35d4650316e10fc27b1a40d45ff2fd2b">pkgURL</a>;        
<a name="l00088"></a>00088 <span class="comment">/*@dependent@*/</span>
<a name="l00089"></a><a class="code" href="structrpmpsm__s.html#eb8a2962cda48b67ce7ed678cc72ce0a">00089</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="structrpmpsm__s.html#eb8a2962cda48b67ce7ed678cc72ce0a">pkgfn</a>;         
<a name="l00090"></a><a class="code" href="structrpmpsm__s.html#68aaebc64f38e30920e6def405d8286d">00090</a>     <span class="keywordtype">int</span> <a class="code" href="structrpmpsm__s.html#68aaebc64f38e30920e6def405d8286d">scriptTag</a>;              
<a name="l00091"></a><a class="code" href="structrpmpsm__s.html#6d08d5555aebb94e20860d401e399fd5">00091</a>     <span class="keywordtype">int</span> <a class="code" href="structrpmpsm__s.html#6d08d5555aebb94e20860d401e399fd5">progTag</a>;                
<a name="l00092"></a><a class="code" href="structrpmpsm__s.html#3e507e3d50f6d39afec083ea31616bde">00092</a>     <span class="keywordtype">int</span> <a class="code" href="structrpmpsm__s.html#3e507e3d50f6d39afec083ea31616bde">npkgs_installed</a>;        
<a name="l00093"></a><a class="code" href="structrpmpsm__s.html#60da291bab89161886287b433e08ffbb">00093</a>     <span class="keywordtype">int</span> <a class="code" href="structrpmpsm__s.html#60da291bab89161886287b433e08ffbb">scriptArg</a>;              
<a name="l00094"></a><a class="code" href="structrpmpsm__s.html#caa461109ee6758c76c07c39b1cd1cb9">00094</a>     <span class="keywordtype">int</span> <a class="code" href="structrpmpsm__s.html#caa461109ee6758c76c07c39b1cd1cb9">sense</a>;                  
<a name="l00095"></a><a class="code" href="structrpmpsm__s.html#d3a0fc64d365fd473ee037b305cce16a">00095</a>     <span class="keywordtype">int</span> <a class="code" href="structrpmpsm__s.html#d3a0fc64d365fd473ee037b305cce16a">countCorrection</a>;        
<a name="l00096"></a><a class="code" href="structrpmpsm__s.html#6b5417868118f89235db4787adf0e31e">00096</a>     <span class="keywordtype">int</span> <a class="code" href="structrpmpsm__s.html#6b5417868118f89235db4787adf0e31e">chrootDone</a>;             
<a name="l00097"></a><a class="code" href="structrpmpsm__s.html#bc25dd3a63eaa6dc936726879b90c13e">00097</a>     <span class="keywordtype">int</span> <a class="code" href="structrpmpsm__s.html#bc25dd3a63eaa6dc936726879b90c13e">unorderedSuccessor</a>;     
<a name="l00098"></a><a class="code" href="structrpmpsm__s.html#e0d4ac04cf7f29b1d6102e75d0fc3d6d">00098</a>     <a class="code" href="rpmmessages_8h.html#eab208082d1a47059c0fd07abd0b2d20" title="Bit(s) to identify progress callbacks.">rpmCallbackType</a> <a class="code" href="structrpmpsm__s.html#e0d4ac04cf7f29b1d6102e75d0fc3d6d">what</a>;       
<a name="l00099"></a><a class="code" href="structrpmpsm__s.html#536743696830d590f8b8ee99e1537c61">00099</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrpmpsm__s.html#536743696830d590f8b8ee99e1537c61">amount</a>;       
<a name="l00100"></a><a class="code" href="structrpmpsm__s.html#e33f14b5aebb398fe5aa384499a500fe">00100</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrpmpsm__s.html#e33f14b5aebb398fe5aa384499a500fe">total</a>;        
<a name="l00101"></a><a class="code" href="structrpmpsm__s.html#09f6a561c8a80c41cb940e3216a7120a">00101</a>     <a class="code" href="rpmlib_8h.html#f1718b0bac61cc03eaf3e3cb02806fb3" title="Package read return codes.">rpmRC</a> <a class="code" href="structrpmpsm__s.html#09f6a561c8a80c41cb940e3216a7120a">rc</a>;
<a name="l00102"></a><a class="code" href="structrpmpsm__s.html#48a6f1ee9ddf9f4ac714e67387cfde74">00102</a>     <a class="code" href="psm_8h.html#dd4d6aee2024b5c3e3094b8b4e75c73e">pkgStage</a> <a class="code" href="structrpmpsm__s.html#48a6f1ee9ddf9f4ac714e67387cfde74">goal</a>;
<a name="l00103"></a>00103 <span class="comment">/*@unused@*/</span>
<a name="l00104"></a><a class="code" href="structrpmpsm__s.html#424d437ce8a6f509b5e6f5329bbe6ecc">00104</a>     <a class="code" href="psm_8h.html#dd4d6aee2024b5c3e3094b8b4e75c73e">pkgStage</a> <a class="code" href="structrpmpsm__s.html#424d437ce8a6f509b5e6f5329bbe6ecc">stage</a>;             
<a name="l00105"></a><a class="code" href="structrpmpsm__s.html#5fa43ad018299640e2e785f9218d0571">00105</a>     <a class="code" href="psm_8h.html#dd4d6aee2024b5c3e3094b8b4e75c73e">pkgStage</a> <a class="code" href="structrpmpsm__s.html#5fa43ad018299640e2e785f9218d0571">nstage</a>;            
<a name="l00107"></a>00107 <span class="comment">/*@refs@*/</span>
<a name="l00108"></a><a class="code" href="structrpmpsm__s.html#66d46c6cc35c1e1b842eb3c85bac580c">00108</a>     <span class="keywordtype">int</span> <a class="code" href="structrpmpsm__s.html#66d46c6cc35c1e1b842eb3c85bac580c">nrefs</a>;                  
<a name="l00109"></a>00109 };
<a name="l00110"></a>00110 
<a name="l00111"></a>00111 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00113"></a>00113 <span class="preprocessor">#endif</span>
<a name="l00114"></a>00114 <span class="preprocessor"></span>
<a name="l00121"></a>00121 <span class="comment">/*@unused@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00122"></a>00122 <a class="code" href="structrpmpsm__s.html">rpmpsm</a> <a class="code" href="psm_8h.html#3824b32b1d3636c1286d6494651384cc">rpmpsmUnlink</a> (<span class="comment">/*@killref@*/</span> <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span> <a class="code" href="structrpmpsm__s.html">rpmpsm</a> psm,
<a name="l00123"></a>00123                 <span class="comment">/*@null@*/</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * msg)
<a name="l00124"></a>00124         <span class="comment">/*@modifies psm @*/</span>;
<a name="l00125"></a>00125 
<a name="l00127"></a>00127 <span class="comment">/*@-exportlocal@*/</span>
<a name="l00128"></a>00128 <span class="comment">/*@null@*/</span>
<a name="l00129"></a>00129 <a class="code" href="structrpmpsm__s.html">rpmpsm</a> <a class="code" href="psm_8c.html#df0354ded44da099ad96aedacabf6963">XrpmpsmUnlink</a> (<span class="comment">/*@killref@*/</span> <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span> <a class="code" href="structrpmpsm__s.html">rpmpsm</a> psm,
<a name="l00130"></a>00130                 <span class="comment">/*@null@*/</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * msg, <span class="keyword">const</span> <span class="keywordtype">char</span> * fn, <span class="keywordtype">unsigned</span> ln)
<a name="l00131"></a>00131         <span class="comment">/*@modifies psm @*/</span>;
<a name="l00132"></a>00132 <span class="comment">/*@=exportlocal@*/</span>
<a name="l00133"></a><a class="code" href="psm_8h.html#3824b32b1d3636c1286d6494651384cc">00133</a> <span class="preprocessor">#define rpmpsmUnlink(_psm, _msg)        XrpmpsmUnlink(_psm, _msg, __FILE__, __LINE__)</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span>
<a name="l00141"></a>00141 <span class="comment">/*@unused@*/</span> <span class="comment">/*@newref@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00142"></a>00142 <a class="code" href="structrpmpsm__s.html">rpmpsm</a> <a class="code" href="psm_8h.html#8c6b8089918352050eefd43292984d12">rpmpsmLink</a> (<span class="comment">/*@null@*/</span> <a class="code" href="structrpmpsm__s.html">rpmpsm</a> psm, <span class="comment">/*@null@*/</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * msg)
<a name="l00143"></a>00143         <span class="comment">/*@modifies psm @*/</span>;
<a name="l00144"></a>00144 
<a name="l00146"></a>00146 <span class="comment">/*@-exportlocal@*/</span>
<a name="l00147"></a>00147 <span class="comment">/*@newref@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00148"></a>00148 <a class="code" href="structrpmpsm__s.html">rpmpsm</a> <a class="code" href="psm_8c.html#2ed8568588043eb4438a90eeca7f31a6">XrpmpsmLink</a> (<span class="comment">/*@null@*/</span> <a class="code" href="structrpmpsm__s.html">rpmpsm</a> psm, <span class="comment">/*@null@*/</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * msg,
<a name="l00149"></a>00149                 <span class="keyword">const</span> <span class="keywordtype">char</span> * fn, <span class="keywordtype">unsigned</span> ln)
<a name="l00150"></a>00150         <span class="comment">/*@modifies psm @*/</span>;
<a name="l00151"></a>00151 <span class="comment">/*@=exportlocal@*/</span>
<a name="l00152"></a><a class="code" href="psm_8h.html#8c6b8089918352050eefd43292984d12">00152</a> <span class="preprocessor">#define rpmpsmLink(_psm, _msg)  XrpmpsmLink(_psm, _msg, __FILE__, __LINE__)</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>
<a name="l00159"></a>00159 <span class="comment">/*@null@*/</span>
<a name="l00160"></a>00160 <a class="code" href="structrpmpsm__s.html">rpmpsm</a> <a class="code" href="psm_8c.html#a1e982938a6245f0c96d479dfc114037" title="Destroy a package state machine.">rpmpsmFree</a>(<span class="comment">/*@killref@*/</span> <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span> <a class="code" href="structrpmpsm__s.html">rpmpsm</a> psm)
<a name="l00161"></a>00161         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00162"></a>00162         <span class="comment">/*@modifies psm, fileSystem @*/</span>;
<a name="l00163"></a>00163 
<a name="l00171"></a>00171 <span class="comment">/*@null@*/</span>
<a name="l00172"></a>00172 <a class="code" href="structrpmpsm__s.html">rpmpsm</a> <a class="code" href="psm_8c.html#81b9bae945250db05ce68d990bc80511" title="Create and load a package state machine.">rpmpsmNew</a>(<a class="code" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb" title="The RPM Transaction Set.">rpmts</a> ts, <span class="comment">/*@null@*/</span> <a class="code" href="rpmlib_8h.html#595f1393fd2daf70aed8652ebc7d5dae" title="An element of a transaction set, i.e.">rpmte</a> te, <a class="code" href="rpmlib_8h.html#2f4e0bf6f106ed6889162837ce39b83e" title="File info tag sets from a header, so that a header can be discarded early.">rpmfi</a> fi)
<a name="l00173"></a>00173         <span class="comment">/*@modifies ts, fi @*/</span>;
<a name="l00174"></a>00174 
<a name="l00181"></a>00181 <a class="code" href="rpmlib_8h.html#f1718b0bac61cc03eaf3e3cb02806fb3" title="Package read return codes.">rpmRC</a> <a class="code" href="psm_8c.html#b88cdc4aec4947089e9fd7ea5b0f96d5" title="Package state machine driver.">rpmpsmStage</a>(<a class="code" href="structrpmpsm__s.html">rpmpsm</a> psm, <a class="code" href="psm_8h.html#dd4d6aee2024b5c3e3094b8b4e75c73e">pkgStage</a> stage)
<a name="l00182"></a>00182         <span class="comment">/*@globals rpmGlobalMacroContext, h_errno, fileSystem, internalState @*/</span>
<a name="l00183"></a>00183         <span class="comment">/*@modifies psm, rpmGlobalMacroContext, fileSystem, internalState @*/</span>;
<a name="l00184"></a><a class="code" href="psm_8h.html#962b9fdb59eb2f5d8f67ab0635046842">00184</a> <span class="preprocessor">#define rpmpsmUNSAFE    rpmpsmSTAGE</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span>
<a name="l00186"></a>00186 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00187"></a>00187 <span class="preprocessor"></span>}
<a name="l00188"></a>00188 <span class="preprocessor">#endif</span>
<a name="l00189"></a>00189 <span class="preprocessor"></span>
<a name="l00190"></a>00190 <span class="preprocessor">#endif  </span><span class="comment">/* H_PSM */</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 12 08:44:53 2007 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
