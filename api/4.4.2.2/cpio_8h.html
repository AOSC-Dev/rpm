<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: lib/cpio.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul>
</div>
<h1>lib/cpio.h File Reference</h1>Structures used to handle cpio payloads within rpm packages. <a href="#_details">More...</a>
<p>

<p>
<a href="cpio_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcpioCrcPhysicalHeader.html">cpioCrcPhysicalHeader</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cpio archive header information.  <a href="structcpioCrcPhysicalHeader.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#gf8e0b5aafa75fcc7f6b3e9756fc8a28d">CPIOERR_CHECK_ERRNO</a>&nbsp;&nbsp;&nbsp;0x00008000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><dl class="note" compact><dt><b>Note:</b></dt><dd>CPIO_CHECK_ERRNO bit is set only if errno is valid. </dd></dl>
 <a href="group__payload.html#gf8e0b5aafa75fcc7f6b3e9756fc8a28d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpio_8h.html#0f0f3000ad7f8e5f8a9395145c3ebd8c">CPIO_NEWC_MAGIC</a>&nbsp;&nbsp;&nbsp;&quot;070701&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpio_8h.html#78a12c3a44d98bab6c898176a8920ad1">CPIO_CRC_MAGIC</a>&nbsp;&nbsp;&nbsp;&quot;070702&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpio_8h.html#3c091cfbcf3ae6d8f677e5ab9a775da3">CPIO_TRAILER</a>&nbsp;&nbsp;&nbsp;&quot;TRAILER!!!&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpio_8h.html#8501579303f5c4b22d76c083c2f13b1b">PHYS_HDR_SIZE</a>&nbsp;&nbsp;&nbsp;110</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef enum <a class="el" href="group__payload.html#gc863476fd23e3fd0af9465790169e2f4">cpioMapFlags_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g80a0fb6b3846deda55485084f56cc813">cpioMapFlags</a></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g4dbf9405fc8be17d6ed0d0b606b65a2e">cpioErrorReturns</a> { <br>
&nbsp;&nbsp;<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2ecd751dfd8a7c74ee9efb7b7a3a77fe84">CPIOERR_BAD_MAGIC</a> =  (2 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e492023124653d08dc4f871372bbc0bb1">CPIOERR_BAD_HEADER</a> =  (3 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e27dbc04e6a7efe53ef2cf19c050aaeb7">CPIOERR_OPEN_FAILED</a> =  (4 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e040d2d8a2e9f42d5dac7fe26eab48892">CPIOERR_CHMOD_FAILED</a> =  (5 | 0x00008000 ), 
<br>
&nbsp;&nbsp;<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2edc43c00d2ce573743077e525c8ee68b3">CPIOERR_CHOWN_FAILED</a> =  (6 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2eae008ca13418c1092ef0c314a8273d8d">CPIOERR_WRITE_FAILED</a> =  (7 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e1e3b66871224aac3bc02873a84a4be07">CPIOERR_UTIME_FAILED</a> =  (8 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e5b65782bb44a2decdb59d4963d516252">CPIOERR_UNLINK_FAILED</a> =  (9 | 0x00008000 ), 
<br>
&nbsp;&nbsp;<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e1a4230f664367a2c3a8d84559020fdce">CPIOERR_RENAME_FAILED</a> =  (10 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2ea07a78f4a1fce2d987ee14d5dda85d8f">CPIOERR_SYMLINK_FAILED</a> =  (11 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e7286fa2d91982f974bea5359c99ad3d2">CPIOERR_STAT_FAILED</a> =  (12 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e04062662959eacf4abb420b0c29e0a2b">CPIOERR_LSTAT_FAILED</a> =  (13 | 0x00008000 ), 
<br>
&nbsp;&nbsp;<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2ed2fda7fdbb23d86ff74dcb26abfc57a6">CPIOERR_MKDIR_FAILED</a> =  (14 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e3d817496c227983a181bb965b02c4125">CPIOERR_RMDIR_FAILED</a> =  (15 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e922dfaaa522313a0a3168fcb6ad30653">CPIOERR_MKNOD_FAILED</a> =  (16 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2ea3cd2a89a57bbcae50c7b47ffdfb8cbf">CPIOERR_MKFIFO_FAILED</a> =  (17 | 0x00008000 ), 
<br>
&nbsp;&nbsp;<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e2676b4b84f9181f5f552b9becbe60097">CPIOERR_LINK_FAILED</a> =  (18 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e43eba27fcdd62587d62a263ce5039ec7">CPIOERR_READLINK_FAILED</a> =  (19 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2ecb820fe707edd24483b8d8ed6b90e06f">CPIOERR_READ_FAILED</a> =  (20 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2eeef62a89a6075e193b5d544a5526eceb">CPIOERR_COPY_FAILED</a> =  (21 | 0x00008000 ), 
<br>
&nbsp;&nbsp;<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e07dca272a26b01cf3e7e051aa46a8513">CPIOERR_LSETFCON_FAILED</a> =  (22 | 0x00008000 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e7552686b53ad8e2c0fe8abf5f2604902">CPIOERR_HDR_SIZE</a> =  (23 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2ead49a14963256f34f3409ee294f239f2">CPIOERR_HDR_TRAILER</a> =  (24 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e92ac2f69e7bcd41f4e7ce0d6fbb6dc90">CPIOERR_UNKNOWN_FILETYPE</a> =  (25 ), 
<br>
&nbsp;&nbsp;<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2eb2ee20a3391f8f40bcfb2feee21ec081">CPIOERR_MISSING_HARDLINK</a> =  (26 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e4b0593b894a5c8df02f45c21e08a1e99">CPIOERR_MD5SUM_MISMATCH</a> =  (27 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e939ab37790a9bfe069b1a80a8e9c20f0">CPIOERR_INTERNAL</a> =  (28 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e37d6e755048522b400ae4a83c27044fd">CPIOERR_UNMAPPED_FILE</a> =  (29 ), 
<br>
&nbsp;&nbsp;<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e6bb97262a2b0cb2a87ecc5e7eace5d87">CPIOERR_ENOENT</a> =  (30 ), 
<a class="el" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e2f2b6f9348148b69b04fa21a245b7b92">CPIOERR_ENOTEMPTY</a> =  (31 )
<br>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#gc863476fd23e3fd0af9465790169e2f4">cpioMapFlags_e</a> { <br>
&nbsp;&nbsp;<a class="el" href="group__payload.html#ggc863476fd23e3fd0af9465790169e2f469671e9f4719f9a298252f908f72c707">CPIO_MAP_PATH</a> =  (1 &lt;&lt; 0), 
<a class="el" href="group__payload.html#ggc863476fd23e3fd0af9465790169e2f4ce662854a351978b15e7d49c46d5dc94">CPIO_MAP_MODE</a> =  (1 &lt;&lt; 1), 
<a class="el" href="group__payload.html#ggc863476fd23e3fd0af9465790169e2f40a3c9b3aabf789894e5688520eea87e2">CPIO_MAP_UID</a> =  (1 &lt;&lt; 2), 
<a class="el" href="group__payload.html#ggc863476fd23e3fd0af9465790169e2f4d841effb2ead0ec888b53cfbca31f692">CPIO_MAP_GID</a> =  (1 &lt;&lt; 3), 
<br>
&nbsp;&nbsp;<a class="el" href="group__payload.html#ggc863476fd23e3fd0af9465790169e2f42df34a484b9284f89e51b601daf02fd1">CPIO_FOLLOW_SYMLINKS</a> =  (1 &lt;&lt; 4), 
<a class="el" href="group__payload.html#ggc863476fd23e3fd0af9465790169e2f4c92a6a84a77cb0d22d5dba83db4f57fb">CPIO_MAP_ABSOLUTE</a> =  (1 &lt;&lt; 5), 
<a class="el" href="group__payload.html#ggc863476fd23e3fd0af9465790169e2f4d90d053c748a6c4d85ca651a30bcdde1">CPIO_MAP_ADDDOT</a> =  (1 &lt;&lt; 6), 
<a class="el" href="group__payload.html#ggc863476fd23e3fd0af9465790169e2f4490df1434a55cd7a5601d224c87857dc">CPIO_ALL_HARDLINKS</a> =  (1 &lt;&lt; 7), 
<br>
&nbsp;&nbsp;<a class="el" href="group__payload.html#ggc863476fd23e3fd0af9465790169e2f402fe0a87ce23ecf3251585ba2fff8ffd">CPIO_MAP_TYPE</a> =  (1 &lt;&lt; 8), 
<a class="el" href="group__payload.html#ggc863476fd23e3fd0af9465790169e2f40d13a3bd23b4aec9fa4ff5aaae238f24">CPIO_SBIT_CHECK</a> =  (1 &lt;&lt; 9)
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpio_8h.html#9bc52ffb75ef798b4ff5a43e29df9ce1">cpioTrailerWrite</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write cpio trailer.  <a href="#9bc52ffb75ef798b4ff5a43e29df9ce1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpio_8h.html#0364dffab5bf80d3afdaa841da5a497f">cpioHeaderWrite</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm, struct stat *st)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write cpio header.  <a href="#0364dffab5bf80d3afdaa841da5a497f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpio_8h.html#e672b69d8e0ef099707991d463d76164">cpioHeaderRead</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm, struct stat *st)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read cpio header.  <a href="#e672b69d8e0ef099707991d463d76164"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *const&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__payload.html#g662f242398346a77fd1d9933053f11ac">cpioStrerror</a> (int rc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return formatted error message on payload handling failure.  <a href="group__payload.html#g662f242398346a77fd1d9933053f11ac"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Structures used to handle cpio payloads within rpm packages. 
<p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>Rpm's cpio implementation may be different than standard cpio. The implementation is pretty close, but it has some behaviors which are more to RPM's liking. I tried to document the differing behavior in <a class="el" href="cpio_8c.html" title="Handle cpio payloads within rpm packages.">cpio.c</a>, but I may have missed some (ewt). </dd></dl>

<p>
Definition in file <a class="el" href="cpio_8h-source.html">cpio.h</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="78a12c3a44d98bab6c898176a8920ad1"></a><!-- doxytag: member="cpio.h::CPIO_CRC_MAGIC" ref="78a12c3a44d98bab6c898176a8920ad1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPIO_CRC_MAGIC&nbsp;&nbsp;&nbsp;&quot;070702&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="cpio_8h-source.html#l00072">72</a> of file <a class="el" href="cpio_8h-source.html">cpio.h</a>.
<p>
Referenced by <a class="el" href="cpio_8c-source.html#l00130">cpioHeaderRead()</a>.
</div>
</div><p>
<a class="anchor" name="0f0f3000ad7f8e5f8a9395145c3ebd8c"></a><!-- doxytag: member="cpio.h::CPIO_NEWC_MAGIC" ref="0f0f3000ad7f8e5f8a9395145c3ebd8c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPIO_NEWC_MAGIC&nbsp;&nbsp;&nbsp;&quot;070701&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="cpio_8h-source.html#l00071">71</a> of file <a class="el" href="cpio_8h-source.html">cpio.h</a>.
<p>
Referenced by <a class="el" href="cpio_8c-source.html#l00130">cpioHeaderRead()</a>, <a class="el" href="cpio_8c-source.html#l00092">cpioHeaderWrite()</a>, and <a class="el" href="cpio_8c-source.html#l00064">cpioTrailerWrite()</a>.
</div>
</div><p>
<a class="anchor" name="3c091cfbcf3ae6d8f677e5ab9a775da3"></a><!-- doxytag: member="cpio.h::CPIO_TRAILER" ref="3c091cfbcf3ae6d8f677e5ab9a775da3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPIO_TRAILER&nbsp;&nbsp;&nbsp;&quot;TRAILER!!!&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="cpio_8h-source.html#l00073">73</a> of file <a class="el" href="cpio_8h-source.html">cpio.h</a>.
<p>
Referenced by <a class="el" href="cpio_8c-source.html#l00064">cpioTrailerWrite()</a>.
</div>
</div><p>
<a class="anchor" name="8501579303f5c4b22d76c083c2f13b1b"></a><!-- doxytag: member="cpio.h::PHYS_HDR_SIZE" ref="8501579303f5c4b22d76c083c2f13b1b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHYS_HDR_SIZE&nbsp;&nbsp;&nbsp;110          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="cpio_8h-source.html#l00095">95</a> of file <a class="el" href="cpio_8h-source.html">cpio.h</a>.
<p>
Referenced by <a class="el" href="cpio_8c-source.html#l00130">cpioHeaderRead()</a>, <a class="el" href="cpio_8c-source.html#l00092">cpioHeaderWrite()</a>, and <a class="el" href="cpio_8c-source.html#l00064">cpioTrailerWrite()</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="e672b69d8e0ef099707991d463d76164"></a><!-- doxytag: member="cpio.h::cpioHeaderRead" ref="e672b69d8e0ef099707991d463d76164" args="(FSM_t fsm, struct stat *st)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpioHeaderRead           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct stat *&nbsp;</td>
          <td class="paramname"> <em>st</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read cpio header. 
<p>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file path and stat info </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>st</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="cpio_8c-source.html#l00130">130</a> of file <a class="el" href="cpio_8c-source.html">cpio.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, <a class="el" href="cpio_8h-source.html#l00072">CPIO_CRC_MAGIC</a>, <a class="el" href="cpio_8h-source.html#l00071">CPIO_NEWC_MAGIC</a>, <a class="el" href="cpio_8h-source.html#l00024">CPIOERR_BAD_HEADER</a>, <a class="el" href="cpio_8h-source.html#l00023">CPIOERR_BAD_MAGIC</a>, <a class="el" href="cpio_8h-source.html#l00042">CPIOERR_READ_FAILED</a>, <a class="el" href="cpio_8h-source.html#l00087">cpioCrcPhysicalHeader::devMajor</a>, <a class="el" href="cpio_8h-source.html#l00088">cpioCrcPhysicalHeader::devMinor</a>, <a class="el" href="cpio_8h-source.html#l00086">cpioCrcPhysicalHeader::filesize</a>, <a class="el" href="fsm_8h-source.html#l00078">FSM_DREAD</a>, <a class="el" href="fsm_8c-source.html#l00406">fsmNext()</a>, <a class="el" href="cpio_8c-source.html#l00053">GET_NUM_FIELD</a>, <a class="el" href="cpio_8h-source.html#l00083">cpioCrcPhysicalHeader::gid</a>, <a class="el" href="cpio_8h-source.html#l00080">cpioCrcPhysicalHeader::inode</a>, <a class="el" href="cpio_8h-source.html#l00079">cpioCrcPhysicalHeader::magic</a>, <a class="el" href="system_8h-source.html#l00090">major</a>, <a class="el" href="system_8h-source.html#l00092">makedev</a>, <a class="el" href="system_8h-source.html#l00091">minor</a>, <a class="el" href="cpio_8h-source.html#l00081">cpioCrcPhysicalHeader::mode</a>, <a class="el" href="cpio_8h-source.html#l00085">cpioCrcPhysicalHeader::mtime</a>, <a class="el" href="cpio_8h-source.html#l00091">cpioCrcPhysicalHeader::namesize</a>, <a class="el" href="cpio_8h-source.html#l00084">cpioCrcPhysicalHeader::nlink</a>, <a class="el" href="fsm_8h-source.html#l00126">fsm_s::path</a>, <a class="el" href="cpio_8h-source.html#l00095">PHYS_HDR_SIZE</a>, <a class="el" href="cpio_8h-source.html#l00089">cpioCrcPhysicalHeader::rdevMajor</a>, <a class="el" href="cpio_8h-source.html#l00090">cpioCrcPhysicalHeader::rdevMinor</a>, <a class="el" href="fsm_8h-source.html#l00139">fsm_s::rdnb</a>, <a class="el" href="cpio_8h-source.html#l00082">cpioCrcPhysicalHeader::uid</a>, <a class="el" href="fsm_8h-source.html#l00142">fsm_s::wrbuf</a>, <a class="el" href="fsm_8h-source.html#l00146">fsm_s::wrlen</a>, <a class="el" href="fsm_8h-source.html#l00145">fsm_s::wrsize</a>, and <a class="el" href="rpmmalloc_8c-source.html#l00024">xmalloc()</a>.
</div>
</div><p>
<a class="anchor" name="0364dffab5bf80d3afdaa841da5a497f"></a><!-- doxytag: member="cpio.h::cpioHeaderWrite" ref="0364dffab5bf80d3afdaa841da5a497f" args="(FSM_t fsm, struct stat *st)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpioHeaderWrite           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct stat *&nbsp;</td>
          <td class="paramname"> <em>st</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write cpio header. 
<p>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file path and stat info </td></tr>
  </table>
</dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>st</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="cpio_8c-source.html#l00092">92</a> of file <a class="el" href="cpio_8c-source.html">cpio.c</a>.
<p>
References <a class="el" href="cpio_8h-source.html#l00092">cpioCrcPhysicalHeader::checksum</a>, <a class="el" href="cpio_8h-source.html#l00071">CPIO_NEWC_MAGIC</a>, <a class="el" href="cpio_8h-source.html#l00028">CPIOERR_WRITE_FAILED</a>, <a class="el" href="cpio_8h-source.html#l00087">cpioCrcPhysicalHeader::devMajor</a>, <a class="el" href="cpio_8h-source.html#l00088">cpioCrcPhysicalHeader::devMinor</a>, <a class="el" href="cpio_8h-source.html#l00086">cpioCrcPhysicalHeader::filesize</a>, <a class="el" href="fsm_8h-source.html#l00079">FSM_DWRITE</a>, <a class="el" href="fsm_8h-source.html#l00074">FSM_PAD</a>, <a class="el" href="fsm_8c-source.html#l00406">fsmNext()</a>, <a class="el" href="cpio_8h-source.html#l00083">cpioCrcPhysicalHeader::gid</a>, <a class="el" href="cpio_8h-source.html#l00080">cpioCrcPhysicalHeader::inode</a>, <a class="el" href="cpio_8h-source.html#l00079">cpioCrcPhysicalHeader::magic</a>, <a class="el" href="system_8h-source.html#l00090">major</a>, <a class="el" href="system_8h-source.html#l00091">minor</a>, <a class="el" href="cpio_8h-source.html#l00081">cpioCrcPhysicalHeader::mode</a>, <a class="el" href="cpio_8h-source.html#l00085">cpioCrcPhysicalHeader::mtime</a>, <a class="el" href="cpio_8h-source.html#l00091">cpioCrcPhysicalHeader::namesize</a>, <a class="el" href="cpio_8h-source.html#l00084">cpioCrcPhysicalHeader::nlink</a>, <a class="el" href="fsm_8h-source.html#l00126">fsm_s::path</a>, <a class="el" href="cpio_8h-source.html#l00095">PHYS_HDR_SIZE</a>, <a class="el" href="fsm_8h-source.html#l00134">fsm_s::rdbuf</a>, <a class="el" href="cpio_8h-source.html#l00089">cpioCrcPhysicalHeader::rdevMajor</a>, <a class="el" href="cpio_8h-source.html#l00090">cpioCrcPhysicalHeader::rdevMinor</a>, <a class="el" href="fsm_8h-source.html#l00139">fsm_s::rdnb</a>, <a class="el" href="cpio_8c-source.html#l00058">SET_NUM_FIELD</a>, <a class="el" href="cpio_8h-source.html#l00082">cpioCrcPhysicalHeader::uid</a>, and <a class="el" href="fsm_8h-source.html#l00147">fsm_s::wrnb</a>.
</div>
</div><p>
<a class="anchor" name="9bc52ffb75ef798b4ff5a43e29df9ce1"></a><!-- doxytag: member="cpio.h::cpioTrailerWrite" ref="9bc52ffb75ef798b4ff5a43e29df9ce1" args="(FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpioTrailerWrite           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write cpio trailer. 
<p>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file path and stat info </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="cpio_8c-source.html#l00064">64</a> of file <a class="el" href="cpio_8c-source.html">cpio.c</a>.
<p>
References <a class="el" href="cpio_8h-source.html#l00071">CPIO_NEWC_MAGIC</a>, <a class="el" href="cpio_8h-source.html#l00073">CPIO_TRAILER</a>, <a class="el" href="fsm_8h-source.html#l00079">FSM_DWRITE</a>, <a class="el" href="fsm_8h-source.html#l00074">FSM_PAD</a>, <a class="el" href="fsm_8c-source.html#l00406">fsmNext()</a>, <a class="el" href="cpio_8h-source.html#l00095">PHYS_HDR_SIZE</a>, <a class="el" href="fsm_8h-source.html#l00134">fsm_s::rdbuf</a>, and <a class="el" href="fsm_8h-source.html#l00139">fsm_s::rdnb</a>.
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 12 08:44:55 2007 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
