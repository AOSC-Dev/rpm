<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: lib/poptQV.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul>
</div>
<h1>lib/poptQV.c</h1><a href="poptQV_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00006"></a>00006 <span class="preprocessor">#include "<a class="code" href="system_8h.html">system.h</a>"</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;<a class="code" href="rpmcli_8h.html">rpmcli.h</a>&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;<a class="code" href="rpmbuild_8h.html" title="This is the *only* module users of librpmbuild should need to include.">rpmbuild.h</a>&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;<a class="code" href="rpmgi_8h.html">rpmgi.h</a>&gt;</span>      <span class="comment">/* XXX for giFlags */</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="preprocessor">#include "<a class="code" href="debug_8h.html">debug.h</a>"</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="comment">/*@unchecked@*/</span>
<a name="l00015"></a><a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">00015</a> <span class="keyword">struct </span><a class="code" href="structrpmQVKArguments__s.html" title="Describe query/verify/signature command line operation.">rpmQVKArguments_s</a> <a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>;
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="comment">/*@unchecked@*/</span>
<a name="l00018"></a><a class="code" href="group__rpmcli.html#g7eb51b476f308337156371e05a4dfe57">00018</a> <span class="keywordtype">int</span> <a class="code" href="spec_8c.html#7eb51b476f308337156371e05a4dfe57">specedit</a> = 0;
<a name="l00019"></a>00019 
<a name="l00020"></a><a class="code" href="poptQV_8c.html#f686caba57acf792004af5bf11357157">00020</a> <span class="preprocessor">#define POPT_QUERYFORMAT        -1000</span>
<a name="l00021"></a><a class="code" href="poptQV_8c.html#5750f39e425bd5396bcecb334b7154ab">00021</a> <span class="preprocessor"></span><span class="preprocessor">#define POPT_WHATREQUIRES       -1001</span>
<a name="l00022"></a><a class="code" href="poptQV_8c.html#bc54616de71182b967c4a60ced791e16">00022</a> <span class="preprocessor"></span><span class="preprocessor">#define POPT_WHATPROVIDES       -1002</span>
<a name="l00023"></a><a class="code" href="poptQV_8c.html#e20cf8856eb668e1fab46c8ed4392424">00023</a> <span class="preprocessor"></span><span class="preprocessor">#define POPT_QUERYBYNUMBER      -1003</span>
<a name="l00024"></a><a class="code" href="poptQV_8c.html#6e0585dfe66b7bfb52d9a50433671d88">00024</a> <span class="preprocessor"></span><span class="preprocessor">#define POPT_TRIGGEREDBY        -1004</span>
<a name="l00025"></a><a class="code" href="poptQV_8c.html#f03ea6a482adf2223160170c7c2f9031">00025</a> <span class="preprocessor"></span><span class="preprocessor">#define POPT_DUMP               -1005</span>
<a name="l00026"></a><a class="code" href="poptQV_8c.html#0ad5578aed9c86f7223cb4a858033d22">00026</a> <span class="preprocessor"></span><span class="preprocessor">#define POPT_SPECFILE           -1006</span>
<a name="l00027"></a><a class="code" href="poptQV_8c.html#4c8b03ee4b22c2f467f0b85d0cb742d5">00027</a> <span class="preprocessor"></span><span class="preprocessor">#define POPT_QUERYBYPKGID       -1007</span>
<a name="l00028"></a><a class="code" href="poptQV_8c.html#dc567d3da78676260780a2cfff0776dc">00028</a> <span class="preprocessor"></span><span class="preprocessor">#define POPT_QUERYBYHDRID       -1008</span>
<a name="l00029"></a><a class="code" href="poptQV_8c.html#84bbe9269d4918859a64983beee790b9">00029</a> <span class="preprocessor"></span><span class="preprocessor">#define POPT_QUERYBYFILEID      -1009</span>
<a name="l00030"></a><a class="code" href="poptQV_8c.html#88dc561115f58e15ade7870047aa03b9">00030</a> <span class="preprocessor"></span><span class="preprocessor">#define POPT_QUERYBYTID         -1010</span>
<a name="l00031"></a><a class="code" href="poptQV_8c.html#51d28001c9897fb09974a6ea4ae038a2">00031</a> <span class="preprocessor"></span><span class="preprocessor">#define POPT_HDLIST             -1011</span>
<a name="l00032"></a><a class="code" href="poptQV_8c.html#9574cf56d61dcb3890aeb9e9895a7869">00032</a> <span class="preprocessor"></span><span class="preprocessor">#define POPT_FTSWALK            -1012</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span>
<a name="l00034"></a>00034 <span class="comment">/* -1025 thrugh -1032 are common in rpmcli.h. */</span>
<a name="l00035"></a><a class="code" href="poptQV_8c.html#e437f75d46265acd89885b76b4355306">00035</a> <span class="preprocessor">#define POPT_TARGETPLATFORM     -1036</span>
<a name="l00036"></a><a class="code" href="poptQV_8c.html#66483cb1b2a9302e144fe9db9c7581d9">00036</a> <span class="preprocessor"></span><span class="preprocessor">#define POPT_TRUST              -1037</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>
<a name="l00038"></a>00038 <span class="comment">/* ========== Query/Verify/Signature source args */</span>
<a name="l00039"></a><a class="code" href="poptQV_8c.html#e698fdb2a33972dd705372f9a4093614">00039</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="poptQV_8c.html#e698fdb2a33972dd705372f9a4093614">rpmQVSourceArgCallback</a>( <span class="comment">/*@unused@*/</span> poptContext con,
<a name="l00040"></a>00040                 <span class="comment">/*@unused@*/</span> <span class="keyword">enum</span> poptCallbackReason reason,
<a name="l00041"></a>00041                 <span class="keyword">const</span> <span class="keyword">struct</span> poptOption * opt, <span class="comment">/*@unused@*/</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * arg, 
<a name="l00042"></a>00042                 <span class="comment">/*@unused@*/</span> <span class="keyword">const</span> <span class="keywordtype">void</span> * data)
<a name="l00043"></a>00043         <span class="comment">/*@globals rpmQVKArgs @*/</span>
<a name="l00044"></a>00044         <span class="comment">/*@modifies rpmQVKArgs @*/</span>
<a name="l00045"></a>00045 {
<a name="l00046"></a>00046     <a class="code" href="structrpmQVKArguments__s.html" title="Describe query/verify/signature command line operation.">QVA_t</a> qva = &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>;
<a name="l00047"></a>00047 
<a name="l00048"></a>00048     <span class="keywordflow">switch</span> (opt-&gt;val) {
<a name="l00049"></a>00049     <span class="keywordflow">case</span> <span class="charliteral">'q'</span>:   <span class="comment">/* from --query, -q */</span>
<a name="l00050"></a>00050     <span class="keywordflow">case</span> <span class="charliteral">'Q'</span>:   <span class="comment">/* from --querytags (handled by poptALL) */</span>
<a name="l00051"></a>00051     <span class="keywordflow">case</span> <span class="charliteral">'V'</span>:   <span class="comment">/* from --verify, -V */</span>
<a name="l00052"></a>00052     <span class="keywordflow">case</span> <span class="charliteral">'A'</span>:   <span class="comment">/* from --addsign */</span>
<a name="l00053"></a>00053     <span class="keywordflow">case</span> <span class="charliteral">'D'</span>:   <span class="comment">/* from --delsign */</span>
<a name="l00054"></a>00054     <span class="keywordflow">case</span> <span class="charliteral">'I'</span>:   <span class="comment">/* from --import */</span>
<a name="l00055"></a>00055     <span class="keywordflow">case</span> <span class="charliteral">'K'</span>:   <span class="comment">/* from --checksig, -K */</span>
<a name="l00056"></a>00056     <span class="keywordflow">case</span> <span class="charliteral">'R'</span>:   <span class="comment">/* from --resign */</span>
<a name="l00057"></a>00057         <span class="keywordflow">if</span> (qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#15937691758ddae9ec77fa9446b29b30">qva_mode</a> == <span class="charliteral">'\0'</span> || strchr(<span class="stringliteral">"qQ "</span>, qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#15937691758ddae9ec77fa9446b29b30">qva_mode</a>)) {
<a name="l00058"></a>00058             qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#15937691758ddae9ec77fa9446b29b30">qva_mode</a> = opt-&gt;val;
<a name="l00059"></a>00059             qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#69647f13f481afa2e9b4b1a357922927">qva_char</a> = <span class="charliteral">' '</span>;
<a name="l00060"></a>00060         }
<a name="l00061"></a>00061         <span class="keywordflow">break</span>;
<a name="l00062"></a>00062     <span class="keywordflow">case</span> <span class="charliteral">'a'</span>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9f199486c942ba8c4bb3cccbf897827372">RPMQV_ALL</a>; qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++; <span class="keywordflow">break</span>;
<a name="l00063"></a>00063     <span class="keywordflow">case</span> <span class="charliteral">'f'</span>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9f18da98910c31df8d22b920f73fe758f1">RPMQV_PATH</a>; qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++; <span class="keywordflow">break</span>;
<a name="l00064"></a>00064     <span class="keywordflow">case</span> <span class="charliteral">'g'</span>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9fe40b74e2d0af075018f0c609e1d24002">RPMQV_GROUP</a>; qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++; <span class="keywordflow">break</span>;
<a name="l00065"></a>00065     <span class="keywordflow">case</span> <span class="charliteral">'p'</span>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9faac9d9275e74b290e499b15efd726e0c">RPMQV_RPM</a>; qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++; <span class="keywordflow">break</span>;
<a name="l00066"></a>00066     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#bc54616de71182b967c4a60ced791e16">POPT_WHATPROVIDES</a>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9fd53626f9f97f16f066ce35eab253cfa1">RPMQV_WHATPROVIDES</a>; 
<a name="l00067"></a>00067                                 qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++; <span class="keywordflow">break</span>;
<a name="l00068"></a>00068     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#5750f39e425bd5396bcecb334b7154ab">POPT_WHATREQUIRES</a>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9fd832ff09db4ec5692a560c94645ebcb0">RPMQV_WHATREQUIRES</a>; 
<a name="l00069"></a>00069                                 qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++; <span class="keywordflow">break</span>;
<a name="l00070"></a>00070     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#6e0585dfe66b7bfb52d9a50433671d88">POPT_TRIGGEREDBY</a>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9ffd87ca1153904deb8dcc3dc06fb8b737">RPMQV_TRIGGEREDBY</a>;
<a name="l00071"></a>00071                                 qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++; <span class="keywordflow">break</span>;
<a name="l00072"></a>00072     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#4c8b03ee4b22c2f467f0b85d0cb742d5">POPT_QUERYBYPKGID</a>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9fc1c142841a5b9cd574d7229ff9e49d1c">RPMQV_PKGID</a>;
<a name="l00073"></a>00073                                 qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++; <span class="keywordflow">break</span>;
<a name="l00074"></a>00074     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#dc567d3da78676260780a2cfff0776dc">POPT_QUERYBYHDRID</a>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9fdfbc5c5e10441010fd832f5e107c43f7">RPMQV_HDRID</a>;
<a name="l00075"></a>00075                                 qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++; <span class="keywordflow">break</span>;
<a name="l00076"></a>00076     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#84bbe9269d4918859a64983beee790b9">POPT_QUERYBYFILEID</a>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9f0cb26401cc332df82903b5a38b794d1c">RPMQV_FILEID</a>;
<a name="l00077"></a>00077                                 qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++; <span class="keywordflow">break</span>;
<a name="l00078"></a>00078     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#88dc561115f58e15ade7870047aa03b9">POPT_QUERYBYTID</a>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9f68757bb409aba9e335be9eb0ea202350">RPMQV_TID</a>;
<a name="l00079"></a>00079                                 qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++; <span class="keywordflow">break</span>;
<a name="l00080"></a>00080     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#51d28001c9897fb09974a6ea4ae038a2">POPT_HDLIST</a>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9f77076a79f6cc8cded6487c57c024b600">RPMQV_HDLIST</a>;
<a name="l00081"></a>00081                                 qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++; <span class="keywordflow">break</span>;
<a name="l00082"></a>00082     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#9574cf56d61dcb3890aeb9e9895a7869">POPT_FTSWALK</a>:qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9f7b1c9f81195500ac2c1cfd64c84a0a29">RPMQV_FTSWALK</a>;
<a name="l00083"></a>00083                                 qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++; <span class="keywordflow">break</span>;
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 <span class="comment">/* XXX SPECFILE is not verify sources */</span>
<a name="l00086"></a>00086     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#0ad5578aed9c86f7223cb4a858033d22">POPT_SPECFILE</a>:
<a name="l00087"></a>00087         qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9f9e8897c3d35b0cfa3c760ab38b98832c">RPMQV_SPECFILE</a>;
<a name="l00088"></a>00088         qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++;
<a name="l00089"></a>00089         <span class="keywordflow">break</span>;
<a name="l00090"></a>00090     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#e20cf8856eb668e1fab46c8ed4392424">POPT_QUERYBYNUMBER</a>:
<a name="l00091"></a>00091         qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#c4fd364f8629abfac17c21a49823df7b">qva_source</a> |= <a class="code" href="group__rpmcli.html#gg50b433b67698e600e9073de639900c9ff7b4e0733d088aab1e90b15ca4c129e8">RPMQV_DBOFFSET</a>; 
<a name="l00092"></a>00092         qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5ccbc1afb35f726ca74b0958bef89e50">qva_sourceCount</a>++;
<a name="l00093"></a>00093         <span class="keywordflow">break</span>;
<a name="l00094"></a>00094     }
<a name="l00095"></a>00095 }
<a name="l00096"></a>00096 
<a name="l00100"></a>00100 <span class="comment">/*@unchecked@*/</span>
<a name="l00101"></a><a class="code" href="group__rpmcli.html#gf9b3bad2d2f5d8af0eeece8df8cdde49">00101</a> <span class="keyword">struct </span>poptOption <a class="code" href="group__rpmcli.html#gf9b3bad2d2f5d8af0eeece8df8cdde49" title="Common query/verify mode options.">rpmQVSourcePoptTable</a>[] = {
<a name="l00102"></a>00102 <span class="comment">/*@-type@*/</span> <span class="comment">/* FIX: cast? */</span>
<a name="l00103"></a>00103  { NULL, <span class="charliteral">'\0'</span>, POPT_ARG_CALLBACK | POPT_CBFLAG_INC_DATA, 
<a name="l00104"></a>00104         <a class="code" href="poptQV_8c.html#e698fdb2a33972dd705372f9a4093614">rpmQVSourceArgCallback</a>, 0, NULL, NULL },
<a name="l00105"></a>00105 <span class="comment">/*@=type@*/</span>
<a name="l00106"></a>00106  { <span class="stringliteral">"all"</span>, <span class="charliteral">'a'</span>, 0, 0, <span class="charliteral">'a'</span>,
<a name="l00107"></a>00107         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query/verify all packages"</span>), NULL },
<a name="l00108"></a>00108  { <span class="stringliteral">"checksig"</span>, <span class="charliteral">'K'</span>, POPT_ARGFLAG_DOC_HIDDEN, NULL, <span class="charliteral">'K'</span>,
<a name="l00109"></a>00109         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"rpm checksig mode"</span>), NULL },
<a name="l00110"></a>00110  { <span class="stringliteral">"file"</span>, <span class="charliteral">'f'</span>, 0, 0, <span class="charliteral">'f'</span>,
<a name="l00111"></a>00111         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query/verify package(s) owning file"</span>), <span class="stringliteral">"FILE"</span> },
<a name="l00112"></a>00112  { <span class="stringliteral">"group"</span>, <span class="charliteral">'g'</span>, 0, 0, <span class="charliteral">'g'</span>,
<a name="l00113"></a>00113         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query/verify package(s) in group"</span>), <span class="stringliteral">"GROUP"</span> },
<a name="l00114"></a>00114  { <span class="stringliteral">"package"</span>, <span class="charliteral">'p'</span>, 0, 0, <span class="charliteral">'p'</span>,
<a name="l00115"></a>00115         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query/verify a package file"</span>), NULL },
<a name="l00116"></a>00116 
<a name="l00117"></a>00117  { <span class="stringliteral">"ftswalk"</span>, <span class="charliteral">'W'</span>, 0, 0, <a class="code" href="poptQV_8c.html#9574cf56d61dcb3890aeb9e9895a7869">POPT_FTSWALK</a>,
<a name="l00118"></a>00118         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query/verify package(s) from TOP file tree walk"</span>), <span class="stringliteral">"TOP"</span> },
<a name="l00119"></a>00119  { <span class="stringliteral">"hdlist"</span>, <span class="charliteral">'H'</span>, POPT_ARGFLAG_DOC_HIDDEN, 0, <a class="code" href="poptQV_8c.html#51d28001c9897fb09974a6ea4ae038a2">POPT_HDLIST</a>,
<a name="l00120"></a>00120         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query/verify package(s) from system HDLIST"</span>), <span class="stringliteral">"HDLIST"</span> },
<a name="l00121"></a>00121 
<a name="l00122"></a>00122  { <span class="stringliteral">"pkgid"</span>, <span class="charliteral">'\0'</span>, 0, 0, <a class="code" href="poptQV_8c.html#4c8b03ee4b22c2f467f0b85d0cb742d5">POPT_QUERYBYPKGID</a>,
<a name="l00123"></a>00123         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query/verify package(s) with package identifier"</span>), <span class="stringliteral">"MD5"</span> },
<a name="l00124"></a>00124  { <span class="stringliteral">"hdrid"</span>, <span class="charliteral">'\0'</span>, 0, 0, <a class="code" href="poptQV_8c.html#dc567d3da78676260780a2cfff0776dc">POPT_QUERYBYHDRID</a>,
<a name="l00125"></a>00125         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query/verify package(s) with header identifier"</span>), <span class="stringliteral">"SHA1"</span> },
<a name="l00126"></a>00126  { <span class="stringliteral">"fileid"</span>, <span class="charliteral">'\0'</span>, 0, 0, <a class="code" href="poptQV_8c.html#84bbe9269d4918859a64983beee790b9">POPT_QUERYBYFILEID</a>,
<a name="l00127"></a>00127         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query/verify package(s) with file identifier"</span>), <span class="stringliteral">"MD5"</span> },
<a name="l00128"></a>00128 
<a name="l00129"></a>00129  { <span class="stringliteral">"query"</span>, <span class="charliteral">'q'</span>, POPT_ARGFLAG_DOC_HIDDEN, NULL, <span class="charliteral">'q'</span>,
<a name="l00130"></a>00130         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"rpm query mode"</span>), NULL },
<a name="l00131"></a>00131  { <span class="stringliteral">"querybynumber"</span>, <span class="charliteral">'\0'</span>, POPT_ARGFLAG_DOC_HIDDEN, 0, <a class="code" href="poptQV_8c.html#e20cf8856eb668e1fab46c8ed4392424">POPT_QUERYBYNUMBER</a>,
<a name="l00132"></a>00132         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query/verify a header instance"</span>), <span class="stringliteral">"HDRNUM"</span> },
<a name="l00133"></a>00133  { <span class="stringliteral">"specfile"</span>, <span class="charliteral">'\0'</span>, 0, 0, <a class="code" href="poptQV_8c.html#0ad5578aed9c86f7223cb4a858033d22">POPT_SPECFILE</a>,
<a name="l00134"></a>00134         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query a spec file"</span>), <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"&lt;spec&gt;"</span>) },
<a name="l00135"></a>00135  { <span class="stringliteral">"tid"</span>, <span class="charliteral">'\0'</span>, POPT_ARGFLAG_DOC_HIDDEN, 0, <a class="code" href="poptQV_8c.html#88dc561115f58e15ade7870047aa03b9">POPT_QUERYBYTID</a>,
<a name="l00136"></a>00136         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query/verify package(s) from install transaction"</span>), <span class="stringliteral">"TID"</span> },
<a name="l00137"></a>00137  { <span class="stringliteral">"triggeredby"</span>, <span class="charliteral">'\0'</span>, 0, 0, <a class="code" href="poptQV_8c.html#6e0585dfe66b7bfb52d9a50433671d88">POPT_TRIGGEREDBY</a>, 
<a name="l00138"></a>00138         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query the package(s) triggered by the package"</span>), <span class="stringliteral">"PACKAGE"</span> },
<a name="l00139"></a>00139  { <span class="stringliteral">"verify"</span>, <span class="charliteral">'V'</span>, POPT_ARGFLAG_DOC_HIDDEN, NULL, <span class="charliteral">'V'</span>,
<a name="l00140"></a>00140         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"rpm verify mode"</span>), NULL },
<a name="l00141"></a>00141  { <span class="stringliteral">"whatrequires"</span>, <span class="charliteral">'\0'</span>, 0, 0, <a class="code" href="poptQV_8c.html#5750f39e425bd5396bcecb334b7154ab">POPT_WHATREQUIRES</a>, 
<a name="l00142"></a>00142         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query/verify the package(s) which require a dependency"</span>), <span class="stringliteral">"CAPABILITY"</span> },
<a name="l00143"></a>00143  { <span class="stringliteral">"whatprovides"</span>, <span class="charliteral">'\0'</span>, 0, 0, <a class="code" href="poptQV_8c.html#bc54616de71182b967c4a60ced791e16">POPT_WHATPROVIDES</a>, 
<a name="l00144"></a>00144         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"query/verify the package(s) which provide a dependency"</span>), <span class="stringliteral">"CAPABILITY"</span> },
<a name="l00145"></a>00145 
<a name="l00146"></a>00146  { <span class="stringliteral">"transaction"</span>, <span class="charliteral">'T'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN, &amp;<a class="code" href="rpmgi_8c.html#979f0db87699ac6bec76e044c1465add">giFlags</a>, (<a class="code" href="rpmgi_8h.html#2493ad7337074af38006c8b2f6a3508abe4cd1f4052a8eb1b0f815dfcae3ad77">RPMGI_TSADD</a>|<a class="code" href="rpmgi_8h.html#2493ad7337074af38006c8b2f6a3508a56b8bb79a0e456f85d9432fa39c8f221">RPMGI_TSORDER</a>),
<a name="l00147"></a>00147         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"create transaction set"</span>), NULL},
<a name="l00148"></a>00148  { <span class="stringliteral">"noorder"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_CLR|POPT_ARGFLAG_DOC_HIDDEN, &amp;<a class="code" href="rpmgi_8c.html#979f0db87699ac6bec76e044c1465add">giFlags</a>, <a class="code" href="rpmgi_8h.html#2493ad7337074af38006c8b2f6a3508a56b8bb79a0e456f85d9432fa39c8f221">RPMGI_TSORDER</a>,
<a name="l00149"></a>00149         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"do not order transaction set"</span>), NULL},
<a name="l00150"></a>00150  { <span class="stringliteral">"noglob"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN, &amp;<a class="code" href="rpmgi_8c.html#979f0db87699ac6bec76e044c1465add">giFlags</a>, <a class="code" href="rpmgi_8h.html#2493ad7337074af38006c8b2f6a3508a523782a56b7a9d126c2ae405c2e05efd">RPMGI_NOGLOB</a>,
<a name="l00151"></a>00151         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"do not glob arguments"</span>), NULL},
<a name="l00152"></a>00152  { <span class="stringliteral">"nomanifest"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET, &amp;<a class="code" href="rpmgi_8c.html#979f0db87699ac6bec76e044c1465add">giFlags</a>, <a class="code" href="rpmgi_8h.html#2493ad7337074af38006c8b2f6a3508a54e6f57db90122d6ed744e87553fcc26">RPMGI_NOMANIFEST</a>,
<a name="l00153"></a>00153         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"do not process non-package files as manifests"</span>), NULL},
<a name="l00154"></a>00154  { <span class="stringliteral">"noheader"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN, &amp;<a class="code" href="rpmgi_8c.html#979f0db87699ac6bec76e044c1465add">giFlags</a>, <a class="code" href="rpmgi_8h.html#2493ad7337074af38006c8b2f6a3508a3e46da969cec354423532eb7a763b42f">RPMGI_NOHEADER</a>,
<a name="l00155"></a>00155         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"do not read headers"</span>), NULL},
<a name="l00156"></a>00156 
<a name="l00157"></a>00157 
<a name="l00158"></a>00158    POPT_TABLEEND
<a name="l00159"></a>00159 };
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 <span class="comment">/* ========== Query specific popt args */</span>
<a name="l00162"></a>00162 
<a name="l00163"></a><a class="code" href="poptQV_8c.html#b10f17530cf194aa6f8d7761ec0d165c">00163</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="poptQV_8c.html#b10f17530cf194aa6f8d7761ec0d165c">queryArgCallback</a>(poptContext con,
<a name="l00164"></a>00164                 <span class="comment">/*@unused@*/</span><span class="keyword">enum</span> poptCallbackReason reason,
<a name="l00165"></a>00165                 <span class="keyword">const</span> <span class="keyword">struct</span> poptOption * opt, <span class="keyword">const</span> <span class="keywordtype">char</span> * arg, 
<a name="l00166"></a>00166                 <span class="comment">/*@unused@*/</span> <span class="keyword">const</span> <span class="keywordtype">void</span> * data)
<a name="l00167"></a>00167         <span class="comment">/*@globals rpmQVKArgs @*/</span>
<a name="l00168"></a>00168         <span class="comment">/*@modifies con, rpmQVKArgs @*/</span>
<a name="l00169"></a>00169 {
<a name="l00170"></a>00170     <a class="code" href="structrpmQVKArguments__s.html" title="Describe query/verify/signature command line operation.">QVA_t</a> qva = &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>;
<a name="l00171"></a>00171 
<a name="l00172"></a>00172     <span class="keywordflow">switch</span> (opt-&gt;val) {
<a name="l00173"></a>00173     <span class="keywordflow">case</span> <span class="charliteral">'c'</span>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a> |= <a class="code" href="group__rpmcli.html#gg12dc06a272092cee03c12f9b9cc8aa329731b7573bd7fcd994c884042d216d04">QUERY_FOR_CONFIG</a> | <a class="code" href="group__rpmcli.html#gg12dc06a272092cee03c12f9b9cc8aa32d06ccc6b4b22cfaf2f393e5baef557f4">QUERY_FOR_LIST</a>; <span class="keywordflow">break</span>;
<a name="l00174"></a>00174     <span class="keywordflow">case</span> <span class="charliteral">'d'</span>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a> |= <a class="code" href="group__rpmcli.html#gg12dc06a272092cee03c12f9b9cc8aa32b5e361e0d67b9376e3178f39cbe746c3">QUERY_FOR_DOCS</a> | <a class="code" href="group__rpmcli.html#gg12dc06a272092cee03c12f9b9cc8aa32d06ccc6b4b22cfaf2f393e5baef557f4">QUERY_FOR_LIST</a>; <span class="keywordflow">break</span>;
<a name="l00175"></a>00175     <span class="keywordflow">case</span> <span class="charliteral">'l'</span>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a> |= <a class="code" href="group__rpmcli.html#gg12dc06a272092cee03c12f9b9cc8aa32d06ccc6b4b22cfaf2f393e5baef557f4">QUERY_FOR_LIST</a>; <span class="keywordflow">break</span>;
<a name="l00176"></a>00176     <span class="keywordflow">case</span> <span class="charliteral">'s'</span>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a> |= <a class="code" href="group__rpmcli.html#gg12dc06a272092cee03c12f9b9cc8aa32fcc03f78bcbda15ed0af54d4ecf12c61">QUERY_FOR_STATE</a> | <a class="code" href="group__rpmcli.html#gg12dc06a272092cee03c12f9b9cc8aa32d06ccc6b4b22cfaf2f393e5baef557f4">QUERY_FOR_LIST</a>;
<a name="l00177"></a>00177         <span class="keywordflow">break</span>;
<a name="l00178"></a>00178     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#f03ea6a482adf2223160170c7c2f9031">POPT_DUMP</a>: qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a> |= <a class="code" href="group__rpmcli.html#gg12dc06a272092cee03c12f9b9cc8aa323d31aecd95259487ce9f9d41a85727d2">QUERY_FOR_DUMPFILES</a> | <a class="code" href="group__rpmcli.html#gg12dc06a272092cee03c12f9b9cc8aa32d06ccc6b4b22cfaf2f393e5baef557f4">QUERY_FOR_LIST</a>;
<a name="l00179"></a>00179         <span class="keywordflow">break</span>;
<a name="l00180"></a>00180 
<a name="l00181"></a>00181     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#f686caba57acf792004af5bf11357157">POPT_QUERYFORMAT</a>:
<a name="l00182"></a>00182         <span class="keywordflow">if</span> (arg) {
<a name="l00183"></a>00183             <span class="keywordtype">char</span> * qf = (<span class="keywordtype">char</span> *)qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#9ece4dae8020e323fc9af97bc338e84c">qva_queryFormat</a>;
<a name="l00184"></a>00184             <span class="comment">/*@-branchstate@*/</span>
<a name="l00185"></a>00185             if (qf) {
<a name="l00186"></a>00186                 <span class="keywordtype">int</span> len = strlen(qf) + strlen(arg) + 1;
<a name="l00187"></a>00187                 qf = <a class="code" href="system_8h.html#089316e2770f7e09a135f7128241af8a">xrealloc</a>(qf, len);
<a name="l00188"></a>00188 <span class="comment">/*@-boundswrite@*/</span>
<a name="l00189"></a>00189                 strcat(qf, arg);
<a name="l00190"></a>00190 <span class="comment">/*@=boundswrite@*/</span>
<a name="l00191"></a>00191             } <span class="keywordflow">else</span> {
<a name="l00192"></a>00192                 qf = <a class="code" href="system_8h.html#2ff4ef58da7e543466e75f20f2a2d8b7">xmalloc</a>(strlen(arg) + 1);
<a name="l00193"></a>00193                 strcpy(qf, arg);
<a name="l00194"></a>00194             }
<a name="l00195"></a>00195             <span class="comment">/*@=branchstate@*/</span>
<a name="l00196"></a>00196             qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#9ece4dae8020e323fc9af97bc338e84c">qva_queryFormat</a> = qf;
<a name="l00197"></a>00197         }
<a name="l00198"></a>00198         <span class="keywordflow">break</span>;
<a name="l00199"></a>00199 
<a name="l00200"></a>00200     <span class="keywordflow">case</span> <span class="charliteral">'i'</span>:
<a name="l00201"></a>00201         <span class="keywordflow">if</span> (qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#15937691758ddae9ec77fa9446b29b30">qva_mode</a> == <span class="charliteral">'q'</span>) {
<a name="l00202"></a>00202             <span class="comment">/*@-nullassign -readonlytrans@*/</span>
<a name="l00203"></a>00203             <span class="keyword">const</span> <span class="keywordtype">char</span> * infoCommand[] = { <span class="stringliteral">"--info"</span>, NULL };
<a name="l00204"></a>00204             <span class="comment">/*@=nullassign =readonlytrans@*/</span>
<a name="l00205"></a>00205             (void) poptStuffArgs(con, infoCommand);
<a name="l00206"></a>00206         }
<a name="l00207"></a>00207         <span class="keywordflow">break</span>;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209     <span class="keywordflow">case</span> <a class="code" href="rpmcli_8h.html#7e075891bffd8eb2ab08a5611bf31c2a">RPMCLI_POPT_NODIGEST</a>:
<a name="l00210"></a>00210         qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a> |= <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e71125165395e4d9d505c88cb532d564cdf">VERIFY_DIGEST</a>;
<a name="l00211"></a>00211         <span class="keywordflow">break</span>;
<a name="l00212"></a>00212 
<a name="l00213"></a>00213     <span class="keywordflow">case</span> <a class="code" href="rpmcli_8h.html#555454c3d67a1908fc5f17e1fc33d358">RPMCLI_POPT_NOSIGNATURE</a>:
<a name="l00214"></a>00214         qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a> |= <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e71d180f7d9e674d6b3abeca381f18fb082">VERIFY_SIGNATURE</a>;
<a name="l00215"></a>00215         <span class="keywordflow">break</span>;
<a name="l00216"></a>00216 
<a name="l00217"></a>00217     <span class="keywordflow">case</span> <a class="code" href="rpmcli_8h.html#1a4cd99b8e77a638e4b4502728592ac0">RPMCLI_POPT_NOHDRCHK</a>:
<a name="l00218"></a>00218         qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a> |= <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e71b0ba43f5af74f906251c75b6a3c5247e">VERIFY_HDRCHK</a>;
<a name="l00219"></a>00219         <span class="keywordflow">break</span>;
<a name="l00220"></a>00220 
<a name="l00221"></a>00221     <span class="keywordflow">case</span> <a class="code" href="rpmcli_8h.html#31831a3d5725a3393373ede52d9885a5" title="Common/global popt tokens used for command line option tables.">RPMCLI_POPT_NODEPS</a>:
<a name="l00222"></a>00222         qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a> |= <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e7193f12960426b60e33a5b5d8f7add1671">VERIFY_DEPS</a>;
<a name="l00223"></a>00223         <span class="keywordflow">break</span>;
<a name="l00224"></a>00224 
<a name="l00225"></a>00225     <span class="keywordflow">case</span> <a class="code" href="rpmcli_8h.html#b8a68850768b279c6e2d2971a5b0e3f4">RPMCLI_POPT_NOMD5</a>:
<a name="l00226"></a>00226         qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a> |= <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e711b8896abc4e4a946e704da7ba5c86253">VERIFY_MD5</a>;
<a name="l00227"></a>00227         <span class="keywordflow">break</span>;
<a name="l00228"></a>00228 
<a name="l00229"></a>00229     <span class="keywordflow">case</span> <a class="code" href="rpmcli_8h.html#6208ac846474e126c07890e19fb228a3">RPMCLI_POPT_NOCONTEXTS</a>:
<a name="l00230"></a>00230         qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a> |= <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e717602c41a3dbefb7e857ff42742f36c41">VERIFY_CONTEXTS</a>;
<a name="l00231"></a>00231         <span class="keywordflow">break</span>;
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 <span class="preprocessor">#ifdef  NOTYET</span>
<a name="l00234"></a>00234 <span class="preprocessor"></span>    <span class="keywordflow">case</span> <a class="code" href="rpmcli_8h.html#17432cc2a130a2ed2693bdaa53535522">RPMCLI_POPT_FORCE</a>:
<a name="l00235"></a>00235         ia-&gt;probFilter |=
<a name="l00236"></a>00236                 ( <a class="code" href="rpmlib_8h.html#bb6103eff013f34a8fa2f11377227993778dd1e0c786a1d6afc39600b49d0e79">RPMPROB_FILTER_REPLACEPKG</a>
<a name="l00237"></a>00237                 | <a class="code" href="rpmlib_8h.html#bb6103eff013f34a8fa2f113772279931ecbe270445e743ab6f23a259e30c103">RPMPROB_FILTER_REPLACEOLDFILES</a>
<a name="l00238"></a>00238                 | <a class="code" href="rpmlib_8h.html#bb6103eff013f34a8fa2f11377227993c3bfd3548f7a0078554a0cc1c0cbadd4">RPMPROB_FILTER_REPLACENEWFILES</a>
<a name="l00239"></a>00239                 | <a class="code" href="rpmlib_8h.html#bb6103eff013f34a8fa2f11377227993129ce141be9ae0a0a861524a853a9ec2">RPMPROB_FILTER_OLDPACKAGE</a> );
<a name="l00240"></a>00240         <span class="keywordflow">break</span>;
<a name="l00241"></a>00241 <span class="preprocessor">#endif</span>
<a name="l00242"></a>00242 <span class="preprocessor"></span>
<a name="l00243"></a>00243     <span class="keywordflow">case</span> <a class="code" href="rpmcli_8h.html#da06a06df173188361ae4d7c5634650e">RPMCLI_POPT_NOSCRIPTS</a>:
<a name="l00244"></a>00244         qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a> |= <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e7113417c18852a2cac65d02157c469a5f0">VERIFY_SCRIPT</a>;
<a name="l00245"></a>00245         <span class="keywordflow">break</span>;
<a name="l00246"></a>00246 
<a name="l00247"></a>00247     <span class="comment">/* XXX perhaps POPT_ARG_INT instead of callback. */</span>
<a name="l00248"></a>00248     <span class="keywordflow">case</span> <a class="code" href="poptQV_8c.html#66483cb1b2a9302e144fe9db9c7581d9">POPT_TRUST</a>:
<a name="l00249"></a>00249     {   <span class="keywordtype">char</span> * end = NULL;
<a name="l00250"></a>00250         <span class="keywordtype">long</span> trust = (int) strtol(arg, &amp;end, 0);
<a name="l00251"></a>00251         <span class="comment">/* XXX range checks on trust. */</span>
<a name="l00252"></a>00252         <span class="comment">/* XXX if (end &amp;&amp; *end) argerror(_("non-numeric trust metric.")); */</span>
<a name="l00253"></a>00253         qva-&gt;<a class="code" href="structrpmQVKArguments__s.html#5580e7fd349e1fe2cc7926ee3c61ae65">trust</a> = trust;
<a name="l00254"></a>00254     }   <span class="keywordflow">break</span>;
<a name="l00255"></a>00255     }
<a name="l00256"></a>00256 }
<a name="l00257"></a>00257 
<a name="l00261"></a>00261 <span class="comment">/*@unchecked@*/</span>
<a name="l00262"></a><a class="code" href="group__rpmcli.html#g1232398c577c9c98d2efb2076f5874f1">00262</a> <span class="keyword">struct </span>poptOption <a class="code" href="group__rpmcli.html#g1232398c577c9c98d2efb2076f5874f1" title="Query mode options.">rpmQueryPoptTable</a>[] = {
<a name="l00263"></a>00263 <span class="comment">/*@-type@*/</span> <span class="comment">/* FIX: cast? */</span>
<a name="l00264"></a>00264  { NULL, <span class="charliteral">'\0'</span>, POPT_ARG_CALLBACK | POPT_CBFLAG_INC_DATA | POPT_CBFLAG_CONTINUE, 
<a name="l00265"></a>00265         <a class="code" href="poptQV_8c.html#b10f17530cf194aa6f8d7761ec0d165c">queryArgCallback</a>, 0, NULL, NULL },
<a name="l00266"></a>00266 <span class="comment">/*@=type@*/</span>
<a name="l00267"></a>00267  { NULL, <span class="charliteral">'\0'</span>, POPT_ARG_INCLUDE_TABLE, <a class="code" href="group__rpmcli.html#gf9b3bad2d2f5d8af0eeece8df8cdde49" title="Common query/verify mode options.">rpmQVSourcePoptTable</a>, 0,
<a name="l00268"></a>00268         NULL, NULL },
<a name="l00269"></a>00269  { <span class="stringliteral">"configfiles"</span>, <span class="charliteral">'c'</span>, 0, 0, <span class="charliteral">'c'</span>,
<a name="l00270"></a>00270         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"list all configuration files"</span>), NULL },
<a name="l00271"></a>00271  { <span class="stringliteral">"docfiles"</span>, <span class="charliteral">'d'</span>, 0, 0, <span class="charliteral">'d'</span>,
<a name="l00272"></a>00272         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"list all documentation files"</span>), NULL },
<a name="l00273"></a>00273  { <span class="stringliteral">"dump"</span>, <span class="charliteral">'\0'</span>, 0, 0, <a class="code" href="poptQV_8c.html#f03ea6a482adf2223160170c7c2f9031">POPT_DUMP</a>,
<a name="l00274"></a>00274         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"dump basic file information"</span>), NULL },
<a name="l00275"></a>00275  { NULL, <span class="charliteral">'i'</span>, POPT_ARGFLAG_DOC_HIDDEN, 0, <span class="charliteral">'i'</span>,
<a name="l00276"></a>00276         NULL, NULL },
<a name="l00277"></a>00277  { <span class="stringliteral">"list"</span>, <span class="charliteral">'l'</span>, 0, 0, <span class="charliteral">'l'</span>,
<a name="l00278"></a>00278         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"list files in package"</span>), NULL },
<a name="l00279"></a>00279 
<a name="l00280"></a>00280  <span class="comment">/* Duplicate file attr flags from packages into command line options. */</span>
<a name="l00281"></a>00281  { <span class="stringliteral">"noghost"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_CLR|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00282"></a>00282         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#a12401c6b70e561c135accc5ecf25456">qva_fflags</a>, <a class="code" href="rpmlib_8h.html#a971f2ba87d2d6dad4105eac2499df6335f6224b7feb336e31d32d2b65e0cdf2">RPMFILE_GHOST</a>,
<a name="l00283"></a>00283         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"skip %%ghost files"</span>), NULL },
<a name="l00284"></a>00284 <span class="preprocessor">#ifdef  NOTEVER         </span><span class="comment">/* XXX there's hardly a need for these */</span>
<a name="l00285"></a>00285  { <span class="stringliteral">"nolicense"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00286"></a>00286         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#a12401c6b70e561c135accc5ecf25456">qva_fflags</a>, <a class="code" href="rpmlib_8h.html#a971f2ba87d2d6dad4105eac2499df632cf86b56bc6190403f5c9529fe2357e5">RPMFILE_LICENSE</a>,
<a name="l00287"></a>00287         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"skip %%license files"</span>), NULL },
<a name="l00288"></a>00288  { <span class="stringliteral">"noreadme"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00289"></a>00289         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#a12401c6b70e561c135accc5ecf25456">qva_fflags</a>, <a class="code" href="rpmlib_8h.html#a971f2ba87d2d6dad4105eac2499df6356f8e2d26cfdb6a2323a6df0c3070579">RPMFILE_README</a>,
<a name="l00290"></a>00290         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"skip %%readme files"</span>), NULL },
<a name="l00291"></a>00291 <span class="preprocessor">#endif</span>
<a name="l00292"></a>00292 <span class="preprocessor"></span>
<a name="l00293"></a>00293  { <span class="stringliteral">"qf"</span>, <span class="charliteral">'\0'</span>, POPT_ARG_STRING | POPT_ARGFLAG_DOC_HIDDEN, 0, 
<a name="l00294"></a>00294         <a class="code" href="poptQV_8c.html#f686caba57acf792004af5bf11357157">POPT_QUERYFORMAT</a>, NULL, NULL },
<a name="l00295"></a>00295  { <span class="stringliteral">"queryformat"</span>, <span class="charliteral">'\0'</span>, POPT_ARG_STRING, 0, <a class="code" href="poptQV_8c.html#f686caba57acf792004af5bf11357157">POPT_QUERYFORMAT</a>,
<a name="l00296"></a>00296         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"use the following query format"</span>), <span class="stringliteral">"QUERYFORMAT"</span> },
<a name="l00297"></a>00297  { <span class="stringliteral">"specedit"</span>, <span class="charliteral">'\0'</span>, POPT_ARG_VAL|POPT_ARGFLAG_DOC_HIDDEN, &amp;<a class="code" href="spec_8c.html#7eb51b476f308337156371e05a4dfe57">specedit</a>, -1,
<a name="l00298"></a>00298         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"substitute i18n sections into spec file"</span>), NULL },
<a name="l00299"></a>00299  { <span class="stringliteral">"state"</span>, <span class="charliteral">'s'</span>, 0, 0, <span class="charliteral">'s'</span>,
<a name="l00300"></a>00300         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"display the states of the listed files"</span>), NULL },
<a name="l00301"></a>00301    POPT_TABLEEND
<a name="l00302"></a>00302 };
<a name="l00303"></a>00303 
<a name="l00307"></a><a class="code" href="group__rpmcli.html#gf3298422a70c2c043dc1b99209136181">00307</a> <span class="keyword">struct </span>poptOption <a class="code" href="group__rpmcli.html#gf3298422a70c2c043dc1b99209136181" title="Verify mode options.">rpmVerifyPoptTable</a>[] = {
<a name="l00308"></a>00308 <span class="comment">/*@-type@*/</span> <span class="comment">/* FIX: cast? */</span>
<a name="l00309"></a>00309  { NULL, <span class="charliteral">'\0'</span>, POPT_ARG_CALLBACK | POPT_CBFLAG_INC_DATA | POPT_CBFLAG_CONTINUE, 
<a name="l00310"></a>00310         <a class="code" href="poptQV_8c.html#b10f17530cf194aa6f8d7761ec0d165c">queryArgCallback</a>, 0, NULL, NULL },
<a name="l00311"></a>00311 <span class="comment">/*@=type@*/</span>
<a name="l00312"></a>00312  { NULL, <span class="charliteral">'\0'</span>, POPT_ARG_INCLUDE_TABLE, <a class="code" href="group__rpmcli.html#gf9b3bad2d2f5d8af0eeece8df8cdde49" title="Common query/verify mode options.">rpmQVSourcePoptTable</a>, 0,
<a name="l00313"></a>00313         NULL, NULL },
<a name="l00314"></a>00314 
<a name="l00315"></a>00315  <span class="comment">/* Duplicate file verify flags from packages into command line options. */</span>
<a name="l00317"></a>00317 <span class="preprocessor">#ifdef  DYING</span>
<a name="l00318"></a>00318 <span class="preprocessor"></span> { <span class="stringliteral">"nomd5"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET, &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e711b8896abc4e4a946e704da7ba5c86253">VERIFY_MD5</a>,
<a name="l00319"></a>00319         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify MD5 digest of files"</span>), NULL },
<a name="l00320"></a>00320 <span class="preprocessor">#else</span>
<a name="l00321"></a>00321 <span class="preprocessor"></span> { <span class="stringliteral">"nomd5"</span>, <span class="charliteral">'\0'</span>, 0, NULL, <a class="code" href="rpmcli_8h.html#b8a68850768b279c6e2d2971a5b0e3f4">RPMCLI_POPT_NOMD5</a>,
<a name="l00322"></a>00322         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify MD5 digest of files"</span>), NULL },
<a name="l00323"></a>00323 <span class="preprocessor">#endif</span>
<a name="l00324"></a>00324 <span class="preprocessor"></span> { <span class="stringliteral">"nosize"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00325"></a>00325         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e714c9a69ffe70d8690f570823c7cc84a66">VERIFY_SIZE</a>,
<a name="l00326"></a>00326         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify size of files"</span>), NULL },
<a name="l00327"></a>00327  { <span class="stringliteral">"nolinkto"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00328"></a>00328         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e7146b085dc5144ebf6695977a01b98ef60">VERIFY_LINKTO</a>,
<a name="l00329"></a>00329         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify symlink path of files"</span>), NULL },
<a name="l00330"></a>00330  { <span class="stringliteral">"nouser"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00331"></a>00331         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e71d5ee5047d1528f1b3705da4848fcd1c8">VERIFY_USER</a>,
<a name="l00332"></a>00332         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify owner of files"</span>), NULL },
<a name="l00333"></a>00333  { <span class="stringliteral">"nogroup"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00334"></a>00334         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e7138829a490ff9335d2fafed0d6b5885e0">VERIFY_GROUP</a>,
<a name="l00335"></a>00335         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify group of files"</span>), NULL },
<a name="l00336"></a>00336  { <span class="stringliteral">"nomtime"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00337"></a>00337         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e715a799f7bdf1422999795e354bde57bd4">VERIFY_MTIME</a>,
<a name="l00338"></a>00338         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify modification time of files"</span>), NULL },
<a name="l00339"></a>00339  { <span class="stringliteral">"nomode"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00340"></a>00340         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e712fc4619ddb4df7a4673b03e63de9c33e">VERIFY_MODE</a>,
<a name="l00341"></a>00341         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify mode of files"</span>), NULL },
<a name="l00342"></a>00342  { <span class="stringliteral">"nordev"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00343"></a>00343         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e71665e082fbb7fa94aca82ad1d458b2c9f">VERIFY_RDEV</a>,
<a name="l00344"></a>00344         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify mode of files"</span>), NULL },
<a name="l00345"></a>00345 
<a name="l00346"></a>00346  { <span class="stringliteral">"nocontexts"</span>, <span class="charliteral">'\0'</span>, POPT_ARGFLAG_DOC_HIDDEN, NULL, <a class="code" href="rpmcli_8h.html#6208ac846474e126c07890e19fb228a3">RPMCLI_POPT_NOCONTEXTS</a>,
<a name="l00347"></a>00347         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify file security contexts"</span>), NULL },
<a name="l00348"></a>00348  { <span class="stringliteral">"nofiles"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET, &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e718df4eda335fe6aa2c6a8119078e4ba4c">VERIFY_FILES</a>,
<a name="l00349"></a>00349         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify files in package"</span>), NULL},
<a name="l00350"></a>00350 <span class="preprocessor">#ifdef  DYING</span>
<a name="l00351"></a>00351 <span class="preprocessor"></span> { <span class="stringliteral">"nodeps"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET, &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e7193f12960426b60e33a5b5d8f7add1671">VERIFY_DEPS</a>,
<a name="l00352"></a>00352         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify package dependencies"</span>), NULL },
<a name="l00353"></a>00353 <span class="preprocessor">#else</span>
<a name="l00354"></a>00354 <span class="preprocessor"></span> { <span class="stringliteral">"nodeps"</span>, <span class="charliteral">'\0'</span>, 0, NULL, <a class="code" href="rpmcli_8h.html#31831a3d5725a3393373ede52d9885a5" title="Common/global popt tokens used for command line option tables.">RPMCLI_POPT_NODEPS</a>,
<a name="l00355"></a>00355         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify package dependencies"</span>), NULL },
<a name="l00356"></a>00356 <span class="preprocessor">#endif</span>
<a name="l00357"></a>00357 <span class="preprocessor"></span>
<a name="l00358"></a>00358 <span class="preprocessor">#ifdef  DYING</span>
<a name="l00359"></a>00359 <span class="preprocessor"></span> { <span class="stringliteral">"noscript"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET,&amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e7113417c18852a2cac65d02157c469a5f0">VERIFY_SCRIPT</a>,
<a name="l00360"></a>00360         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't execute verify script(s)"</span>), NULL },
<a name="l00361"></a>00361  <span class="comment">/* XXX legacy had a trailing s on --noscript */</span>
<a name="l00362"></a>00362  { <span class="stringliteral">"noscripts"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00363"></a>00363         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e7113417c18852a2cac65d02157c469a5f0">VERIFY_SCRIPT</a>,
<a name="l00364"></a>00364         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't execute verify script(s)"</span>), NULL },
<a name="l00365"></a>00365 <span class="preprocessor">#else</span>
<a name="l00366"></a>00366 <span class="preprocessor"></span> { <span class="stringliteral">"noscript"</span>, <span class="charliteral">'\0'</span>, 0, NULL, <a class="code" href="rpmcli_8h.html#da06a06df173188361ae4d7c5634650e">RPMCLI_POPT_NOSCRIPTS</a>,
<a name="l00367"></a>00367         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't execute verify script(s)"</span>), NULL },
<a name="l00368"></a>00368  <span class="comment">/* XXX legacy had a trailing s on --noscript */</span>
<a name="l00369"></a>00369  { <span class="stringliteral">"noscripts"</span>, <span class="charliteral">'\0'</span>, POPT_ARGFLAG_DOC_HIDDEN, NULL, <a class="code" href="rpmcli_8h.html#da06a06df173188361ae4d7c5634650e">RPMCLI_POPT_NOSCRIPTS</a>,
<a name="l00370"></a>00370         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't execute verify script(s)"</span>), NULL },
<a name="l00371"></a>00371 <span class="preprocessor">#endif</span>
<a name="l00372"></a>00372 <span class="preprocessor"></span>
<a name="l00373"></a>00373 <span class="preprocessor">#ifdef  DYING</span>
<a name="l00374"></a>00374 <span class="preprocessor"></span> { <span class="stringliteral">"nodigest"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET, &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e71125165395e4d9d505c88cb532d564cdf">VERIFY_DIGEST</a>,
<a name="l00375"></a>00375         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify package digest(s)"</span>), NULL },
<a name="l00376"></a>00376  { <span class="stringliteral">"nohdrchk"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00377"></a>00377         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e71b0ba43f5af74f906251c75b6a3c5247e">VERIFY_HDRCHK</a>,
<a name="l00378"></a>00378         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify database header(s) when retrieved"</span>), NULL },
<a name="l00379"></a>00379  { <span class="stringliteral">"nosignature"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET,
<a name="l00380"></a>00380         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e71d180f7d9e674d6b3abeca381f18fb082">VERIFY_SIGNATURE</a>,
<a name="l00381"></a>00381         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify package signature(s)"</span>), NULL },
<a name="l00382"></a>00382 <span class="preprocessor">#else</span>
<a name="l00383"></a>00383 <span class="preprocessor"></span> { <span class="stringliteral">"nodigest"</span>, <span class="charliteral">'\0'</span>, POPT_ARGFLAG_DOC_HIDDEN, 0, <a class="code" href="rpmcli_8h.html#7e075891bffd8eb2ab08a5611bf31c2a">RPMCLI_POPT_NODIGEST</a>,
<a name="l00384"></a>00384         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify package digest(s)"</span>), NULL },
<a name="l00385"></a>00385  { <span class="stringliteral">"nohdrchk"</span>, <span class="charliteral">'\0'</span>, POPT_ARGFLAG_DOC_HIDDEN, 0, <a class="code" href="rpmcli_8h.html#1a4cd99b8e77a638e4b4502728592ac0">RPMCLI_POPT_NOHDRCHK</a>,
<a name="l00386"></a>00386         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify database header(s) when retrieved"</span>), NULL },
<a name="l00387"></a>00387  { <span class="stringliteral">"nosignature"</span>, <span class="charliteral">'\0'</span>, POPT_ARGFLAG_DOC_HIDDEN, 0, <a class="code" href="rpmcli_8h.html#555454c3d67a1908fc5f17e1fc33d358">RPMCLI_POPT_NOSIGNATURE</a>,
<a name="l00388"></a>00388         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify package signature(s)"</span>), NULL },
<a name="l00389"></a>00389 <span class="preprocessor">#endif</span>
<a name="l00390"></a>00390 <span class="preprocessor"></span>
<a name="l00391"></a>00391     POPT_TABLEEND
<a name="l00392"></a>00392 };
<a name="l00393"></a>00393 
<a name="l00397"></a>00397 <span class="comment">/*@unchecked@*/</span>
<a name="l00398"></a><a class="code" href="group__rpmcli.html#gc332f0e4a1a77d6784784d591860c7da">00398</a> <span class="keyword">struct </span>poptOption <a class="code" href="group__rpmcli.html#gc332f0e4a1a77d6784784d591860c7da" title="Signature mode options.">rpmSignPoptTable</a>[] = {
<a name="l00399"></a>00399 <span class="comment">/*@-type@*/</span> <span class="comment">/* FIX: cast? */</span>
<a name="l00400"></a>00400  { NULL, <span class="charliteral">'\0'</span>, POPT_ARG_CALLBACK | POPT_CBFLAG_INC_DATA | POPT_CBFLAG_CONTINUE,
<a name="l00401"></a>00401         <a class="code" href="poptQV_8c.html#e698fdb2a33972dd705372f9a4093614">rpmQVSourceArgCallback</a>, 0, NULL, NULL },
<a name="l00402"></a>00402 <span class="comment">/*@=type@*/</span>
<a name="l00403"></a>00403  { <span class="stringliteral">"addsign"</span>, <span class="charliteral">'\0'</span>, 0, NULL, <span class="charliteral">'A'</span>,
<a name="l00404"></a>00404         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"sign package(s) (identical to --resign)"</span>), NULL },
<a name="l00405"></a>00405  { <span class="stringliteral">"checksig"</span>, <span class="charliteral">'K'</span>, 0, NULL, <span class="charliteral">'K'</span>,
<a name="l00406"></a>00406         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"verify package signature(s)"</span>), NULL },
<a name="l00407"></a>00407  { <span class="stringliteral">"delsign"</span>, <span class="charliteral">'\0'</span>, 0, NULL, <span class="charliteral">'D'</span>,
<a name="l00408"></a>00408         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"delete package signatures"</span>), NULL },
<a name="l00409"></a>00409  { <span class="stringliteral">"import"</span>, <span class="charliteral">'\0'</span>, 0, NULL, <span class="charliteral">'I'</span>,
<a name="l00410"></a>00410         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"import an armored public key"</span>), NULL },
<a name="l00411"></a>00411  { <span class="stringliteral">"resign"</span>, <span class="charliteral">'\0'</span>, 0, NULL, <span class="charliteral">'R'</span>,
<a name="l00412"></a>00412         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"sign package(s) (identical to --addsign)"</span>), NULL },
<a name="l00413"></a>00413  { <span class="stringliteral">"sign"</span>, <span class="charliteral">'\0'</span>, POPT_ARGFLAG_DOC_HIDDEN, &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#eb02305021d6fde0b210f31d62ed6bd5">sign</a>, 0,
<a name="l00414"></a>00414         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"generate signature"</span>), NULL },
<a name="l00415"></a>00415  <span class="comment">/* XXX perhaps POPT_ARG_INT instead of callback. */</span>
<a name="l00416"></a>00416  { <span class="stringliteral">"trust"</span>, <span class="charliteral">'\0'</span>, POPT_ARG_STRING|POPT_ARGFLAG_DOC_HIDDEN, 0,  <a class="code" href="poptQV_8c.html#66483cb1b2a9302e144fe9db9c7581d9">POPT_TRUST</a>,
<a name="l00417"></a>00417         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"specify trust metric"</span>), <span class="stringliteral">"TRUST"</span> },
<a name="l00418"></a>00418  { <span class="stringliteral">"trusted"</span>, <span class="charliteral">'\0'</span>, POPT_ARG_VAL|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00419"></a>00419         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#5580e7fd349e1fe2cc7926ee3c61ae65">trust</a>, 1,
<a name="l00420"></a>00420         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"set ultimate trust when importing pubkey(s)"</span>), NULL },
<a name="l00421"></a>00421  { <span class="stringliteral">"untrusted"</span>, <span class="charliteral">'\0'</span>, POPT_ARG_VAL|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00422"></a>00422         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#5580e7fd349e1fe2cc7926ee3c61ae65">trust</a>, -1,
<a name="l00423"></a>00423         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"unset ultimate trust when importing pubkey(s)"</span>), NULL },
<a name="l00424"></a>00424 
<a name="l00425"></a>00425  { <span class="stringliteral">"nodigest"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET, &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e71125165395e4d9d505c88cb532d564cdf">VERIFY_DIGEST</a>,
<a name="l00426"></a>00426         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify package digest(s)"</span>), NULL },
<a name="l00427"></a>00427  { <span class="stringliteral">"nohdrchk"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET|POPT_ARGFLAG_DOC_HIDDEN,
<a name="l00428"></a>00428         &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e71b0ba43f5af74f906251c75b6a3c5247e">VERIFY_HDRCHK</a>,
<a name="l00429"></a>00429         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify database header(s) when retrieved"</span>), NULL },
<a name="l00430"></a>00430  { <span class="stringliteral">"nosignature"</span>, <span class="charliteral">'\0'</span>, POPT_BIT_SET, &amp;<a class="code" href="group__rpmcli.html#g0968737c82697019cc6b5e453a52dedc">rpmQVKArgs</a>.<a class="code" href="structrpmQVKArguments__s.html#cc945d709a159ce1dec392ba52750ab4">qva_flags</a>, <a class="code" href="group__rpmcli.html#gge57534cde3e9032b6b0aa7e27bfe9e71d180f7d9e674d6b3abeca381f18fb082">VERIFY_SIGNATURE</a>,
<a name="l00431"></a>00431         <a class="code" href="system_8h.html#cac8dc9c2554000001040435a0b0010d">N_</a>(<span class="stringliteral">"don't verify package signature(s)"</span>), NULL },
<a name="l00432"></a>00432 
<a name="l00433"></a>00433    POPT_TABLEEND
<a name="l00434"></a>00434 };
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 12 08:44:53 2007 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
