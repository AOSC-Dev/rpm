<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: lib/cpio.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul>
</div>
<h1>lib/cpio.c</h1><a href="cpio_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00010"></a>00010 <span class="preprocessor">#include "<a class="code" href="system_8h.html">system.h</a>"</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;<a class="code" href="rpmio__internal_8h.html">rpmio_internal.h</a>&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;<a class="code" href="rpmlib_8h.html" title="In Memoriam: Steve Taylor &lt;staylor@redhat.com&gt; was here, now he's not.">rpmlib.h</a>&gt;</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#include "<a class="code" href="cpio_8h.html" title="Structures used to handle cpio payloads within rpm packages.">cpio.h</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "<a class="code" href="fsm_8h.html" title="File state machine to handle a payload within an rpm package.">fsm.h</a>"</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="preprocessor">#include "<a class="code" href="rpmerr_8h.html">rpmerr.h</a>"</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include "<a class="code" href="debug_8h.html">debug.h</a>"</span>
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 <span class="comment">/*@access FSM_t @*/</span>
<a name="l00022"></a>00022 
<a name="l00031"></a><a class="code" href="cpio_8c.html#538fed6916d09b74aca1444830a05411">00031</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="cpio_8c.html#538fed6916d09b74aca1444830a05411" title="Convert string to unsigned integer (with buffer size check).">strntoul</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str, <span class="comment">/*@out@*/</span><span class="keywordtype">char</span> **endptr, <span class="keywordtype">int</span> base, <span class="keywordtype">int</span> num)
<a name="l00032"></a>00032         <span class="comment">/*@modifies *endptr @*/</span>
<a name="l00033"></a>00033         <span class="comment">/*@requires maxSet(endptr) &gt;= 0 @*/</span>
<a name="l00034"></a>00034 {
<a name="l00035"></a>00035     <span class="keywordtype">char</span> * buf, * end;
<a name="l00036"></a>00036     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ret;
<a name="l00037"></a>00037 
<a name="l00038"></a>00038     buf = <a class="code" href="system_8h.html#58ff5c3142f685bf7e95cc0cbfaf49c9">alloca</a>(num + 1);
<a name="l00039"></a>00039     strncpy(buf, str, num);
<a name="l00040"></a>00040     buf[num] = <span class="charliteral">'\0'</span>;
<a name="l00041"></a>00041 
<a name="l00042"></a>00042     ret = <a class="code" href="file_8h.html#44dc01b5295c3b1d56f069e68702e35d">strtoul</a>(buf, &amp;end, base);
<a name="l00043"></a>00043 <span class="comment">/*@-boundsread@*/</span> <span class="comment">/* LCL: strtoul annotations */</span>
<a name="l00044"></a>00044     <span class="keywordflow">if</span> (*end != <span class="charliteral">'\0'</span>)
<a name="l00045"></a>00045         *endptr = ((<span class="keywordtype">char</span> *)str) + (end - buf);  <span class="comment">/* XXX discards const */</span>
<a name="l00046"></a>00046     <span class="keywordflow">else</span>
<a name="l00047"></a>00047         *endptr = ((<span class="keywordtype">char</span> *)str) + strlen(buf);
<a name="l00048"></a>00048 <span class="comment">/*@=boundsread@*/</span>
<a name="l00049"></a>00049 
<a name="l00050"></a>00050     <span class="keywordflow">return</span> ret;
<a name="l00051"></a>00051 }
<a name="l00052"></a>00052 
<a name="l00053"></a><a class="code" href="cpio_8c.html#d0b2b3138d2bc4c330cd3bd1005c7fa9">00053</a> <span class="preprocessor">#define GET_NUM_FIELD(phys, log) \</span>
<a name="l00054"></a>00054 <span class="preprocessor">        </span><span class="comment">/*@-boundswrite@*/</span> \
<a name="l00055"></a>00055         log = strntoul(phys, &amp;end, 16, sizeof(phys)); \
<a name="l00056"></a>00056         <span class="comment">/*@=boundswrite@*/</span> \
<a name="l00057"></a>00057         if ( (end - phys) != sizeof(phys) ) return CPIOERR_BAD_HEADER;
<a name="l00058"></a><a class="code" href="cpio_8c.html#70b0396c0bddba49cd61607425e1e30b">00058</a> <span class="preprocessor">#define SET_NUM_FIELD(phys, val, space) \</span>
<a name="l00059"></a>00059 <span class="preprocessor">        sprintf(space, "%8.8lx", (unsigned long) (val)); \</span>
<a name="l00060"></a>00060 <span class="preprocessor">        </span><span class="comment">/*@-boundsread@*/</span> \
<a name="l00061"></a>00061         memcpy(phys, space, 8) \
<a name="l00062"></a>00062         <span class="comment">/*@=boundsread@*/</span>
<a name="l00063"></a>00063 
<a name="l00064"></a><a class="code" href="cpio_8h.html#9bc52ffb75ef798b4ff5a43e29df9ce1">00064</a> <span class="keywordtype">int</span> <a class="code" href="cpio_8c.html#9bc52ffb75ef798b4ff5a43e29df9ce1" title="Write cpio trailer.">cpioTrailerWrite</a>(<a class="code" href="structfsm__s.html" title="File name and stat information.">FSM_t</a> fsm)
<a name="l00065"></a>00065 {
<a name="l00066"></a>00066     <span class="keyword">struct </span><a class="code" href="structcpioCrcPhysicalHeader.html" title="Cpio archive header information.">cpioCrcPhysicalHeader</a> * hdr =
<a name="l00067"></a>00067         (<span class="keyword">struct </span><a class="code" href="structcpioCrcPhysicalHeader.html" title="Cpio archive header information.">cpioCrcPhysicalHeader</a> *)fsm-&gt;<a class="code" href="structfsm__s.html#90ba4541201d857cd1d74baa92e92462">rdbuf</a>;
<a name="l00068"></a>00068     <span class="keywordtype">int</span> rc;
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="comment">/*@-boundswrite@*/</span>
<a name="l00071"></a>00071     memset(hdr, <span class="charliteral">'0'</span>, <a class="code" href="cpio_8h.html#8501579303f5c4b22d76c083c2f13b1b">PHYS_HDR_SIZE</a>);
<a name="l00072"></a>00072     memcpy(hdr-&gt;magic, <a class="code" href="cpio_8h.html#0f0f3000ad7f8e5f8a9395145c3ebd8c">CPIO_NEWC_MAGIC</a>, <span class="keyword">sizeof</span>(hdr-&gt;magic));
<a name="l00073"></a>00073     memcpy(hdr-&gt;nlink, <span class="stringliteral">"00000001"</span>, 8);
<a name="l00074"></a>00074     memcpy(hdr-&gt;namesize, <span class="stringliteral">"0000000b"</span>, 8);
<a name="l00075"></a>00075     memcpy(fsm-&gt;<a class="code" href="structfsm__s.html#90ba4541201d857cd1d74baa92e92462">rdbuf</a> + <a class="code" href="cpio_8h.html#8501579303f5c4b22d76c083c2f13b1b">PHYS_HDR_SIZE</a>, <a class="code" href="cpio_8h.html#3c091cfbcf3ae6d8f677e5ab9a775da3">CPIO_TRAILER</a>, <span class="keyword">sizeof</span>(<a class="code" href="cpio_8h.html#3c091cfbcf3ae6d8f677e5ab9a775da3">CPIO_TRAILER</a>));
<a name="l00076"></a>00076 <span class="comment">/*@=boundswrite@*/</span>
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     <span class="comment">/* XXX DWRITE uses rdnb for I/O length. */</span>
<a name="l00079"></a>00079     fsm-&gt;<a class="code" href="structfsm__s.html#0bca6f694fbca882933fd96be8ead40c">rdnb</a> = <a class="code" href="cpio_8h.html#8501579303f5c4b22d76c083c2f13b1b">PHYS_HDR_SIZE</a> + <span class="keyword">sizeof</span>(CPIO_TRAILER);
<a name="l00080"></a>00080     rc = <a class="code" href="fsm_8c.html#5cd1965aa3d5448685dfc97fd6d183ff" title="File state machine driver.">fsmNext</a>(fsm, <a class="code" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4526524a4e5d4bbbb7b0c9c134b4e558b83">FSM_DWRITE</a>);
<a name="l00081"></a>00081 
<a name="l00082"></a>00082     <span class="comment">/*</span>
<a name="l00083"></a>00083 <span class="comment">     * GNU cpio pads to 512 bytes here, but we don't. This may matter for</span>
<a name="l00084"></a>00084 <span class="comment">     * tape device(s) and/or concatenated cpio archives. &lt;shrug&gt;</span>
<a name="l00085"></a>00085 <span class="comment">     */</span>
<a name="l00086"></a>00086     <span class="keywordflow">if</span> (!rc)
<a name="l00087"></a>00087         rc = <a class="code" href="fsm_8c.html#5cd1965aa3d5448685dfc97fd6d183ff" title="File state machine driver.">fsmNext</a>(fsm, <a class="code" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452d879219cd22e4c5fd9bb012cf9908ac3">FSM_PAD</a>);
<a name="l00088"></a>00088 
<a name="l00089"></a>00089     <span class="keywordflow">return</span> rc;
<a name="l00090"></a>00090 }
<a name="l00091"></a>00091 
<a name="l00092"></a><a class="code" href="cpio_8h.html#0364dffab5bf80d3afdaa841da5a497f">00092</a> <span class="keywordtype">int</span> <a class="code" href="cpio_8c.html#0364dffab5bf80d3afdaa841da5a497f" title="Write cpio header.">cpioHeaderWrite</a>(<a class="code" href="structfsm__s.html" title="File name and stat information.">FSM_t</a> fsm, <span class="keyword">struct</span> stat * st)
<a name="l00093"></a>00093 {
<a name="l00094"></a>00094     <span class="keyword">struct </span><a class="code" href="structcpioCrcPhysicalHeader.html" title="Cpio archive header information.">cpioCrcPhysicalHeader</a> * hdr = (<span class="keyword">struct </span><a class="code" href="structcpioCrcPhysicalHeader.html" title="Cpio archive header information.">cpioCrcPhysicalHeader</a> *)fsm-&gt;<a class="code" href="structfsm__s.html#90ba4541201d857cd1d74baa92e92462">rdbuf</a>;
<a name="l00095"></a>00095     <span class="keywordtype">char</span> field[64];
<a name="l00096"></a>00096     <span class="keywordtype">size_t</span> len;
<a name="l00097"></a>00097     dev_t dev;
<a name="l00098"></a>00098     <span class="keywordtype">int</span> rc = 0;
<a name="l00099"></a>00099 
<a name="l00100"></a>00100     memcpy(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#7445ceaa0127eb068cc2ffbb126c7953">magic</a>, <a class="code" href="cpio_8h.html#0f0f3000ad7f8e5f8a9395145c3ebd8c">CPIO_NEWC_MAGIC</a>, <span class="keyword">sizeof</span>(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#7445ceaa0127eb068cc2ffbb126c7953">magic</a>));
<a name="l00101"></a>00101     <a class="code" href="cpio_8c.html#70b0396c0bddba49cd61607425e1e30b">SET_NUM_FIELD</a>(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#e4cd09639fa13dc6fb7369a258eee49a">inode</a>, st-&gt;st_ino, field);
<a name="l00102"></a>00102     <a class="code" href="cpio_8c.html#70b0396c0bddba49cd61607425e1e30b">SET_NUM_FIELD</a>(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#c66193ad9eb594d440a68d8220532c06">mode</a>, st-&gt;st_mode, field);
<a name="l00103"></a>00103     <a class="code" href="cpio_8c.html#70b0396c0bddba49cd61607425e1e30b">SET_NUM_FIELD</a>(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#8644d12f38ce2c6093723119b855b1b4">uid</a>, st-&gt;st_uid, field);
<a name="l00104"></a>00104     <a class="code" href="cpio_8c.html#70b0396c0bddba49cd61607425e1e30b">SET_NUM_FIELD</a>(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#bd766de5b5ad423f469eccfc8a9d56f4">gid</a>, st-&gt;st_gid, field);
<a name="l00105"></a>00105     <a class="code" href="cpio_8c.html#70b0396c0bddba49cd61607425e1e30b">SET_NUM_FIELD</a>(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#e41ae07253bb2a68992121191accd818">nlink</a>, st-&gt;st_nlink, field);
<a name="l00106"></a>00106     <a class="code" href="cpio_8c.html#70b0396c0bddba49cd61607425e1e30b">SET_NUM_FIELD</a>(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#5d74121ec9319e3c8f774117fd76bba0">mtime</a>, st-&gt;st_mtime, field);
<a name="l00107"></a>00107     <a class="code" href="cpio_8c.html#70b0396c0bddba49cd61607425e1e30b">SET_NUM_FIELD</a>(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#5b590420c10f4cc74c81b44ca469f168">filesize</a>, st-&gt;st_size, field);
<a name="l00108"></a>00108 
<a name="l00109"></a>00109     dev = <a class="code" href="system_8h.html#9dbd022804b9875969f8fe1226c13f94">major</a>((<span class="keywordtype">unsigned</span>)st-&gt;st_dev); <a class="code" href="cpio_8c.html#70b0396c0bddba49cd61607425e1e30b">SET_NUM_FIELD</a>(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#51312ef177138fca582311bc43e11a9a">devMajor</a>, dev, field);
<a name="l00110"></a>00110     dev = <a class="code" href="system_8h.html#34b528207b48e5d10558dd7c3e83f574">minor</a>((<span class="keywordtype">unsigned</span>)st-&gt;st_dev); <a class="code" href="cpio_8c.html#70b0396c0bddba49cd61607425e1e30b">SET_NUM_FIELD</a>(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#cff2172cde2c35164df5327fb7e1e383">devMinor</a>, dev, field);
<a name="l00111"></a>00111     dev = <a class="code" href="system_8h.html#9dbd022804b9875969f8fe1226c13f94">major</a>((<span class="keywordtype">unsigned</span>)st-&gt;st_rdev); <a class="code" href="cpio_8c.html#70b0396c0bddba49cd61607425e1e30b">SET_NUM_FIELD</a>(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#9922b6093206539626c542018f501f9e">rdevMajor</a>, dev, field);
<a name="l00112"></a>00112     dev = <a class="code" href="system_8h.html#34b528207b48e5d10558dd7c3e83f574">minor</a>((<span class="keywordtype">unsigned</span>)st-&gt;st_rdev); <a class="code" href="cpio_8c.html#70b0396c0bddba49cd61607425e1e30b">SET_NUM_FIELD</a>(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#0e5cafe9e76640244ea62feef489d869">rdevMinor</a>, dev, field);
<a name="l00113"></a>00113 
<a name="l00114"></a>00114     len = strlen(fsm-&gt;<a class="code" href="structfsm__s.html#badf4f6472b5d2a0ccd9924eb510b308">path</a>) + 1; <a class="code" href="cpio_8c.html#70b0396c0bddba49cd61607425e1e30b">SET_NUM_FIELD</a>(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#8ecf98445117952be21014d95efe2b69">namesize</a>, len, field);
<a name="l00115"></a>00115     memcpy(hdr-&gt;<a class="code" href="structcpioCrcPhysicalHeader.html#45f0ccae6f17bcbd5c7a71af0e402927">checksum</a>, <span class="stringliteral">"00000000"</span>, 8);
<a name="l00116"></a>00116 <span class="comment">/*@-boundswrite@*/</span>
<a name="l00117"></a>00117     memcpy(fsm-&gt;<a class="code" href="structfsm__s.html#90ba4541201d857cd1d74baa92e92462">rdbuf</a> + <a class="code" href="cpio_8h.html#8501579303f5c4b22d76c083c2f13b1b">PHYS_HDR_SIZE</a>, fsm-&gt;<a class="code" href="structfsm__s.html#badf4f6472b5d2a0ccd9924eb510b308">path</a>, len);
<a name="l00118"></a>00118 <span class="comment">/*@=boundswrite@*/</span>
<a name="l00119"></a>00119 
<a name="l00120"></a>00120     <span class="comment">/* XXX DWRITE uses rdnb for I/O length. */</span>
<a name="l00121"></a>00121     fsm-&gt;<a class="code" href="structfsm__s.html#0bca6f694fbca882933fd96be8ead40c">rdnb</a> = <a class="code" href="cpio_8h.html#8501579303f5c4b22d76c083c2f13b1b">PHYS_HDR_SIZE</a> + len;
<a name="l00122"></a>00122     rc = <a class="code" href="fsm_8c.html#5cd1965aa3d5448685dfc97fd6d183ff" title="File state machine driver.">fsmNext</a>(fsm, <a class="code" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4526524a4e5d4bbbb7b0c9c134b4e558b83">FSM_DWRITE</a>);
<a name="l00123"></a>00123     <span class="keywordflow">if</span> (!rc &amp;&amp; fsm-&gt;<a class="code" href="structfsm__s.html#0bca6f694fbca882933fd96be8ead40c">rdnb</a> != fsm-&gt;<a class="code" href="structfsm__s.html#eba675bcb78b6e09124e63d66455e14e">wrnb</a>)
<a name="l00124"></a>00124         rc = <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2eae008ca13418c1092ef0c314a8273d8d">CPIOERR_WRITE_FAILED</a>;
<a name="l00125"></a>00125     <span class="keywordflow">if</span> (!rc)
<a name="l00126"></a>00126         rc = <a class="code" href="fsm_8c.html#5cd1965aa3d5448685dfc97fd6d183ff" title="File state machine driver.">fsmNext</a>(fsm, <a class="code" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452d879219cd22e4c5fd9bb012cf9908ac3">FSM_PAD</a>);
<a name="l00127"></a>00127     <span class="keywordflow">return</span> rc;
<a name="l00128"></a>00128 }
<a name="l00129"></a>00129 
<a name="l00130"></a><a class="code" href="cpio_8h.html#e672b69d8e0ef099707991d463d76164">00130</a> <span class="keywordtype">int</span> <a class="code" href="cpio_8c.html#e672b69d8e0ef099707991d463d76164" title="Read cpio header.">cpioHeaderRead</a>(<a class="code" href="structfsm__s.html" title="File name and stat information.">FSM_t</a> fsm, <span class="keyword">struct</span> stat * st)
<a name="l00131"></a>00131         <span class="comment">/*@modifies fsm, *st @*/</span>
<a name="l00132"></a>00132 {
<a name="l00133"></a>00133     <span class="keyword">struct </span><a class="code" href="structcpioCrcPhysicalHeader.html" title="Cpio archive header information.">cpioCrcPhysicalHeader</a> hdr;
<a name="l00134"></a>00134     <span class="keywordtype">int</span> nameSize;
<a name="l00135"></a>00135     <span class="keywordtype">char</span> * end;
<a name="l00136"></a>00136     <span class="keywordtype">int</span> <a class="code" href="system_8h.html#9dbd022804b9875969f8fe1226c13f94">major</a>, <a class="code" href="system_8h.html#34b528207b48e5d10558dd7c3e83f574">minor</a>;
<a name="l00137"></a>00137     <span class="keywordtype">int</span> rc = 0;
<a name="l00138"></a>00138 
<a name="l00139"></a>00139     fsm-&gt;<a class="code" href="structfsm__s.html#db95b796b713d812d21309d1ab93a089">wrlen</a> = <a class="code" href="cpio_8h.html#8501579303f5c4b22d76c083c2f13b1b">PHYS_HDR_SIZE</a>;
<a name="l00140"></a>00140     rc = <a class="code" href="fsm_8c.html#5cd1965aa3d5448685dfc97fd6d183ff" title="File state machine driver.">fsmNext</a>(fsm, <a class="code" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452fedb55217c2d9644549604f2d8f37ea1">FSM_DREAD</a>);
<a name="l00141"></a>00141     <span class="keywordflow">if</span> (!rc &amp;&amp; fsm-&gt;<a class="code" href="structfsm__s.html#0bca6f694fbca882933fd96be8ead40c">rdnb</a> != fsm-&gt;<a class="code" href="structfsm__s.html#db95b796b713d812d21309d1ab93a089">wrlen</a>)
<a name="l00142"></a>00142         rc = <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2ecb820fe707edd24483b8d8ed6b90e06f">CPIOERR_READ_FAILED</a>;
<a name="l00143"></a>00143     <span class="keywordflow">if</span> (rc) <span class="keywordflow">return</span> rc;
<a name="l00144"></a>00144 <span class="comment">/*@-boundswrite@*/</span>
<a name="l00145"></a>00145     memcpy(&amp;hdr, fsm-&gt;<a class="code" href="structfsm__s.html#97573f2ed933fc8fe4e450c825b41a42">wrbuf</a>, fsm-&gt;<a class="code" href="structfsm__s.html#0bca6f694fbca882933fd96be8ead40c">rdnb</a>);
<a name="l00146"></a>00146 <span class="comment">/*@=boundswrite@*/</span>
<a name="l00147"></a>00147 
<a name="l00148"></a>00148     <span class="keywordflow">if</span> (strncmp(<a class="code" href="cpio_8h.html#78a12c3a44d98bab6c898176a8920ad1">CPIO_CRC_MAGIC</a>, hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#7445ceaa0127eb068cc2ffbb126c7953">magic</a>, <span class="keyword">sizeof</span>(<a class="code" href="cpio_8h.html#78a12c3a44d98bab6c898176a8920ad1">CPIO_CRC_MAGIC</a>)-1) &amp;&amp;
<a name="l00149"></a>00149         strncmp(<a class="code" href="cpio_8h.html#0f0f3000ad7f8e5f8a9395145c3ebd8c">CPIO_NEWC_MAGIC</a>, hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#7445ceaa0127eb068cc2ffbb126c7953">magic</a>, <span class="keyword">sizeof</span>(<a class="code" href="cpio_8h.html#0f0f3000ad7f8e5f8a9395145c3ebd8c">CPIO_NEWC_MAGIC</a>)-1))
<a name="l00150"></a>00150         <span class="keywordflow">return</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2ecd751dfd8a7c74ee9efb7b7a3a77fe84">CPIOERR_BAD_MAGIC</a>;
<a name="l00151"></a>00151 
<a name="l00152"></a>00152     <a class="code" href="cpio_8c.html#d0b2b3138d2bc4c330cd3bd1005c7fa9">GET_NUM_FIELD</a>(hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#e4cd09639fa13dc6fb7369a258eee49a">inode</a>, st-&gt;st_ino);
<a name="l00153"></a>00153     <a class="code" href="cpio_8c.html#d0b2b3138d2bc4c330cd3bd1005c7fa9">GET_NUM_FIELD</a>(hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#c66193ad9eb594d440a68d8220532c06">mode</a>, st-&gt;st_mode);
<a name="l00154"></a>00154     <a class="code" href="cpio_8c.html#d0b2b3138d2bc4c330cd3bd1005c7fa9">GET_NUM_FIELD</a>(hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#8644d12f38ce2c6093723119b855b1b4">uid</a>, st-&gt;st_uid);
<a name="l00155"></a>00155     <a class="code" href="cpio_8c.html#d0b2b3138d2bc4c330cd3bd1005c7fa9">GET_NUM_FIELD</a>(hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#bd766de5b5ad423f469eccfc8a9d56f4">gid</a>, st-&gt;st_gid);
<a name="l00156"></a>00156     <a class="code" href="cpio_8c.html#d0b2b3138d2bc4c330cd3bd1005c7fa9">GET_NUM_FIELD</a>(hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#e41ae07253bb2a68992121191accd818">nlink</a>, st-&gt;st_nlink);
<a name="l00157"></a>00157     <a class="code" href="cpio_8c.html#d0b2b3138d2bc4c330cd3bd1005c7fa9">GET_NUM_FIELD</a>(hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#5d74121ec9319e3c8f774117fd76bba0">mtime</a>, st-&gt;st_mtime);
<a name="l00158"></a>00158     <a class="code" href="cpio_8c.html#d0b2b3138d2bc4c330cd3bd1005c7fa9">GET_NUM_FIELD</a>(hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#5b590420c10f4cc74c81b44ca469f168">filesize</a>, st-&gt;st_size);
<a name="l00159"></a>00159 
<a name="l00160"></a>00160     <a class="code" href="cpio_8c.html#d0b2b3138d2bc4c330cd3bd1005c7fa9">GET_NUM_FIELD</a>(hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#51312ef177138fca582311bc43e11a9a">devMajor</a>, major);
<a name="l00161"></a>00161     <a class="code" href="cpio_8c.html#d0b2b3138d2bc4c330cd3bd1005c7fa9">GET_NUM_FIELD</a>(hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#cff2172cde2c35164df5327fb7e1e383">devMinor</a>, minor);
<a name="l00162"></a>00162     <span class="comment">/*@-shiftimplementation@*/</span>
<a name="l00163"></a>00163     st-&gt;st_dev = <a class="code" href="system_8h.html#47a469c19d81957690f00b20eb124658">makedev</a>(major, minor);
<a name="l00164"></a>00164     <span class="comment">/*@=shiftimplementation@*/</span>
<a name="l00165"></a>00165 
<a name="l00166"></a>00166     <a class="code" href="cpio_8c.html#d0b2b3138d2bc4c330cd3bd1005c7fa9">GET_NUM_FIELD</a>(hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#9922b6093206539626c542018f501f9e">rdevMajor</a>, major);
<a name="l00167"></a>00167     <a class="code" href="cpio_8c.html#d0b2b3138d2bc4c330cd3bd1005c7fa9">GET_NUM_FIELD</a>(hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#0e5cafe9e76640244ea62feef489d869">rdevMinor</a>, minor);
<a name="l00168"></a>00168     <span class="comment">/*@-shiftimplementation@*/</span>
<a name="l00169"></a>00169     st-&gt;st_rdev = <a class="code" href="system_8h.html#47a469c19d81957690f00b20eb124658">makedev</a>(major, minor);
<a name="l00170"></a>00170     <span class="comment">/*@=shiftimplementation@*/</span>
<a name="l00171"></a>00171 
<a name="l00172"></a>00172     <a class="code" href="cpio_8c.html#d0b2b3138d2bc4c330cd3bd1005c7fa9">GET_NUM_FIELD</a>(hdr.<a class="code" href="structcpioCrcPhysicalHeader.html#8ecf98445117952be21014d95efe2b69">namesize</a>, nameSize);
<a name="l00173"></a>00173     <span class="keywordflow">if</span> (nameSize &gt;= fsm-&gt;<a class="code" href="structfsm__s.html#594282d7683026aaf732d781efd2de7a">wrsize</a>)
<a name="l00174"></a>00174         <span class="keywordflow">return</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e492023124653d08dc4f871372bbc0bb1">CPIOERR_BAD_HEADER</a>;
<a name="l00175"></a>00175 
<a name="l00176"></a>00176     {   <span class="keywordtype">char</span> * t = <a class="code" href="system_8h.html#2ff4ef58da7e543466e75f20f2a2d8b7">xmalloc</a>(nameSize + 1);
<a name="l00177"></a>00177         fsm-&gt;<a class="code" href="structfsm__s.html#db95b796b713d812d21309d1ab93a089">wrlen</a> = nameSize;
<a name="l00178"></a>00178         rc = <a class="code" href="fsm_8c.html#5cd1965aa3d5448685dfc97fd6d183ff" title="File state machine driver.">fsmNext</a>(fsm, <a class="code" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452fedb55217c2d9644549604f2d8f37ea1">FSM_DREAD</a>);
<a name="l00179"></a>00179         <span class="keywordflow">if</span> (!rc &amp;&amp; fsm-&gt;<a class="code" href="structfsm__s.html#0bca6f694fbca882933fd96be8ead40c">rdnb</a> != fsm-&gt;<a class="code" href="structfsm__s.html#db95b796b713d812d21309d1ab93a089">wrlen</a>)
<a name="l00180"></a>00180             rc = <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e492023124653d08dc4f871372bbc0bb1">CPIOERR_BAD_HEADER</a>;
<a name="l00181"></a>00181         <span class="keywordflow">if</span> (rc) {
<a name="l00182"></a>00182             t = <a class="code" href="rpmlib_8h.html#d608c2923552dbeeb832133a9a289bb7" title="Wrapper to free(3), hides const compilation noise, permit NULL, return NULL.">_free</a>(t);
<a name="l00183"></a>00183             fsm-&gt;<a class="code" href="structfsm__s.html#badf4f6472b5d2a0ccd9924eb510b308">path</a> = NULL;
<a name="l00184"></a>00184             <span class="keywordflow">return</span> rc;
<a name="l00185"></a>00185         }
<a name="l00186"></a>00186 <span class="comment">/*@-boundswrite@*/</span>
<a name="l00187"></a>00187         memcpy(t, fsm-&gt;<a class="code" href="structfsm__s.html#97573f2ed933fc8fe4e450c825b41a42">wrbuf</a>, fsm-&gt;<a class="code" href="structfsm__s.html#0bca6f694fbca882933fd96be8ead40c">rdnb</a>);
<a name="l00188"></a>00188         t[nameSize] = <span class="charliteral">'\0'</span>;
<a name="l00189"></a>00189 <span class="comment">/*@=boundswrite@*/</span>
<a name="l00190"></a>00190         fsm-&gt;<a class="code" href="structfsm__s.html#badf4f6472b5d2a0ccd9924eb510b308">path</a> = t;
<a name="l00191"></a>00191     }
<a name="l00192"></a>00192 
<a name="l00193"></a>00193     <span class="keywordflow">return</span> 0;
<a name="l00194"></a>00194 }
<a name="l00195"></a>00195 
<a name="l00196"></a><a class="code" href="group__payload.html#g662f242398346a77fd1d9933053f11ac">00196</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> <a class="code" href="group__payload.html#g662f242398346a77fd1d9933053f11ac" title="Return formatted error message on payload handling failure.">cpioStrerror</a>(<span class="keywordtype">int</span> rc)
<a name="l00197"></a>00197 {
<a name="l00198"></a>00198     <span class="keyword">static</span> <span class="keywordtype">char</span> msg[256];
<a name="l00199"></a>00199     <span class="keywordtype">char</span> *s;
<a name="l00200"></a>00200     <span class="keywordtype">int</span> l, myerrno = <a class="code" href="system_8h.html#a5e6580e8f12679392f66d3c9b146ab4">errno</a>;
<a name="l00201"></a>00201 
<a name="l00202"></a>00202     strcpy(msg, <span class="stringliteral">"cpio: "</span>);
<a name="l00203"></a>00203     <span class="comment">/*@-branchstate@*/</span>
<a name="l00204"></a>00204     <span class="keywordflow">switch</span> (rc) {
<a name="l00205"></a>00205     <span class="keywordflow">default</span>:
<a name="l00206"></a>00206         s = msg + strlen(msg);
<a name="l00207"></a>00207         sprintf(s, <a class="code" href="system_8h.html#2ec2c1c3098396e2d147d58b66f18ceb">_</a>(<span class="stringliteral">"(error 0x%x)"</span>), (<span class="keywordtype">unsigned</span>)rc);
<a name="l00208"></a>00208         s = NULL;
<a name="l00209"></a>00209         <span class="keywordflow">break</span>;
<a name="l00210"></a>00210     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2ecd751dfd8a7c74ee9efb7b7a3a77fe84">CPIOERR_BAD_MAGIC</a>:     s = <a class="code" href="system_8h.html#2ec2c1c3098396e2d147d58b66f18ceb">_</a>(<span class="stringliteral">"Bad magic"</span>);             <span class="keywordflow">break</span>;
<a name="l00211"></a>00211     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e492023124653d08dc4f871372bbc0bb1">CPIOERR_BAD_HEADER</a>:    s = <a class="code" href="system_8h.html#2ec2c1c3098396e2d147d58b66f18ceb">_</a>(<span class="stringliteral">"Bad/unreadable  header"</span>);<span class="keywordflow">break</span>;
<a name="l00212"></a>00212 
<a name="l00213"></a>00213     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e27dbc04e6a7efe53ef2cf19c050aaeb7">CPIOERR_OPEN_FAILED</a>:   s = <span class="stringliteral">"open"</span>;     <span class="keywordflow">break</span>;
<a name="l00214"></a>00214     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e040d2d8a2e9f42d5dac7fe26eab48892">CPIOERR_CHMOD_FAILED</a>:  s = <span class="stringliteral">"chmod"</span>;    <span class="keywordflow">break</span>;
<a name="l00215"></a>00215     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2edc43c00d2ce573743077e525c8ee68b3">CPIOERR_CHOWN_FAILED</a>:  s = <span class="stringliteral">"chown"</span>;    <span class="keywordflow">break</span>;
<a name="l00216"></a>00216     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2eae008ca13418c1092ef0c314a8273d8d">CPIOERR_WRITE_FAILED</a>:  s = <span class="stringliteral">"write"</span>;    <span class="keywordflow">break</span>;
<a name="l00217"></a>00217     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e1e3b66871224aac3bc02873a84a4be07">CPIOERR_UTIME_FAILED</a>:  s = <span class="stringliteral">"utime"</span>;    <span class="keywordflow">break</span>;
<a name="l00218"></a>00218     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e5b65782bb44a2decdb59d4963d516252">CPIOERR_UNLINK_FAILED</a>: s = <span class="stringliteral">"unlink"</span>;   <span class="keywordflow">break</span>;
<a name="l00219"></a>00219     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e1a4230f664367a2c3a8d84559020fdce">CPIOERR_RENAME_FAILED</a>: s = <span class="stringliteral">"rename"</span>;   <span class="keywordflow">break</span>;
<a name="l00220"></a>00220     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2ea07a78f4a1fce2d987ee14d5dda85d8f">CPIOERR_SYMLINK_FAILED</a>: s = <span class="stringliteral">"symlink"</span>; <span class="keywordflow">break</span>;
<a name="l00221"></a>00221     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e7286fa2d91982f974bea5359c99ad3d2">CPIOERR_STAT_FAILED</a>:   s = <span class="stringliteral">"stat"</span>;     <span class="keywordflow">break</span>;
<a name="l00222"></a>00222     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e04062662959eacf4abb420b0c29e0a2b">CPIOERR_LSTAT_FAILED</a>:  s = <span class="stringliteral">"lstat"</span>;    <span class="keywordflow">break</span>;
<a name="l00223"></a>00223     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2ed2fda7fdbb23d86ff74dcb26abfc57a6">CPIOERR_MKDIR_FAILED</a>:  s = <span class="stringliteral">"mkdir"</span>;    <span class="keywordflow">break</span>;
<a name="l00224"></a>00224     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e3d817496c227983a181bb965b02c4125">CPIOERR_RMDIR_FAILED</a>:  s = <span class="stringliteral">"rmdir"</span>;    <span class="keywordflow">break</span>;
<a name="l00225"></a>00225     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e922dfaaa522313a0a3168fcb6ad30653">CPIOERR_MKNOD_FAILED</a>:  s = <span class="stringliteral">"mknod"</span>;    <span class="keywordflow">break</span>;
<a name="l00226"></a>00226     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2ea3cd2a89a57bbcae50c7b47ffdfb8cbf">CPIOERR_MKFIFO_FAILED</a>: s = <span class="stringliteral">"mkfifo"</span>;   <span class="keywordflow">break</span>;
<a name="l00227"></a>00227     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e2676b4b84f9181f5f552b9becbe60097">CPIOERR_LINK_FAILED</a>:   s = <span class="stringliteral">"link"</span>;     <span class="keywordflow">break</span>;
<a name="l00228"></a>00228     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e43eba27fcdd62587d62a263ce5039ec7">CPIOERR_READLINK_FAILED</a>: s = <span class="stringliteral">"readlink"</span>;       <span class="keywordflow">break</span>;
<a name="l00229"></a>00229     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2ecb820fe707edd24483b8d8ed6b90e06f">CPIOERR_READ_FAILED</a>:   s = <span class="stringliteral">"read"</span>;     <span class="keywordflow">break</span>;
<a name="l00230"></a>00230     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2eeef62a89a6075e193b5d544a5526eceb">CPIOERR_COPY_FAILED</a>:   s = <span class="stringliteral">"copy"</span>;     <span class="keywordflow">break</span>;
<a name="l00231"></a>00231     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e07dca272a26b01cf3e7e051aa46a8513">CPIOERR_LSETFCON_FAILED</a>: s = <span class="stringliteral">"lsetfilecon"</span>;    <span class="keywordflow">break</span>;
<a name="l00232"></a>00232 
<a name="l00233"></a>00233     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e7552686b53ad8e2c0fe8abf5f2604902">CPIOERR_HDR_SIZE</a>:      s = <a class="code" href="system_8h.html#2ec2c1c3098396e2d147d58b66f18ceb">_</a>(<span class="stringliteral">"Header size too big"</span>);   <span class="keywordflow">break</span>;
<a name="l00234"></a>00234     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e92ac2f69e7bcd41f4e7ce0d6fbb6dc90">CPIOERR_UNKNOWN_FILETYPE</a>: s = <a class="code" href="system_8h.html#2ec2c1c3098396e2d147d58b66f18ceb">_</a>(<span class="stringliteral">"Unknown file type"</span>);  <span class="keywordflow">break</span>;
<a name="l00235"></a>00235     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2eb2ee20a3391f8f40bcfb2feee21ec081">CPIOERR_MISSING_HARDLINK</a>: s = <a class="code" href="system_8h.html#2ec2c1c3098396e2d147d58b66f18ceb">_</a>(<span class="stringliteral">"Missing hard link(s)"</span>); <span class="keywordflow">break</span>;
<a name="l00236"></a>00236     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e4b0593b894a5c8df02f45c21e08a1e99">CPIOERR_MD5SUM_MISMATCH</a>: s = <a class="code" href="system_8h.html#2ec2c1c3098396e2d147d58b66f18ceb">_</a>(<span class="stringliteral">"MD5 sum mismatch"</span>);    <span class="keywordflow">break</span>;
<a name="l00237"></a>00237     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e939ab37790a9bfe069b1a80a8e9c20f0">CPIOERR_INTERNAL</a>:      s = <a class="code" href="system_8h.html#2ec2c1c3098396e2d147d58b66f18ceb">_</a>(<span class="stringliteral">"Internal error"</span>);        <span class="keywordflow">break</span>;
<a name="l00238"></a>00238     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e37d6e755048522b400ae4a83c27044fd">CPIOERR_UNMAPPED_FILE</a>: s = <a class="code" href="system_8h.html#2ec2c1c3098396e2d147d58b66f18ceb">_</a>(<span class="stringliteral">"Archive file not in header"</span>); <span class="keywordflow">break</span>;
<a name="l00239"></a>00239     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e6bb97262a2b0cb2a87ecc5e7eace5d87">CPIOERR_ENOENT</a>:        s = <a class="code" href="file_8h.html#6f7232491f317029917062f23199df69">strerror</a>(ENOENT); <span class="keywordflow">break</span>;
<a name="l00240"></a>00240     <span class="keywordflow">case</span> <a class="code" href="group__payload.html#gg4dbf9405fc8be17d6ed0d0b606b65a2e2f2b6f9348148b69b04fa21a245b7b92">CPIOERR_ENOTEMPTY</a>:     s = <a class="code" href="file_8h.html#6f7232491f317029917062f23199df69">strerror</a>(ENOTEMPTY); <span class="keywordflow">break</span>;
<a name="l00241"></a>00241     }
<a name="l00242"></a>00242     <span class="comment">/*@=branchstate@*/</span>
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     l = <span class="keyword">sizeof</span>(msg) - strlen(msg) - 1;
<a name="l00245"></a>00245     <span class="keywordflow">if</span> (s != NULL) {
<a name="l00246"></a>00246         <span class="keywordflow">if</span> (l &gt; 0) strncat(msg, s, l);
<a name="l00247"></a>00247         l -= strlen(s);
<a name="l00248"></a>00248     }
<a name="l00249"></a>00249     <span class="comment">/*@-branchstate@*/</span>
<a name="l00250"></a>00250     <span class="keywordflow">if</span> ((rc &amp; <a class="code" href="group__payload.html#gf8e0b5aafa75fcc7f6b3e9756fc8a28d" title="CPIO_CHECK_ERRNO bit is set only if errno is valid.">CPIOERR_CHECK_ERRNO</a>) &amp;&amp; myerrno) {
<a name="l00251"></a>00251         s = <a class="code" href="system_8h.html#2ec2c1c3098396e2d147d58b66f18ceb">_</a>(<span class="stringliteral">" failed - "</span>);
<a name="l00252"></a>00252         <span class="keywordflow">if</span> (l &gt; 0) strncat(msg, s, l);
<a name="l00253"></a>00253         l -= strlen(s);
<a name="l00254"></a>00254         <span class="keywordflow">if</span> (l &gt; 0) strncat(msg, <a class="code" href="file_8h.html#6f7232491f317029917062f23199df69">strerror</a>(myerrno), l);
<a name="l00255"></a>00255     }
<a name="l00256"></a>00256     <span class="comment">/*@=branchstate@*/</span>
<a name="l00257"></a>00257     <span class="keywordflow">return</span> msg;
<a name="l00258"></a>00258 }
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 12 08:44:53 2007 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
