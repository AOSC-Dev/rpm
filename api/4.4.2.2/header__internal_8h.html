<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: rpmdb/header_internal.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul>
</div>
<h1>rpmdb/header_internal.h File Reference</h1><code>#include &lt;<a class="el" href="header_8h-source.html">header.h</a>&gt;</code><br>
<code>#include &lt;netinet/in.h&gt;</code><br>

<p>
<a href="header__internal_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structentryInfo__s.html">entryInfo_s</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structindexEntry__s.html">indexEntry_s</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structheaderToken__s.html">headerToken_s</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The Header data structure.  <a href="structheaderToken__s.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsprintfTag__s.html">sprintfTag_s</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrpmec__s.html">rpmec_s</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsprintfToken__s.html">sprintfToken_s</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="header__internal_8h.html#1220d84d0b1ec573fbe6053d884784b6">INDEX_MALLOC_SIZE</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="header__internal_8h.html#86ca1f3818970f0ca1ca84f547ba04d9">HEADER_OLDFILENAMES</a>&nbsp;&nbsp;&nbsp;1027</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="header__internal_8h.html#2f8925cad8411b9ba8ec4798563aca6d">HEADER_BASENAMES</a>&nbsp;&nbsp;&nbsp;1117</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="header__internal_8h.html#fff6018c52adbf474284a613e2244f2b">REGION_TAG_TYPE</a>&nbsp;&nbsp;&nbsp;RPM_BIN_TYPE</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="header__internal_8h.html#7bf3e75d547698c184adbb8c8522b406">REGION_TAG_COUNT</a>&nbsp;&nbsp;&nbsp;sizeof(struct <a class="el" href="structentryInfo__s.html">entryInfo_s</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="header__internal_8h.html#670fbd816025c078f9b527527c6aa8ca">ENTRY_IS_REGION</a>(_e)&nbsp;&nbsp;&nbsp;(((_e)-&gt;info.tag &gt;= HEADER_IMAGE) &amp;&amp; ((_e)-&gt;info.tag &lt; HEADER_REGIONS))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="header__internal_8h.html#1a70a6ab90c01d37813d185c42979054">ENTRY_IN_REGION</a>(_e)&nbsp;&nbsp;&nbsp;((_e)-&gt;info.offset &lt; 0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="header__internal_8h.html#c90b5f5d7ba4304d97e73686f09abbfd">HEADERFLAG_SORTED</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="header__internal_8h.html#c434f32ee138673538c8654fad98dfc6">HEADERFLAG_ALLOCATED</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="header__internal_8h.html#5b40be5a48e0d63d67a3d876a8f092fb">HEADERFLAG_LEGACY</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 2)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="header__internal_8h.html#07094aa3068098555533ec26f8b045a3">HEADERFLAG_DEBUG</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 3)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="header__internal_8h.html#624178334b5e00af57f5475989703cd6">HEADER_DUMP_INLINE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structentryInfo__s.html">entryInfo_s</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#g4b2ddd31059d56bd9fa6518f745c2aca">entryInfo</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Description of tag data.  <a href="group__header.html#g4b2ddd31059d56bd9fa6518f745c2aca"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structindexEntry__s.html">indexEntry_s</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#g42b53f0dc335143ac4419c6de5be2c05">indexEntry</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A single tag from a Header.  <a href="group__header.html#g42b53f0dc335143ac4419c6de5be2c05"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structsprintfTag__s.html">sprintfTag_s</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gda73cb689aa92fc7090b2c721192a4e9">sprintfTag</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structrpmec__s.html">rpmec_s</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#g6266a98fe47a727ee51c69348b8be1af">rpmec</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Extension cache.  <a href="group__header.html#g6266a98fe47a727ee51c69348b8be1af"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structsprintfToken__s.html">sprintfToken_s</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gc0b2ef81a537f135fc2b39e1791ad25c">sprintfToken</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gfdfb1b277b0365171cac6bf478cf08d0">headerGetLangs</a> (<a class="el" href="structheaderToken__s.html">Header</a> h)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return array of locales found in header.  <a href="group__header.html#gfdfb1b277b0365171cac6bf478cf08d0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#g5a67b27447ad34bb11c2b1fc53fe31dd">headerGetRawEntry</a> (<a class="el" href="structheaderToken__s.html">Header</a> h, <a class="el" href="header_8h.html#ec881c85645bc01204441cbc24e9c025">int_32</a> tag, <a class="el" href="header_8h.html#323872b6c456b3fe85f7a4c78bc95d3f">hTYP_t</a> type, <a class="el" href="header_8h.html#cb1458a4d48b0f39707d47e3d2fafecb">hPTR_t</a> *p, <a class="el" href="header_8h.html#5d197212110d2099a6a8cd427d4a57bb">hCNT_t</a> c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve tag value with type match.  <a href="group__header.html#g5a67b27447ad34bb11c2b1fc53fe31dd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gc645077fe8d28bc1537309f06374c627">headerUsageCount</a> (<a class="el" href="structheaderToken__s.html">Header</a> h)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return header reference count.  <a href="group__header.html#gc645077fe8d28bc1537309f06374c627"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga98fcf6ad8cf9024817db29f3386d057">headerDump</a> (<a class="el" href="structheaderToken__s.html">Header</a> h, FILE *f, int flags, const struct <a class="el" href="structheaderTagTableEntry__s.html">headerTagTableEntry_s</a> *tags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dump a header in human readable format (for debugging).  <a href="group__header.html#ga98fcf6ad8cf9024817db29f3386d057"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#g00fdea19258bd4206809d4da32e75328">bin2hex</a> (const char *data, size_t count)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert binary blob to printable hex string.  <a href="group__header.html#g00fdea19258bd4206809d4da32e75328"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>
Definition in file <a class="el" href="header__internal_8h-source.html">header_internal.h</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="1a70a6ab90c01d37813d185c42979054"></a><!-- doxytag: member="header_internal.h::ENTRY_IN_REGION" ref="1a70a6ab90c01d37813d185c42979054" args="(_e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENTRY_IN_REGION          </td>
          <td>(</td>
          <td class="paramtype">_e&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;((_e)-&gt;info.offset &lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="header__internal_8h-source.html#l00038">38</a> of file <a class="el" href="header__internal_8h-source.html">header_internal.h</a>.
</div>
</div><p>
<a class="anchor" name="670fbd816025c078f9b527527c6aa8ca"></a><!-- doxytag: member="header_internal.h::ENTRY_IS_REGION" ref="670fbd816025c078f9b527527c6aa8ca" args="(_e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENTRY_IS_REGION          </td>
          <td>(</td>
          <td class="paramtype">_e&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(((_e)-&gt;info.tag &gt;= HEADER_IMAGE) &amp;&amp; ((_e)-&gt;info.tag &lt; HEADER_REGIONS))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="header__internal_8h-source.html#l00036">36</a> of file <a class="el" href="header__internal_8h-source.html">header_internal.h</a>.
<p>
Referenced by <a class="el" href="header_8c-source.html#l01400">copyEntry()</a>, and <a class="el" href="header_8c-source.html#l00608">doHeaderUnload()</a>.
</div>
</div><p>
<a class="anchor" name="2f8925cad8411b9ba8ec4798563aca6d"></a><!-- doxytag: member="header_internal.h::HEADER_BASENAMES" ref="2f8925cad8411b9ba8ec4798563aca6d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HEADER_BASENAMES&nbsp;&nbsp;&nbsp;1117          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="header__internal_8h-source.html#l00020">20</a> of file <a class="el" href="header__internal_8h-source.html">header_internal.h</a>.
</div>
</div><p>
<a class="anchor" name="624178334b5e00af57f5475989703cd6"></a><!-- doxytag: member="header_internal.h::HEADER_DUMP_INLINE" ref="624178334b5e00af57f5475989703cd6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HEADER_DUMP_INLINE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="header__internal_8h-source.html#l00203">203</a> of file <a class="el" href="header__internal_8h-source.html">header_internal.h</a>.
<p>
Referenced by <a class="el" href="header__internal_8c-source.html#l00035">headerDump()</a>, <a class="el" href="dumpdb_8c-source.html#l00011">main()</a>, and <a class="el" href="rpmtool_8c-source.html#l00250">spewHeader()</a>.
</div>
</div><p>
<a class="anchor" name="86ca1f3818970f0ca1ca84f547ba04d9"></a><!-- doxytag: member="header_internal.h::HEADER_OLDFILENAMES" ref="86ca1f3818970f0ca1ca84f547ba04d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HEADER_OLDFILENAMES&nbsp;&nbsp;&nbsp;1027          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="header__internal_8h-source.html#l00019">19</a> of file <a class="el" href="header__internal_8h-source.html">header_internal.h</a>.
</div>
</div><p>
<a class="anchor" name="c434f32ee138673538c8654fad98dfc6"></a><!-- doxytag: member="header_internal.h::HEADERFLAG_ALLOCATED" ref="c434f32ee138673538c8654fad98dfc6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HEADERFLAG_ALLOCATED&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Is 1st header region allocated? 
<p>
Definition at line <a class="el" href="header__internal_8h-source.html#l00066">66</a> of file <a class="el" href="header__internal_8h-source.html">header_internal.h</a>.
<p>
Referenced by <a class="el" href="header-py_8c-source.html#l00151">headerAllocated()</a>, <a class="el" href="rpmdb_8c-source.html#l02166">rpmdbNextIterator()</a>, <a class="el" href="package_8c-source.html#l00650">rpmReadHeader()</a>, and <a class="el" href="signature_8c-source.html#l00155">rpmReadSignature()</a>.
</div>
</div><p>
<a class="anchor" name="07094aa3068098555533ec26f8b045a3"></a><!-- doxytag: member="header_internal.h::HEADERFLAG_DEBUG" ref="07094aa3068098555533ec26f8b045a3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HEADERFLAG_DEBUG&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 3)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Debug this header? 
<p>
Definition at line <a class="el" href="header__internal_8h-source.html#l00068">68</a> of file <a class="el" href="header__internal_8h-source.html">header_internal.h</a>.
</div>
</div><p>
<a class="anchor" name="5b40be5a48e0d63d67a3d876a8f092fb"></a><!-- doxytag: member="header_internal.h::HEADERFLAG_LEGACY" ref="5b40be5a48e0d63d67a3d876a8f092fb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HEADERFLAG_LEGACY&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 2)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Header came from legacy source? 
<p>
Definition at line <a class="el" href="header__internal_8h-source.html#l00067">67</a> of file <a class="el" href="header__internal_8h-source.html">header_internal.h</a>.
<p>
Referenced by <a class="el" href="header_8c-source.html#l00608">doHeaderUnload()</a>.
</div>
</div><p>
<a class="anchor" name="c90b5f5d7ba4304d97e73686f09abbfd"></a><!-- doxytag: member="header_internal.h::HEADERFLAG_SORTED" ref="c90b5f5d7ba4304d97e73686f09abbfd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HEADERFLAG_SORTED&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Are header entries sorted? 
<p>
Definition at line <a class="el" href="header__internal_8h-source.html#l00065">65</a> of file <a class="el" href="header__internal_8h-source.html">header_internal.h</a>.
<p>
Referenced by <a class="el" href="header_8c-source.html#l00608">doHeaderUnload()</a>, and <a class="el" href="header_8c-source.html#l00894">findEntry()</a>.
</div>
</div><p>
<a class="anchor" name="1220d84d0b1ec573fbe6053d884784b6"></a><!-- doxytag: member="header_internal.h::INDEX_MALLOC_SIZE" ref="1220d84d0b1ec573fbe6053d884784b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INDEX_MALLOC_SIZE&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="header__internal_8h-source.html#l00014">14</a> of file <a class="el" href="header__internal_8h-source.html">header_internal.h</a>.
</div>
</div><p>
<a class="anchor" name="7bf3e75d547698c184adbb8c8522b406"></a><!-- doxytag: member="header_internal.h::REGION_TAG_COUNT" ref="7bf3e75d547698c184adbb8c8522b406" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGION_TAG_COUNT&nbsp;&nbsp;&nbsp;sizeof(struct <a class="el" href="structentryInfo__s.html">entryInfo_s</a>)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="header__internal_8h-source.html#l00034">34</a> of file <a class="el" href="header__internal_8h-source.html">header_internal.h</a>.
<p>
Referenced by <a class="el" href="header_8c-source.html#l01400">copyEntry()</a>, <a class="el" href="package_8c-source.html#l00325">headerCheck()</a>, <a class="el" href="header_8c-source.html#l00473">regionSwab()</a>, and <a class="el" href="signature_8c-source.html#l00155">rpmReadSignature()</a>.
</div>
</div><p>
<a class="anchor" name="fff6018c52adbf474284a613e2244f2b"></a><!-- doxytag: member="header_internal.h::REGION_TAG_TYPE" ref="fff6018c52adbf474284a613e2244f2b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REGION_TAG_TYPE&nbsp;&nbsp;&nbsp;RPM_BIN_TYPE          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="header__internal_8h-source.html#l00033">33</a> of file <a class="el" href="header__internal_8h-source.html">header_internal.h</a>.
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 12 08:44:56 2007 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
