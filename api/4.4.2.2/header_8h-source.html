<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: rpmdb/header.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul>
</div>
<h1>rpmdb/header.h</h1><a href="header_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef H_HEADER</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define H_HEADER</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00080"></a>00080 <span class="comment">/* RPM - Copyright (C) 1995-2001 Red Hat Software */</span>
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00083"></a>00083 <span class="preprocessor">#include "<a class="code" href="rpmio_8h.html">rpmio.h</a>"</span>
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00087"></a>00087 <span class="preprocessor">#endif</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span>
<a name="l00089"></a>00089 <span class="preprocessor">#if 0   </span><span class="comment">/* XXX hpux needs -Ae in CFLAGS to grok this */</span>
<a name="l00090"></a>00090 <span class="keyword">typedef</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> int_64;
<a name="l00091"></a>00091 <span class="preprocessor">#endif</span>
<a name="l00092"></a><a class="code" href="header_8h.html#ec881c85645bc01204441cbc24e9c025">00092</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="header_8h.html#ec881c85645bc01204441cbc24e9c025">int_32</a>;
<a name="l00093"></a><a class="code" href="header_8h.html#b6a208567758c1b3a414d16609a553e6">00093</a> <span class="keyword">typedef</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> <a class="code" href="header_8h.html#b6a208567758c1b3a414d16609a553e6">int_16</a>;
<a name="l00094"></a><a class="code" href="header_8h.html#eab3da6f428eaba98fbe2c735462c524">00094</a> <span class="keyword">typedef</span> <span class="keywordtype">char</span> <a class="code" href="header_8h.html#eab3da6f428eaba98fbe2c735462c524">int_8</a>;
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 <span class="preprocessor">#if 0   </span><span class="comment">/* XXX hpux needs -Ae in CFLAGS to grok this */</span>
<a name="l00097"></a>00097 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> uint_64;
<a name="l00098"></a>00098 <span class="preprocessor">#endif</span>
<a name="l00099"></a><a class="code" href="header_8h.html#c4079e8a6f3e22cad7cb117b2df08a33">00099</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="header_8h.html#c4079e8a6f3e22cad7cb117b2df08a33">uint_32</a>;
<a name="l00100"></a><a class="code" href="header_8h.html#2eed8fa2bf2987b2c269939d341d3b25">00100</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="header_8h.html#2eed8fa2bf2987b2c269939d341d3b25">uint_16</a>;
<a name="l00101"></a><a class="code" href="header_8h.html#9e7cadda0652e4708cc3f05d0e658a7b">00101</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="header_8h.html#9e7cadda0652e4708cc3f05d0e658a7b">uint_8</a>;
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <span class="comment">/*@-redef@*/</span>    <span class="comment">/* LCL: no clue */</span>
<a name="l00106"></a><a class="code" href="group__header.html#gd94965d3ff3ddb082e804cf255574a6c">00106</a> <span class="keyword">typedef</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *    <a class="code" href="group__header.html#gd94965d3ff3ddb082e804cf255574a6c">errmsg_t</a>;
<a name="l00107"></a>00107 
<a name="l00110"></a><a class="code" href="group__header.html#gcaaa4fbf7358a29e9844af484ed13924">00110</a> <span class="keyword">typedef</span> int_32 *        <a class="code" href="group__header.html#gcaaa4fbf7358a29e9844af484ed13924">hTAG_t</a>;
<a name="l00111"></a><a class="code" href="header_8h.html#323872b6c456b3fe85f7a4c78bc95d3f">00111</a> <span class="keyword">typedef</span> int_32 *        <a class="code" href="header_8h.html#323872b6c456b3fe85f7a4c78bc95d3f">hTYP_t</a>;
<a name="l00112"></a><a class="code" href="header_8h.html#cb1458a4d48b0f39707d47e3d2fafecb">00112</a> <span class="keyword">typedef</span> <span class="keyword">const</span> <span class="keywordtype">void</span> *    <a class="code" href="header_8h.html#cb1458a4d48b0f39707d47e3d2fafecb">hPTR_t</a>;
<a name="l00113"></a><a class="code" href="header_8h.html#5d197212110d2099a6a8cd427d4a57bb">00113</a> <span class="keyword">typedef</span> int_32 *        <a class="code" href="header_8h.html#5d197212110d2099a6a8cd427d4a57bb">hCNT_t</a>;
<a name="l00114"></a>00114 
<a name="l00117"></a><a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">00117</a> <span class="keyword">typedef</span> <span class="comment">/*@abstract@*/</span> <span class="comment">/*@refcounted@*/</span> <span class="keyword">struct </span><a class="code" href="structheaderToken__s.html" title="The Header data structure.">headerToken_s</a> * <a class="code" href="structheaderToken__s.html" title="The Header data structure.">Header</a>;
<a name="l00118"></a>00118 
<a name="l00121"></a><a class="code" href="group__header.html#g0ab6de1f8a65957d7e397e3b21bf7f78">00121</a> <span class="keyword">typedef</span> <span class="comment">/*@abstract@*/</span> <span class="keyword">struct </span><a class="code" href="structheaderIterator__s.html" title="Header tag iterator data structure.">headerIterator_s</a> * <a class="code" href="structheaderIterator__s.html" title="Header tag iterator data structure.">HeaderIterator</a>;
<a name="l00122"></a>00122 
<a name="l00126"></a><a class="code" href="group__header.html#g79da8d9f23ba893a5f7e1b32156755bd">00126</a> <span class="keyword">typedef</span> <span class="comment">/*@abstract@*/</span> <span class="keyword">struct </span><a class="code" href="structheaderTagTableEntry__s.html">headerTagTableEntry_s</a> * <a class="code" href="structheaderTagTableEntry__s.html">headerTagTableEntry</a>;
<a name="l00127"></a><a class="code" href="structheaderTagTableEntry__s.html">00127</a> <span class="keyword">struct </span><a class="code" href="structheaderTagTableEntry__s.html">headerTagTableEntry_s</a> {
<a name="l00128"></a>00128 <span class="comment">/*@observer@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00129"></a><a class="code" href="structheaderTagTableEntry__s.html#fc7317e0461499b2e13909de87942248">00129</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="structname.html">name</a>;          
<a name="l00130"></a><a class="code" href="structheaderTagTableEntry__s.html#bc1ecc2fddf430dddd452d16870d29c6">00130</a>     <span class="keywordtype">int</span> <a class="code" href="structheaderTagTableEntry__s.html#bc1ecc2fddf430dddd452d16870d29c6">val</a>;                    
<a name="l00131"></a><a class="code" href="structheaderTagTableEntry__s.html#fa403a402609e7bdbcb3df66e960c6e0">00131</a>     <span class="keywordtype">int</span> <a class="code" href="structheaderTagTableEntry__s.html#fa403a402609e7bdbcb3df66e960c6e0">type</a>;                   
<a name="l00132"></a>00132 };
<a name="l00133"></a>00133 
<a name="l00136"></a><a class="code" href="group__header.html#gd6bab79cb66f1c5b523abd0ddce94c45">00136</a> <span class="keyword">enum</span> <a class="code" href="group__header.html#gd6bab79cb66f1c5b523abd0ddce94c45">headerSprintfExtensionType</a> {
<a name="l00137"></a><a class="code" href="group__header.html#ggd6bab79cb66f1c5b523abd0ddce94c454060e724880c5979b0d4da3ed66052c9">00137</a>     <a class="code" href="group__header.html#ggd6bab79cb66f1c5b523abd0ddce94c454060e724880c5979b0d4da3ed66052c9">HEADER_EXT_LAST</a> = 0,        
<a name="l00138"></a><a class="code" href="group__header.html#ggd6bab79cb66f1c5b523abd0ddce94c45d85a96d88fff5bc73cf5e2766c32de7e">00138</a>     <a class="code" href="group__header.html#ggd6bab79cb66f1c5b523abd0ddce94c45d85a96d88fff5bc73cf5e2766c32de7e">HEADER_EXT_FORMAT</a>,          
<a name="l00139"></a><a class="code" href="group__header.html#ggd6bab79cb66f1c5b523abd0ddce94c453c2be9e64940b25b3ffcf58b6d3b6e43">00139</a>     <a class="code" href="group__header.html#ggd6bab79cb66f1c5b523abd0ddce94c453c2be9e64940b25b3ffcf58b6d3b6e43">HEADER_EXT_MORE</a>,            
<a name="l00140"></a><a class="code" href="group__header.html#ggd6bab79cb66f1c5b523abd0ddce94c459107d5008c79415a0337391bfd157993">00140</a>     <a class="code" href="group__header.html#ggd6bab79cb66f1c5b523abd0ddce94c459107d5008c79415a0337391bfd157993">HEADER_EXT_TAG</a>              
<a name="l00141"></a>00141 };
<a name="l00142"></a>00142 
<a name="l00155"></a><a class="code" href="group__header.html#ga50cdcfddde5fb0193fe68da945e3a26">00155</a> <span class="keyword">typedef</span> <span class="comment">/*only@*/</span> <span class="keywordtype">char</span> * (*headerTagFormatFunction)(int_32 type,
<a name="l00156"></a>00156                                 <span class="keyword">const</span> <span class="keywordtype">void</span> * data, <span class="keywordtype">char</span> * formatPrefix,
<a name="l00157"></a>00157                                 <span class="keywordtype">int</span> padding, <span class="keywordtype">int</span> element)
<a name="l00158"></a>00158         <span class="comment">/*@requires maxSet(data) &gt;= 0 @*/</span>;
<a name="l00159"></a>00159 
<a name="l00171"></a><a class="code" href="group__header.html#g5a69a9abde3639e96918e302830696c7">00171</a> <span class="keyword">typedef</span> int (*<a class="code" href="group__header.html#g5a69a9abde3639e96918e302830696c7" title="HEADER_EXT_FORMAT format function prototype.">headerTagTagFunction</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h,
<a name="l00172"></a>00172                 <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> hTYP_t type,
<a name="l00173"></a>00173                 <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> hPTR_t * data,
<a name="l00174"></a>00174                 <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> hCNT_t count,
<a name="l00175"></a>00175                 <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> <span class="keywordtype">int</span> * freeData)
<a name="l00176"></a>00176         <span class="comment">/*@requires maxSet(type) &gt;= 0 /\ maxSet(data) &gt;= 0</span>
<a name="l00177"></a>00177 <span class="comment">                /\ maxSet(count) &gt;= 0 /\ maxSet(freeData) &gt;= 0 @*/</span>;
<a name="l00178"></a>00178 
<a name="l00182"></a><a class="code" href="group__header.html#gbc0221451cfecab5683904e7e8b12278">00182</a> <span class="keyword">typedef</span> <span class="comment">/*@abstract@*/</span> <span class="keyword">struct </span><a class="code" href="structheaderSprintfExtension__s.html">headerSprintfExtension_s</a> * <a class="code" href="structheaderSprintfExtension__s.html">headerSprintfExtension</a>;
<a name="l00183"></a><a class="code" href="structheaderSprintfExtension__s.html">00183</a> <span class="keyword">struct </span><a class="code" href="structheaderSprintfExtension__s.html">headerSprintfExtension_s</a> {
<a name="l00184"></a><a class="code" href="structheaderSprintfExtension__s.html#3f173af47e1e5981bcc9f77e0d30661c">00184</a>     <span class="keyword">enum</span> <a class="code" href="group__header.html#gd6bab79cb66f1c5b523abd0ddce94c45">headerSprintfExtensionType</a> type;       
<a name="l00185"></a>00185 <span class="comment">/*@observer@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00186"></a><a class="code" href="structheaderSprintfExtension__s.html#89c2d9b2f41d6aaed20265d747b06d57">00186</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="structname.html">name</a>;                          
<a name="l00187"></a>00187     <span class="keyword">union </span>{
<a name="l00188"></a>00188 <span class="comment">/*@observer@*/</span> <span class="comment">/*@null@*/</span>
<a name="l00189"></a><a class="code" href="structheaderSprintfExtension__s.html#1fa4413dd4618ebe28de8e6796842ee3">00189</a>         <span class="keywordtype">void</span> * <span class="keyword">generic</span>;                         
<a name="l00190"></a><a class="code" href="structheaderSprintfExtension__s.html#60285df46e151799222d96b0a2cf5dd2">00190</a>         <a class="code" href="group__header.html#ga50cdcfddde5fb0193fe68da945e3a26" title="HEADER_EXT_TAG format function prototype.">headerTagFormatFunction</a> <a class="code" href="structheaderSprintfExtension__s.html#60285df46e151799222d96b0a2cf5dd2">formatFunction</a>; 
<a name="l00191"></a><a class="code" href="structheaderSprintfExtension__s.html#681dede4ba8c444aeb3384e0feca8f01">00191</a>         <a class="code" href="group__header.html#g5a69a9abde3639e96918e302830696c7" title="HEADER_EXT_FORMAT format function prototype.">headerTagTagFunction</a> <a class="code" href="structheaderSprintfExtension__s.html#681dede4ba8c444aeb3384e0feca8f01">tagFunction</a>;       
<a name="l00192"></a><a class="code" href="structheaderSprintfExtension__s.html#da380956e067c5c9badc89d1a0ba95bd">00192</a>         <span class="keyword">struct </span><a class="code" href="structheaderSprintfExtension__s.html">headerSprintfExtension_s</a> * <a class="code" href="structheaderSprintfExtension__s.html#da380956e067c5c9badc89d1a0ba95bd">more</a>; 
<a name="l00193"></a>00193     } <a class="code" href="structheaderSprintfExtension__s.html#6717e275b314c888c38454daa1a01883">u</a>;
<a name="l00194"></a>00194 };
<a name="l00195"></a>00195 
<a name="l00199"></a>00199 <span class="comment">/*@-redecl@*/</span>
<a name="l00200"></a>00200 <span class="comment">/*@observer@*/</span>
<a name="l00201"></a>00201 <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structheaderSprintfExtension__s.html">headerSprintfExtension_s</a> <a class="code" href="group__header.html#gf19f0c8bc06373cf50d4c948181254d0" title="Supported default header tag output formats.">headerDefaultFormats</a>[];
<a name="l00202"></a>00202 <span class="comment">/*@=redecl@*/</span>
<a name="l00203"></a>00203 
<a name="l00207"></a><a class="code" href="group__header.html#ged70b986e0a7083b87974734a93dcfac">00207</a> <span class="keyword">enum</span> <a class="code" href="group__header.html#ged70b986e0a7083b87974734a93dcfac" title="Include calculation for 8 bytes of (magic, 0)?">hMagic</a> {
<a name="l00208"></a><a class="code" href="group__header.html#gged70b986e0a7083b87974734a93dcfac2319a70462daf82868a6e6f25719849a">00208</a>     <a class="code" href="group__header.html#gged70b986e0a7083b87974734a93dcfac2319a70462daf82868a6e6f25719849a">HEADER_MAGIC_NO</a>             = 0,
<a name="l00209"></a><a class="code" href="group__header.html#gged70b986e0a7083b87974734a93dcfac2a65f7f8f3fb943035aa021a9f27d2a1">00209</a>     <a class="code" href="group__header.html#gged70b986e0a7083b87974734a93dcfac2a65f7f8f3fb943035aa021a9f27d2a1">HEADER_MAGIC_YES</a>            = 1
<a name="l00210"></a>00210 };
<a name="l00211"></a>00211 
<a name="l00215"></a><a class="code" href="group__header.html#g4342aae7379e715a6b927663b340f43c">00215</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__header.html#g4342aae7379e715a6b927663b340f43c" title="The basic types of data in tags from headers.">rpmTagType_e</a> {
<a name="l00216"></a>00216 <span class="preprocessor">#define RPM_MIN_TYPE            0</span>
<a name="l00217"></a><a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c9b9293a4f05e17ddd7ce06969c82804d">00217</a> <span class="preprocessor"></span>    <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c9b9293a4f05e17ddd7ce06969c82804d">RPM_NULL_TYPE</a>               =  0,
<a name="l00218"></a><a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c8daf4166679a669dbc386857d0adeeee">00218</a>     <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c8daf4166679a669dbc386857d0adeeee">RPM_CHAR_TYPE</a>               =  1,
<a name="l00219"></a><a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c69d34da1a91526e98e0e3fa4e4023a48">00219</a>     <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c69d34da1a91526e98e0e3fa4e4023a48">RPM_INT8_TYPE</a>               =  2,
<a name="l00220"></a><a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43cc6daa18639002b386522d6e3c0ca75ff">00220</a>     <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43cc6daa18639002b386522d6e3c0ca75ff">RPM_INT16_TYPE</a>              =  3,
<a name="l00221"></a><a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c0f09132d2e6b1b080b7d26b68309b031">00221</a>     <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c0f09132d2e6b1b080b7d26b68309b031">RPM_INT32_TYPE</a>              =  4,
<a name="l00222"></a>00222 <span class="comment">/*    RPM_INT64_TYPE    = 5,   ---- These aren't supported (yet) */</span>
<a name="l00223"></a><a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43cfe25304f92990326ba5c31d4ced5a84d">00223</a>     <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43cfe25304f92990326ba5c31d4ced5a84d">RPM_STRING_TYPE</a>             =  6,
<a name="l00224"></a><a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43ce200877bfddf86d67887ae94caa2ab20">00224</a>     <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43ce200877bfddf86d67887ae94caa2ab20">RPM_BIN_TYPE</a>                =  7,
<a name="l00225"></a><a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c5de16ab5e977fbbb00fff7a70a0ff033">00225</a>     <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c5de16ab5e977fbbb00fff7a70a0ff033">RPM_STRING_ARRAY_TYPE</a>       =  8,
<a name="l00226"></a><a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c73fd7b2e7090776df77af556ea2bd1ce">00226</a>     <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c73fd7b2e7090776df77af556ea2bd1ce">RPM_I18NSTRING_TYPE</a>         =  9
<a name="l00227"></a>00227 <span class="preprocessor">#define RPM_MAX_TYPE            9</span>
<a name="l00228"></a>00228 <span class="preprocessor"></span>} <a class="code" href="group__header.html#g30546f70b72fe13929f6e388dfd29b16" title="The basic types of data in tags from headers.">rpmTagType</a>;
<a name="l00229"></a>00229 
<a name="l00238"></a>00238 <span class="comment">/*@-enummemuse -typeuse @*/</span>
<a name="l00239"></a><a class="code" href="group__header.html#geee79eb78946eae1e1a433961699ab0f">00239</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group__header.html#geee79eb78946eae1e1a433961699ab0f" title="New rpm data types under consideration/development.">rpmSubTagType_e</a> {
<a name="l00240"></a><a class="code" href="group__header.html#ggeee79eb78946eae1e1a433961699ab0fe6aca08daefe09c5f7b6fa9edb518c1e">00240</a>     <a class="code" href="group__header.html#ggeee79eb78946eae1e1a433961699ab0fe6aca08daefe09c5f7b6fa9edb518c1e">RPM_REGION_TYPE</a>             = -10,
<a name="l00241"></a><a class="code" href="group__header.html#ggeee79eb78946eae1e1a433961699ab0f42b508f6900b4ed251b23c8b8aa6b51a">00241</a>     <a class="code" href="group__header.html#ggeee79eb78946eae1e1a433961699ab0f42b508f6900b4ed251b23c8b8aa6b51a">RPM_BIN_ARRAY_TYPE</a>          = -11,
<a name="l00244"></a><a class="code" href="group__header.html#ggeee79eb78946eae1e1a433961699ab0f1446c10b34a9dcb12239166db21f8e27">00244</a>     <a class="code" href="group__header.html#ggeee79eb78946eae1e1a433961699ab0f1446c10b34a9dcb12239166db21f8e27">RPM_XREF_TYPE</a>               = -12
<a name="l00247"></a>00247 } <a class="code" href="group__header.html#g9f32b1c9c677faa6f12d07706f520921" title="New rpm data types under consideration/development.">rpmSubTagType</a>;
<a name="l00248"></a>00248 <span class="comment">/*@=enummemuse =typeuse @*/</span>
<a name="l00249"></a>00249 
<a name="l00254"></a><a class="code" href="header_8h.html#eab8007da3bfe662f3f5b20d39114b0d">00254</a> <span class="preprocessor">#define HEADER_IMAGE            61</span>
<a name="l00255"></a><a class="code" href="header_8h.html#97c14eed8df6d8e0744e0b0c27cf9285">00255</a> <span class="preprocessor"></span><span class="preprocessor">#define HEADER_SIGNATURES       62</span>
<a name="l00256"></a><a class="code" href="header_8h.html#2f7c19730b2fa1e3bf5ec1953e245d1a">00256</a> <span class="preprocessor"></span><span class="preprocessor">#define HEADER_IMMUTABLE        63</span>
<a name="l00257"></a><a class="code" href="header_8h.html#b39660c4430a5f2c76734dd9b467cb88">00257</a> <span class="preprocessor"></span><span class="preprocessor">#define HEADER_REGIONS          64</span>
<a name="l00258"></a><a class="code" href="header_8h.html#da11220b076f11c441c48c3eee9f046a">00258</a> <span class="preprocessor"></span><span class="preprocessor">#define HEADER_I18NTABLE        100</span>
<a name="l00259"></a><a class="code" href="header_8h.html#a4f2e76f75a2001643220cff924194f6">00259</a> <span class="preprocessor"></span><span class="preprocessor">#define HEADER_SIGBASE          256</span>
<a name="l00260"></a><a class="code" href="header_8h.html#5245642e29d1b33017e9d45d25f3aed6">00260</a> <span class="preprocessor"></span><span class="preprocessor">#define HEADER_TAGBASE          1000</span>
<a name="l00261"></a>00261 <span class="preprocessor"></span>
<a name="l00264"></a>00264 <span class="comment">/*@-typeuse -fielduse@*/</span>
<a name="l00265"></a><a class="code" href="unionhRET__s.html">00265</a> <span class="keyword">typedef</span> <span class="keyword">union </span><a class="code" href="unionhRET__s.html">hRET_s</a> {
<a name="l00266"></a><a class="code" href="unionhRET__s.html#0c543e808383f31cc6d73327ca51cba0">00266</a>     <span class="keyword">const</span> <span class="keywordtype">void</span> * ptr;
<a name="l00267"></a><a class="code" href="unionhRET__s.html#4886a0561cd7ddf82ef88c4319a788bb">00267</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> ** <a class="code" href="compress_8c.html#a06161d5bbbc977dc1ad9e6669902c5e">argv</a>;
<a name="l00268"></a><a class="code" href="unionhRET__s.html#ed1d1d86ff66b3304f1eece977cd88a1">00268</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> * str;
<a name="l00269"></a><a class="code" href="unionhRET__s.html#c32107089bf9b4b68a013a60dec3b1ef">00269</a>     uint_32 * ui32p;
<a name="l00270"></a><a class="code" href="unionhRET__s.html#49b357446a05d023a746420d74e43a9d">00270</a>     uint_16 * ui16p;
<a name="l00271"></a><a class="code" href="unionhRET__s.html#dd62e3585ed505596617f9011b928869">00271</a>     int_32 * i32p;
<a name="l00272"></a><a class="code" href="unionhRET__s.html#62d5b246328f1903f2980f395c861b5f">00272</a>     int_16 * i16p;
<a name="l00273"></a><a class="code" href="unionhRET__s.html#d4737e30966ea440f3fab32a20782ba3">00273</a>     int_8 * i8p;
<a name="l00274"></a>00274 } * <a class="code" href="unionhRET__s.html">hRET_t</a>;
<a name="l00275"></a>00275 <span class="comment">/*@=typeuse =fielduse@*/</span>
<a name="l00276"></a>00276 
<a name="l00279"></a>00279 <span class="comment">/*@-typeuse -fielduse@*/</span>
<a name="l00280"></a><a class="code" href="structHE__s.html">00280</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structHE__s.html">HE_s</a> {
<a name="l00281"></a><a class="code" href="structHE__s.html#51d30756037210e535001a0e3338e4db">00281</a>     int_32 tag;
<a name="l00282"></a>00282 <span class="comment">/*@null@*/</span>
<a name="l00283"></a><a class="code" href="structHE__s.html#2ff6417558f97be02ca58aa18b1d031d">00283</a>     hTYP_t typ;
<a name="l00284"></a>00284     <span class="keyword">union </span>{
<a name="l00285"></a>00285 <span class="comment">/*@null@*/</span>
<a name="l00286"></a><a class="code" href="structHE__s.html#ad7b5c095e46c6404d91c02e8ba638b2">00286</a>         hPTR_t * ptr;
<a name="l00287"></a>00287 <span class="comment">/*@null@*/</span>
<a name="l00288"></a><a class="code" href="structHE__s.html#e5b407fcfb56bdb044783caa731fd4a4">00288</a>         <a class="code" href="unionhRET__s.html">hRET_t</a> * ret;
<a name="l00289"></a>00289     } u;
<a name="l00290"></a>00290 <span class="comment">/*@null@*/</span>
<a name="l00291"></a><a class="code" href="structHE__s.html#f9af90a2eef30d8d70be96367b1d553f">00291</a>     hCNT_t cnt;
<a name="l00292"></a>00292 } * <a class="code" href="structHE__s.html">HE_t</a>;
<a name="l00293"></a>00293 <span class="comment">/*@=typeuse =fielduse@*/</span>
<a name="l00294"></a>00294 
<a name="l00299"></a>00299 <span class="keyword">typedef</span>
<a name="l00300"></a><a class="code" href="group__header.html#g08b27718c6cee284ecdae44102b05cb9">00300</a> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> (*<a class="code" href="group__header.html#g08b27718c6cee284ecdae44102b05cb9" title="Create new (empty) header instance.">HDRnew</a>) (void)
<a name="l00301"></a>00301         <span class="comment">/*@*/</span>;
<a name="l00302"></a>00302 
<a name="l00308"></a>00308 <span class="keyword">typedef</span>
<a name="l00309"></a><a class="code" href="group__header.html#g7dba2936e4e5a73a1026ae0494ba759c">00309</a> <span class="comment">/*@null@*/</span> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> (*<a class="code" href="group__header.html#g7dba2936e4e5a73a1026ae0494ba759c" title="Dereference a header instance.">HDRfree</a>) (<span class="comment">/*@killref@*/</span> <span class="comment">/*@null@*/</span> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h)
<a name="l00310"></a>00310         <span class="comment">/*@modifies h @*/</span>;
<a name="l00311"></a>00311 
<a name="l00317"></a>00317 <span class="keyword">typedef</span>
<a name="l00318"></a><a class="code" href="group__header.html#g8e93e4109d9150f6edeff7e7cb22b0b7">00318</a> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> (*<a class="code" href="group__header.html#g8e93e4109d9150f6edeff7e7cb22b0b7" title="Reference a header instance.">HDRlink</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h)
<a name="l00319"></a>00319         <span class="comment">/*@modifies h @*/</span>;
<a name="l00320"></a>00320 
<a name="l00326"></a>00326 <span class="keyword">typedef</span>
<a name="l00327"></a><a class="code" href="group__header.html#gc9285858e225c88a41bfcfde5c16fdc6">00327</a> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> (*<a class="code" href="group__header.html#gc9285858e225c88a41bfcfde5c16fdc6" title="Dereference a header instance.">HDRunlink</a>) (<span class="comment">/*@killref@*/</span> <span class="comment">/*@null@*/</span> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h)
<a name="l00328"></a>00328         <span class="comment">/*@modifies h @*/</span>;
<a name="l00329"></a>00329 
<a name="l00335"></a>00335 <span class="keyword">typedef</span>
<a name="l00336"></a><a class="code" href="group__header.html#g1b7cd1eea372b2e265c2be8b6fad3605">00336</a> void (*<a class="code" href="group__header.html#g1b7cd1eea372b2e265c2be8b6fad3605" title="Sort tags in header.">HDRsort</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h)
<a name="l00337"></a>00337         <span class="comment">/*@modifies h @*/</span>;
<a name="l00338"></a>00338 
<a name="l00344"></a>00344 <span class="keyword">typedef</span>
<a name="l00345"></a><a class="code" href="group__header.html#g2eb22bfb5dd98893887307d59a238762">00345</a> void (*<a class="code" href="group__header.html#g2eb22bfb5dd98893887307d59a238762" title="Restore tags in header to original ordering.">HDRunsort</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h)
<a name="l00346"></a>00346         <span class="comment">/*@modifies h @*/</span>;
<a name="l00347"></a>00347 
<a name="l00354"></a>00354 <span class="keyword">typedef</span>
<a name="l00355"></a><a class="code" href="group__header.html#gc75049b6f452703f72809c8ccb759510">00355</a> <span class="keywordtype">unsigned</span> int (*<a class="code" href="group__header.html#gc75049b6f452703f72809c8ccb759510" title="Return size of on-disk header representation in bytes.">HDRsizeof</a>) (<span class="comment">/*@null@*/</span> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h, <span class="keyword">enum</span> <a class="code" href="group__header.html#ged70b986e0a7083b87974734a93dcfac" title="Include calculation for 8 bytes of (magic, 0)?">hMagic</a> magicp)
<a name="l00356"></a>00356         <span class="comment">/*@modifies h @*/</span>;
<a name="l00357"></a>00357 
<a name="l00363"></a>00363 <span class="keyword">typedef</span>
<a name="l00364"></a><a class="code" href="group__header.html#g17e4c08e109860beeaea607f6e928c37">00364</a> <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span> <span class="keywordtype">void</span> * (*HDRunload) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h)
<a name="l00365"></a>00365         <span class="comment">/*@modifies h @*/</span>;
<a name="l00366"></a>00366 
<a name="l00374"></a>00374 <span class="keyword">typedef</span>
<a name="l00375"></a><a class="code" href="group__header.html#g79eab317c28efc047db3cc0006c8702f">00375</a> <span class="comment">/*@null@*/</span> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> (*<a class="code" href="group__header.html#g79eab317c28efc047db3cc0006c8702f" title="Convert header to on-disk representation, and then reload.">HDRreload</a>) (<span class="comment">/*@only@*/</span> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h, <span class="keywordtype">int</span> tag)
<a name="l00376"></a>00376         <span class="comment">/*@modifies h @*/</span>;
<a name="l00377"></a>00377 
<a name="l00383"></a>00383 <span class="keyword">typedef</span>
<a name="l00384"></a><a class="code" href="group__header.html#gea5dfb04d9b9f0de835520aedb7898a9">00384</a> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> (*<a class="code" href="group__header.html#gea5dfb04d9b9f0de835520aedb7898a9" title="Duplicate a header.">HDRcopy</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h)
<a name="l00385"></a>00385         <span class="comment">/*@modifies h @*/</span>;
<a name="l00386"></a>00386 
<a name="l00392"></a>00392 <span class="keyword">typedef</span>
<a name="l00393"></a><a class="code" href="group__header.html#ga6dfa0216479e6063577fddf073b8b62">00393</a> <span class="comment">/*@null@*/</span> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> (*<a class="code" href="group__header.html#ga6dfa0216479e6063577fddf073b8b62" title="Convert header to in-memory representation.">HDRload</a>) (<span class="comment">/*@kept@*/</span> <span class="keywordtype">void</span> * uh)
<a name="l00394"></a>00394         <span class="comment">/*@modifies uh @*/</span>;
<a name="l00395"></a>00395 
<a name="l00401"></a>00401 <span class="keyword">typedef</span>
<a name="l00402"></a><a class="code" href="group__header.html#g3e67de530bf67d45ff1d9b01c2054279">00402</a> <span class="comment">/*@null@*/</span> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> (*<a class="code" href="group__header.html#g3e67de530bf67d45ff1d9b01c2054279" title="Make a copy and convert header to in-memory representation.">HDRcopyload</a>) (<span class="keyword">const</span> <span class="keywordtype">void</span> * uh)
<a name="l00403"></a>00403         <span class="comment">/*@*/</span>;
<a name="l00404"></a>00404 
<a name="l00411"></a>00411 <span class="keyword">typedef</span>
<a name="l00412"></a><a class="code" href="group__header.html#g40d178b5f485233fd998c7f586fb2256">00412</a> <span class="comment">/*@null@*/</span> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> (*<a class="code" href="group__header.html#g40d178b5f485233fd998c7f586fb2256" title="Read (and load) header from file handle.">HDRread</a>) (<a class="code" href="struct__FD__s.html" title="The FD_t File Handle data structure.">FD_t</a> fd, <span class="keyword">enum</span> <a class="code" href="group__header.html#ged70b986e0a7083b87974734a93dcfac" title="Include calculation for 8 bytes of (magic, 0)?">hMagic</a> magicp)
<a name="l00413"></a>00413         <span class="comment">/*@modifies fd @*/</span>;
<a name="l00414"></a>00414 
<a name="l00422"></a>00422 <span class="keyword">typedef</span>
<a name="l00423"></a><a class="code" href="group__header.html#ge04b7fc455e2888b1d58263b9259a2ca">00423</a> int (*<a class="code" href="group__header.html#ge04b7fc455e2888b1d58263b9259a2ca" title="Write (with unload) header to file handle.">HDRwrite</a>) (<a class="code" href="struct__FD__s.html" title="The FD_t File Handle data structure.">FD_t</a> fd, <span class="comment">/*@null@*/</span> <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h, <span class="keyword">enum</span> <a class="code" href="group__header.html#ged70b986e0a7083b87974734a93dcfac" title="Include calculation for 8 bytes of (magic, 0)?">hMagic</a> magicp)
<a name="l00424"></a>00424         <span class="comment">/*@globals fileSystem @*/</span>
<a name="l00425"></a>00425         <span class="comment">/*@modifies fd, h, fileSystem @*/</span>;
<a name="l00426"></a>00426 
<a name="l00433"></a>00433 <span class="keyword">typedef</span>
<a name="l00434"></a><a class="code" href="group__header.html#g803643938b3268169b5f73f82d647795">00434</a> int (*<a class="code" href="group__header.html#g803643938b3268169b5f73f82d647795" title="Check if tag is in header.">HDRisentry</a>) (<span class="comment">/*@null@*/</span><a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h, int_32 tag)
<a name="l00435"></a>00435         <span class="comment">/*@*/</span>;  
<a name="l00436"></a>00436 
<a name="l00444"></a>00444 <span class="keyword">typedef</span>
<a name="l00445"></a><a class="code" href="group__header.html#gf734497bd0b9c18a2f72a210b0355dfc">00445</a> <span class="comment">/*@null@*/</span> <span class="keywordtype">void</span> * (*HDRfreetag) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h,
<a name="l00446"></a>00446                 <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span> <span class="keyword">const</span> <span class="keywordtype">void</span> * data, <a class="code" href="group__header.html#g30546f70b72fe13929f6e388dfd29b16" title="The basic types of data in tags from headers.">rpmTagType</a> type)
<a name="l00447"></a>00447         <span class="comment">/*@modifies data @*/</span>;
<a name="l00448"></a>00448 
<a name="l00462"></a>00462 <span class="keyword">typedef</span>
<a name="l00463"></a><a class="code" href="group__header.html#gdc67d8ea4f6d62347175a78dffd8bc8a">00463</a> int (*<a class="code" href="group__header.html#gdc67d8ea4f6d62347175a78dffd8bc8a" title="Retrieve tag value.">HDRget</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h, int_32 tag,
<a name="l00464"></a>00464                         <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> hTYP_t type,
<a name="l00465"></a>00465                         <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> <span class="keywordtype">void</span> ** p,
<a name="l00466"></a>00466                         <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> hCNT_t c)
<a name="l00467"></a>00467         <span class="comment">/*@modifies *type, *p, *c @*/</span>;
<a name="l00468"></a>00468 
<a name="l00481"></a>00481 <span class="keyword">typedef</span>
<a name="l00482"></a><a class="code" href="group__header.html#g66f4da085f7b9ed42fed8da47d98f003">00482</a> int (*<a class="code" href="group__header.html#g66f4da085f7b9ed42fed8da47d98f003" title="Retrieve tag value using header internal array.">HDRgetmin</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h, int_32 tag,
<a name="l00483"></a>00483                         <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> hTYP_t type,
<a name="l00484"></a>00484                         <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> hPTR_t * p,
<a name="l00485"></a>00485                         <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> hCNT_t c)
<a name="l00486"></a>00486         <span class="comment">/*@modifies *type, *p, *c @*/</span>;
<a name="l00487"></a>00487 
<a name="l00502"></a>00502 <span class="keyword">typedef</span>
<a name="l00503"></a><a class="code" href="group__header.html#g028fe26e55aba2f337b10d6531952076">00503</a> int (*<a class="code" href="group__header.html#g028fe26e55aba2f337b10d6531952076" title="Add tag to header.">HDRadd</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h, int_32 tag, int_32 type, <span class="keyword">const</span> <span class="keywordtype">void</span> * p, int_32 c)
<a name="l00504"></a>00504         <span class="comment">/*@modifies h @*/</span>;
<a name="l00505"></a>00505 
<a name="l00520"></a>00520 <span class="keyword">typedef</span>
<a name="l00521"></a><a class="code" href="group__header.html#ge6aca25a7b23dbaf5ed598eebbcf2757">00521</a> int (*<a class="code" href="group__header.html#ge6aca25a7b23dbaf5ed598eebbcf2757" title="Append element to tag array in header.">HDRappend</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h, int_32 tag, int_32 type, <span class="keyword">const</span> <span class="keywordtype">void</span> * p, int_32 c)
<a name="l00522"></a>00522         <span class="comment">/*@modifies h @*/</span>;
<a name="l00523"></a>00523 
<a name="l00534"></a>00534 <span class="keyword">typedef</span>
<a name="l00535"></a><a class="code" href="group__header.html#gbeaa50997a63f99153c60c64e26f1749">00535</a> int (*<a class="code" href="group__header.html#gbeaa50997a63f99153c60c64e26f1749" title="Add or append element to tag array in header.">HDRaddorappend</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h, int_32 tag, int_32 type, <span class="keyword">const</span> <span class="keywordtype">void</span> * p, int_32 c)
<a name="l00536"></a>00536         <span class="comment">/*@modifies h @*/</span>;
<a name="l00537"></a>00537 
<a name="l00558"></a>00558 <span class="keyword">typedef</span>
<a name="l00559"></a><a class="code" href="group__header.html#g5d76bd0d0e71233f34b92c99946acff3">00559</a> int (*<a class="code" href="group__header.html#g5d76bd0d0e71233f34b92c99946acff3" title="Add locale specific tag to header.">HDRaddi18n</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h, int_32 tag, <span class="keyword">const</span> <span class="keywordtype">char</span> * string,
<a name="l00560"></a>00560                 <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="parseDescription_8c.html#b2fc255429d1174065838ae9702d12b1">lang</a>)
<a name="l00561"></a>00561         <span class="comment">/*@modifies h @*/</span>;
<a name="l00562"></a>00562 
<a name="l00573"></a>00573 <span class="keyword">typedef</span>
<a name="l00574"></a><a class="code" href="group__header.html#g5a19b1cf1d5ccd7add61b0fa2c10a5a9">00574</a> int (*<a class="code" href="group__header.html#g5a19b1cf1d5ccd7add61b0fa2c10a5a9" title="Modify tag in header.">HDRmodify</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h, int_32 tag, int_32 type, <span class="keyword">const</span> <span class="keywordtype">void</span> * p, int_32 c)
<a name="l00575"></a>00575         <span class="comment">/*@modifies h @*/</span>;
<a name="l00576"></a>00576 
<a name="l00586"></a>00586 <span class="keyword">typedef</span>
<a name="l00587"></a><a class="code" href="group__header.html#g9fbe73b15b06ddccc41a31a60cebd855">00587</a> int (*<a class="code" href="group__header.html#g9fbe73b15b06ddccc41a31a60cebd855" title="Delete tag in header.">HDRremove</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h, int_32 tag)
<a name="l00588"></a>00588         <span class="comment">/*@modifies h @*/</span>;
<a name="l00589"></a>00589 
<a name="l00601"></a>00601 <span class="keyword">typedef</span>
<a name="l00602"></a><a class="code" href="group__header.html#gcadb428b855c5fb542318cbc02a469f7">00602</a> <span class="comment">/*@only@*/</span> <span class="keywordtype">char</span> * (*HDRsprintf) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h, <span class="keyword">const</span> <span class="keywordtype">char</span> * fmt,
<a name="l00603"></a>00603                      <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structheaderTagTableEntry__s.html">headerTagTableEntry_s</a> * tags,
<a name="l00604"></a>00604                      <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structheaderSprintfExtension__s.html">headerSprintfExtension_s</a> * extensions,
<a name="l00605"></a>00605                      <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> errmsg_t * errmsg)
<a name="l00606"></a>00606         <span class="comment">/*@modifies *errmsg @*/</span>;
<a name="l00607"></a>00607 
<a name="l00614"></a>00614 <span class="keyword">typedef</span>
<a name="l00615"></a><a class="code" href="group__header.html#g13284b963b0a07c2a45fa60c48978f8e">00615</a> void (*<a class="code" href="group__header.html#g13284b963b0a07c2a45fa60c48978f8e" title="Duplicate tag values from one header into another.">HDRcopytags</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> headerFrom, <a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> headerTo, hTAG_t tagstocopy)
<a name="l00616"></a>00616         <span class="comment">/*@modifies headerFrom, headerTo @*/</span>;
<a name="l00617"></a>00617 
<a name="l00623"></a>00623 <span class="keyword">typedef</span>
<a name="l00624"></a><a class="code" href="group__header.html#g7a3fc74f593d15a0b63b348681370ec1">00624</a> <a class="code" href="group__header.html#g0ab6de1f8a65957d7e397e3b21bf7f78">HeaderIterator</a> (*<a class="code" href="group__header.html#g7a3fc74f593d15a0b63b348681370ec1" title="Destroy header tag iterator.">HDRfreeiter</a>) (<span class="comment">/*@only@*/</span> <a class="code" href="group__header.html#g0ab6de1f8a65957d7e397e3b21bf7f78">HeaderIterator</a> hi)
<a name="l00625"></a>00625         <span class="comment">/*@modifies hi @*/</span>;
<a name="l00626"></a>00626 
<a name="l00632"></a>00632 <span class="keyword">typedef</span>
<a name="l00633"></a><a class="code" href="group__header.html#gda4baca217870c0c642b30ffb678080b">00633</a> <a class="code" href="group__header.html#g0ab6de1f8a65957d7e397e3b21bf7f78">HeaderIterator</a> (*<a class="code" href="group__header.html#gda4baca217870c0c642b30ffb678080b" title="Create header tag iterator.">HDRinititer</a>) (<a class="code" href="group__header.html#ge71a7a4189f45cc6dc87925ff3497fe7">Header</a> h)
<a name="l00634"></a>00634         <span class="comment">/*@modifies h */</span>;
<a name="l00635"></a>00635 
<a name="l00645"></a>00645 <span class="keyword">typedef</span>
<a name="l00646"></a><a class="code" href="group__header.html#ge5faef2441e061a609a4050f5818ab1b">00646</a> int (*<a class="code" href="group__header.html#ge5faef2441e061a609a4050f5818ab1b" title="Return next tag from header.">HDRnextiter</a>) (<a class="code" href="group__header.html#g0ab6de1f8a65957d7e397e3b21bf7f78">HeaderIterator</a> hi,
<a name="l00647"></a>00647                 <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> hTAG_t tag,
<a name="l00648"></a>00648                 <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> hTYP_t type,
<a name="l00649"></a>00649                 <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> hPTR_t * p,
<a name="l00650"></a>00650                 <span class="comment">/*@null@*/</span> <span class="comment">/*@out@*/</span> hCNT_t c)
<a name="l00651"></a>00651         <span class="comment">/*@modifies hi, *tag, *type, *p, *c @*/</span>;
<a name="l00652"></a>00652 
<a name="l00656"></a><a class="code" href="group__header.html#g38f58bcf2d430736eca837dffc3ab557">00656</a> <span class="keyword">typedef</span> <span class="comment">/*@abstract@*/</span> <span class="keyword">struct </span><a class="code" href="structHV__s.html">HV_s</a> * <a class="code" href="structHV__s.html">HV_t</a>;
<a name="l00657"></a><a class="code" href="structHV__s.html">00657</a> <span class="keyword">struct </span><a class="code" href="structHV__s.html">HV_s</a> {
<a name="l00658"></a><a class="code" href="structHV__s.html#d4297c30c1cc72e0385d70899738e858">00658</a>     <a class="code" href="group__header.html#g8e93e4109d9150f6edeff7e7cb22b0b7" title="Reference a header instance.">HDRlink</a>     hdrlink;
<a name="l00659"></a><a class="code" href="structHV__s.html#0c805b4acf56d65ee10a4e28bda005e3">00659</a>     <a class="code" href="group__header.html#gc9285858e225c88a41bfcfde5c16fdc6" title="Dereference a header instance.">HDRunlink</a>   hdrunlink;
<a name="l00660"></a><a class="code" href="structHV__s.html#e7e261c3cceafa23cb3e75eefbe32cea">00660</a>     <a class="code" href="group__header.html#g7dba2936e4e5a73a1026ae0494ba759c" title="Dereference a header instance.">HDRfree</a>     hdrfree;
<a name="l00661"></a><a class="code" href="structHV__s.html#bebe076d25fae46700135511389a0c0d">00661</a>     <a class="code" href="group__header.html#g08b27718c6cee284ecdae44102b05cb9" title="Create new (empty) header instance.">HDRnew</a>      hdrnew;
<a name="l00662"></a><a class="code" href="structHV__s.html#bdb56ab69bb49270a54e9e19f8de5531">00662</a>     <a class="code" href="group__header.html#g1b7cd1eea372b2e265c2be8b6fad3605" title="Sort tags in header.">HDRsort</a>     hdrsort;
<a name="l00663"></a><a class="code" href="structHV__s.html#5b1e52e3388d86de4267868b95450f2b">00663</a>     <a class="code" href="group__header.html#g2eb22bfb5dd98893887307d59a238762" title="Restore tags in header to original ordering.">HDRunsort</a>   hdrunsort;
<a name="l00664"></a><a class="code" href="structHV__s.html#c0752b70234550f11ec23e58628bc8d7">00664</a>     <a class="code" href="group__header.html#gc75049b6f452703f72809c8ccb759510" title="Return size of on-disk header representation in bytes.">HDRsizeof</a>   hdrsizeof;
<a name="l00665"></a><a class="code" href="structHV__s.html#1e0976151f410d932fb0ffdbf139239a">00665</a>     <a class="code" href="group__header.html#g17e4c08e109860beeaea607f6e928c37" title="Convert header to on-disk representation.">HDRunload</a>   hdrunload;
<a name="l00666"></a><a class="code" href="structHV__s.html#64539b8f44d9db4a4bf96bf6e9822774">00666</a>     <a class="code" href="group__header.html#g79eab317c28efc047db3cc0006c8702f" title="Convert header to on-disk representation, and then reload.">HDRreload</a>   hdrreload;
<a name="l00667"></a><a class="code" href="structHV__s.html#f73efa7ff51ce9650a5f1a21fc4596a8">00667</a>     <a class="code" href="group__header.html#gea5dfb04d9b9f0de835520aedb7898a9" title="Duplicate a header.">HDRcopy</a>     hdrcopy;
<a name="l00668"></a><a class="code" href="structHV__s.html#936f6989708a8a0bb17985f8ed1e4db0">00668</a>     <a class="code" href="group__header.html#ga6dfa0216479e6063577fddf073b8b62" title="Convert header to in-memory representation.">HDRload</a>     hdrload;
<a name="l00669"></a><a class="code" href="structHV__s.html#267dbe1b331a5e4e256d6ffc515227c2">00669</a>     <a class="code" href="group__header.html#g3e67de530bf67d45ff1d9b01c2054279" title="Make a copy and convert header to in-memory representation.">HDRcopyload</a> hdrcopyload;
<a name="l00670"></a><a class="code" href="structHV__s.html#a2bfefd499144726f4af0c15d8e64cad">00670</a>     <a class="code" href="group__header.html#g40d178b5f485233fd998c7f586fb2256" title="Read (and load) header from file handle.">HDRread</a>     hdrread;
<a name="l00671"></a><a class="code" href="structHV__s.html#80abce525f9e47d4a933417e32d9585a">00671</a>     <a class="code" href="group__header.html#ge04b7fc455e2888b1d58263b9259a2ca" title="Write (with unload) header to file handle.">HDRwrite</a>    hdrwrite;
<a name="l00672"></a><a class="code" href="structHV__s.html#4de96130db4012fa3e7a0db7d519abb0">00672</a>     <a class="code" href="group__header.html#g803643938b3268169b5f73f82d647795" title="Check if tag is in header.">HDRisentry</a>  hdrisentry;
<a name="l00673"></a><a class="code" href="structHV__s.html#3962cc3e683a7031b980317e466fa9f9">00673</a>     <a class="code" href="group__header.html#gf734497bd0b9c18a2f72a210b0355dfc" title="Free data allocated when retrieved from header.">HDRfreetag</a>  hdrfreetag;
<a name="l00674"></a><a class="code" href="structHV__s.html#8daff84f1411e02a7a3169f85dbfe0b4">00674</a>     <a class="code" href="group__header.html#gdc67d8ea4f6d62347175a78dffd8bc8a" title="Retrieve tag value.">HDRget</a>      hdrget;
<a name="l00675"></a><a class="code" href="structHV__s.html#4bc9a13a134ee4d0edcde4da0fb8655a">00675</a>     <a class="code" href="group__header.html#g66f4da085f7b9ed42fed8da47d98f003" title="Retrieve tag value using header internal array.">HDRgetmin</a>   hdrgetmin;
<a name="l00676"></a><a class="code" href="structHV__s.html#64db3b6f0796863a3125a1d33bd8f06b">00676</a>     <a class="code" href="group__header.html#g028fe26e55aba2f337b10d6531952076" title="Add tag to header.">HDRadd</a>      hdradd;
<a name="l00677"></a><a class="code" href="structHV__s.html#f0c39655e4d165ff1ab52361bcc4bbe9">00677</a>     <a class="code" href="group__header.html#ge6aca25a7b23dbaf5ed598eebbcf2757" title="Append element to tag array in header.">HDRappend</a>   hdrappend;
<a name="l00678"></a><a class="code" href="structHV__s.html#b7774070bc4b70ce222c7b782e0953f8">00678</a>     <a class="code" href="group__header.html#gbeaa50997a63f99153c60c64e26f1749" title="Add or append element to tag array in header.">HDRaddorappend</a> hdraddorappend;
<a name="l00679"></a><a class="code" href="structHV__s.html#999090b1b40e7169bed0c89241be6d1a">00679</a>     <a class="code" href="group__header.html#g5d76bd0d0e71233f34b92c99946acff3" title="Add locale specific tag to header.">HDRaddi18n</a>  hdraddi18n;
<a name="l00680"></a><a class="code" href="structHV__s.html#45bf8537e260565c65f199c7d5c61150">00680</a>     <a class="code" href="group__header.html#g5a19b1cf1d5ccd7add61b0fa2c10a5a9" title="Modify tag in header.">HDRmodify</a>   hdrmodify;
<a name="l00681"></a><a class="code" href="structHV__s.html#b835b47fd20c2286c5a4663ff61ee0b7">00681</a>     <a class="code" href="group__header.html#g9fbe73b15b06ddccc41a31a60cebd855" title="Delete tag in header.">HDRremove</a>   hdrremove;
<a name="l00682"></a><a class="code" href="structHV__s.html#74d4554623038ad2d802b386ade43ccf">00682</a>     <a class="code" href="group__header.html#gcadb428b855c5fb542318cbc02a469f7" title="Return formatted output string from header tags.">HDRsprintf</a>  hdrsprintf;
<a name="l00683"></a><a class="code" href="structHV__s.html#a71c7f8c6ecf155205738334a13bbbc7">00683</a>     <a class="code" href="group__header.html#g13284b963b0a07c2a45fa60c48978f8e" title="Duplicate tag values from one header into another.">HDRcopytags</a> hdrcopytags;
<a name="l00684"></a><a class="code" href="structHV__s.html#822d511770dc8284ca99842ebf562eac">00684</a>     <a class="code" href="group__header.html#g7a3fc74f593d15a0b63b348681370ec1" title="Destroy header tag iterator.">HDRfreeiter</a> hdrfreeiter;
<a name="l00685"></a><a class="code" href="structHV__s.html#a55ce8767ed162305f01da9da37d5517">00685</a>     <a class="code" href="group__header.html#gda4baca217870c0c642b30ffb678080b" title="Create header tag iterator.">HDRinititer</a> hdrinititer;
<a name="l00686"></a><a class="code" href="structHV__s.html#55ee71bdffdc5ffcf2476abdb0d01a60">00686</a>     <a class="code" href="group__header.html#ge5faef2441e061a609a4050f5818ab1b" title="Return next tag from header.">HDRnextiter</a> hdrnextiter;
<a name="l00687"></a>00687 <span class="comment">/*@null@*/</span>
<a name="l00688"></a><a class="code" href="structHV__s.html#aa65327d9e7b0f948eb64d5d5c8bdfe2">00688</a>     <span class="keywordtype">void</span> *      hdrvecs;
<a name="l00689"></a>00689 <span class="comment">/*@null@*/</span>
<a name="l00690"></a><a class="code" href="structHV__s.html#de316b39b0664d4f05a93cf9d272549d">00690</a>     <span class="keywordtype">void</span> *      hdrdata;
<a name="l00691"></a><a class="code" href="structHV__s.html#fc01d267c14b63bd24bd59f690a8618e">00691</a>     <span class="keywordtype">int</span>         hdrversion;
<a name="l00692"></a>00692 };
<a name="l00693"></a>00693 
<a name="l00703"></a>00703 <span class="comment">/*@unused@*/</span> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="comment">/*@null@*/</span>
<a name="l00704"></a><a class="code" href="group__header.html#ga2c977519b09cb7bf16f9765ec29d079">00704</a> <span class="keywordtype">void</span> * <a class="code" href="group__header.html#ga2c977519b09cb7bf16f9765ec29d079" title="Free data allocated when retrieved from header.">headerFreeData</a>( <span class="comment">/*@only@*/</span> <span class="comment">/*@null@*/</span> <span class="keyword">const</span> <span class="keywordtype">void</span> * data, <a class="code" href="group__header.html#g30546f70b72fe13929f6e388dfd29b16" title="The basic types of data in tags from headers.">rpmTagType</a> type)
<a name="l00705"></a>00705         <span class="comment">/*@modifies data @*/</span>
<a name="l00706"></a>00706 {
<a name="l00707"></a>00707     <span class="keywordflow">if</span> (data) {
<a name="l00708"></a>00708         <span class="comment">/*@-branchstate@*/</span>
<a name="l00709"></a>00709         <span class="keywordflow">if</span> (type == -1 ||
<a name="l00710"></a>00710             type == <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c5de16ab5e977fbbb00fff7a70a0ff033">RPM_STRING_ARRAY_TYPE</a> ||
<a name="l00711"></a>00711             type == <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c73fd7b2e7090776df77af556ea2bd1ce">RPM_I18NSTRING_TYPE</a> ||
<a name="l00712"></a>00712             type == <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43ce200877bfddf86d67887ae94caa2ab20">RPM_BIN_TYPE</a>)
<a name="l00713"></a>00713                 free((<span class="keywordtype">void</span> *)data);
<a name="l00714"></a>00714         <span class="comment">/*@=branchstate@*/</span>
<a name="l00715"></a>00715     }
<a name="l00716"></a>00716     <span class="keywordflow">return</span> NULL;
<a name="l00717"></a>00717 }
<a name="l00718"></a>00718 
<a name="l00719"></a>00719 <span class="preprocessor">#if !defined(__HEADER_PROTOTYPES__)</span>
<a name="l00720"></a>00720 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="hdrinline_8h.html">hdrinline.h</a>"</span>
<a name="l00721"></a>00721 <span class="preprocessor">#endif</span>
<a name="l00722"></a>00722 <span class="preprocessor"></span>
<a name="l00723"></a>00723 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00724"></a>00724 <span class="preprocessor"></span>}
<a name="l00725"></a>00725 <span class="preprocessor">#endif</span>
<a name="l00726"></a>00726 <span class="preprocessor"></span>
<a name="l00727"></a>00727 <span class="preprocessor">#endif  </span><span class="comment">/* H_HEADER */</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 12 08:44:54 2007 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
