<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: rpmio/macro.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul>
</div>
<h1>rpmio/macro.c File Reference</h1><code>#include &quot;<a class="el" href="system_8h-source.html">system.h</a>&quot;</code><br>
<code>#include &lt;stdarg.h&gt;</code><br>
<code>#include &lt;<a class="el" href="rpmio__internal_8h-source.html">rpmio_internal.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="rpmmessages_8h-source.html">rpmmessages.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="rpmerr_8h-source.html">rpmerr.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="rpmmacro_8h-source.html">rpmmacro.h</a>&gt;</code><br>
<code>#include &quot;<a class="el" href="debug_8h-source.html">debug.h</a>&quot;</code><br>

<p>
<a href="macro_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMacroBuf__s.html">MacroBuf_s</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro expansion state.  <a href="structMacroBuf__s.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#71b921c86d024ec3342964ac68dffc64">isblank</a>(_c)&nbsp;&nbsp;&nbsp;((_c) == ' ' || (_c) == '\t')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#36c62318774aada4ed9cb055a06ea85d">iseol</a>(_c)&nbsp;&nbsp;&nbsp;((_c) == '\n' || (_c) == '\r')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#f34557aca3150fc44a341c957df54385">STREQ</a>(_t, _f, _fn)&nbsp;&nbsp;&nbsp;((_fn) == (sizeof(_t)-1) &amp;&amp; !strncmp((_t), (_f), (_fn)))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#0bf86a73152948baeb778eff132508f9">SAVECHAR</a>(_mb, _c)&nbsp;&nbsp;&nbsp;{ *(_mb)-&gt;t = (_c), (_mb)-&gt;t++, (_mb)-&gt;nb--; }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#479ff5787e7843bb68aac97693874220">_MAX_MACRO_DEPTH</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#7a7a9a5151859483873fddaea20f8528">_PRINT_MACRO_TRACE</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#31dd0a01753e973884451bd241cdf459">_PRINT_EXPAND_TRACE</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#80ea16f3bbc9b989b472afb2ca98ab92">MACRO_CHUNK_SIZE</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#98b7074538fdb646782dba735da571ec">SKIPBLANK</a>(_s, _c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#5579d5c031e4a534f6afcae00a680f69">SKIPNONBLANK</a>(_s, _c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#af35754467c03fcb8afeaee4db65515d">COPYNAME</a>(_ne, _s, _c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#205cc1318c8501123a2635c18ff8ac38">COPYOPTS</a>(_oe, _s, _c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#e7abc14aea35af5c8b612628b348a6f2">POPT_ERROR_NOARG</a>&nbsp;&nbsp;&nbsp;-10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#33d51ce6bde091c1bc6711179fbf098f">POPT_ERROR_BADQUOTE</a>&nbsp;&nbsp;&nbsp;-15</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a505b06d56c7f646943bf86329f250f4">POPT_ERROR_MALLOC</a>&nbsp;&nbsp;&nbsp;-21</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#08884d23a737e6bc3050d247bb74cdd5">POPT_ARGV_ARRAY_GROW_DELTA</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structMacroBuf__s.html">MacroBuf_s</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#0add183ee21c21a87d3721431cf9b8e2">MacroBuf</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro expansion state.  <a href="#0add183ee21c21a87d3721431cf9b8e2"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#b68634c5902ddbad4b09d062a3f707ed">expandMacro</a> (<a class="el" href="structMacroBuf__s.html">MacroBuf</a> mb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The main macro recursion loop.  <a href="#b68634c5902ddbad4b09d062a3f707ed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#d608c2923552dbeeb832133a9a289bb7">_free</a> (const void *p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wrapper to free(3), hides const compilation noise, permit NULL, return NULL.  <a href="#d608c2923552dbeeb832133a9a289bb7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#2f39dd8a89854ef04cd431a6f0d3c139">compareMacroName</a> (const void *ap, const void *bp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compare macro entries by <a class="el" href="structname.html">name</a> (qsort/bsearch).  <a href="#2f39dd8a89854ef04cd431a6f0d3c139"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#15ee0f5f86ab8580678dd446367c22bf">expandMacroTable</a> (<a class="el" href="structMacroContext__s.html">MacroContext</a> mc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enlarge macro table.  <a href="#15ee0f5f86ab8580678dd446367c22bf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#41b48bc6dda66614c6d072c631b948ea">sortMacroTable</a> (<a class="el" href="structMacroContext__s.html">MacroContext</a> mc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sort entries in macro table.  <a href="#41b48bc6dda66614c6d072c631b948ea"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#f075388010eeb8d8decdc1978fd7db24">rpmDumpMacroTable</a> (<a class="el" href="structMacroContext__s.html">MacroContext</a> mc, FILE *fp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print macros to file stream.  <a href="#f075388010eeb8d8decdc1978fd7db24"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structMacroEntry__s.html">MacroEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a096c2ac6fe9be131a8ae6be3fbe0a4d">findEntry</a> (<a class="el" href="structMacroContext__s.html">MacroContext</a> mc, const char *<a class="el" href="structname.html">name</a>, size_t namelen)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find entry in macro table.  <a href="#a096c2ac6fe9be131a8ae6be3fbe0a4d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#c9f1be5e4270f95d099e04074c229c7f">rdcl</a> (char *buf, size_t size, <a class="el" href="struct__FD__s.html">FD_t</a> fd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">fgets(3) analogue that reads \ continuations.  <a href="#c9f1be5e4270f95d099e04074c229c7f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#f1b5b252eab18ae1b8437773be437797">matchchar</a> (const char *p, char pl, char pr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return text between pl and matching pr characters.  <a href="#f1b5b252eab18ae1b8437773be437797"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#d2f1aafd4f16bd7ac83eb96f85a212a1">printMacro</a> (<a class="el" href="structMacroBuf__s.html">MacroBuf</a> mb, const char *s, const char *se)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pre-print macro expression to be expanded.  <a href="#d2f1aafd4f16bd7ac83eb96f85a212a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#c0c4968e7a33292fdd060e004ba2d100">printExpansion</a> (<a class="el" href="structMacroBuf__s.html">MacroBuf</a> mb, const char *t, const char *te)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Post-print expanded macro expression.  <a href="#c0c4968e7a33292fdd060e004ba2d100"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#964e52ae8f9a0a834f01a5516c1d258b">expandT</a> (<a class="el" href="structMacroBuf__s.html">MacroBuf</a> mb, const char *f, size_t flen)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save source and expand field into target.  <a href="#964e52ae8f9a0a834f01a5516c1d258b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#1fd28433338ec64a41b24c4efbcec8d7">expandU</a> (<a class="el" href="structMacroBuf__s.html">MacroBuf</a> mb, char *u, size_t ulen)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save source/target and expand macro in u.  <a href="#1fd28433338ec64a41b24c4efbcec8d7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#812b62764f4d597b56f87eb826f86bda">doShellEscape</a> (<a class="el" href="structMacroBuf__s.html">MacroBuf</a> mb, const char *cmd, size_t clen)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Expand output of shell command into target buffer.  <a href="#812b62764f4d597b56f87eb826f86bda"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a282776f7081c9e47a0299cf2a103edf">doDefine</a> (<a class="el" href="structMacroBuf__s.html">MacroBuf</a> mb, const char *se, int level, int expandbody)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse (and execute) new macro definition.  <a href="#a282776f7081c9e47a0299cf2a103edf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#5110a6d78f9f2aeb8577ce94d33b4b1d">doUndefine</a> (<a class="el" href="structMacroContext__s.html">MacroContext</a> mc, const char *se)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse (and execute) macro undefinition.  <a href="#5110a6d78f9f2aeb8577ce94d33b4b1d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#1d34891b83f459aa258da314398c6dc2">pushMacro</a> (<a class="el" href="structMacroEntry__s.html">MacroEntry</a> *mep, const char *n, const char *o, const char *b, int level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Push new macro definition onto macro entry stack.  <a href="#1d34891b83f459aa258da314398c6dc2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#de97f1374f70353bbc573ee4f8c5b6df">popMacro</a> (<a class="el" href="structMacroEntry__s.html">MacroEntry</a> *mep)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pop macro definition from macro entry stack.  <a href="#de97f1374f70353bbc573ee4f8c5b6df"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#b5c4b77d14ec0ffebaa1d0ad09d30c26">freeArgs</a> (<a class="el" href="structMacroBuf__s.html">MacroBuf</a> mb)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free parsed arguments for parameterized macro.  <a href="#b5c4b77d14ec0ffebaa1d0ad09d30c26"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#8f6890158b634b075b87b42cd8422da9">grabArgs</a> (<a class="el" href="structMacroBuf__s.html">MacroBuf</a> mb, const <a class="el" href="structMacroEntry__s.html">MacroEntry</a> me, const char *se, const char *lastc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse arguments (to next new line) for parameterized macro.  <a href="#8f6890158b634b075b87b42cd8422da9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a902f671031f078e3cb798db8fedc898">doOutput</a> (<a class="el" href="structMacroBuf__s.html">MacroBuf</a> mb, int waserror, const char *msg, size_t msglen)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform macro message output.  <a href="#a902f671031f078e3cb798db8fedc898"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#3336f7f09fc4ae14ecadf407b9e17e94">doFoo</a> (<a class="el" href="structMacroBuf__s.html">MacroBuf</a> mb, int negate, const char *f, size_t fn, const char *g, size_t gn)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute macro primitives.  <a href="#3336f7f09fc4ae14ecadf407b9e17e94"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#b372d73e5421b21e665bc3f38d829f5c">XpoptDupArgv</a> (int argc, const char **<a class="el" href="compress_8c.html#a06161d5bbbc977dc1ad9e6669902c5e">argv</a>, int *argcPtr, const char ***argvPtr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#0a2c716b765b8bd681d7b1c033eccd03">XpoptParseArgvString</a> (const char *s, int *argcPtr, const char ***argvPtr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#23a786648d20cfb9c84b8eb4946c4a40">rpmGlob</a> (const char *patterns, int *argcPtr, const char ***argvPtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return URL path(s) from a (URL prefixed) pattern glob.  <a href="#23a786648d20cfb9c84b8eb4946c4a40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#cada855232974c4a3985847565be312e">expandMacros</a> (void *spec, <a class="el" href="structMacroContext__s.html">MacroContext</a> mc, char *sbuf, size_t slen)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Expand macro into buffer.  <a href="#cada855232974c4a3985847565be312e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#3851992697896dc8ed8f0be8ca6ec3e4">addMacro</a> (<a class="el" href="structMacroContext__s.html">MacroContext</a> mc, const char *n, const char *o, const char *b, int level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add macro to context.  <a href="#3851992697896dc8ed8f0be8ca6ec3e4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#6a0c98bd34099103b42dcbae343d8366">delMacro</a> (<a class="el" href="structMacroContext__s.html">MacroContext</a> mc, const char *n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete macro from context.  <a href="#6a0c98bd34099103b42dcbae343d8366"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#1f883e66bb4e62be1f845a32dfebf909">rpmDefineMacro</a> (<a class="el" href="structMacroContext__s.html">MacroContext</a> mc, const char *macro, int level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Define macro in context.  <a href="#1f883e66bb4e62be1f845a32dfebf909"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#7be7c89640e5f467d11c83850daaa561">rpmLoadMacros</a> (<a class="el" href="structMacroContext__s.html">MacroContext</a> mc, int level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load macros from specific context into global context.  <a href="#7be7c89640e5f467d11c83850daaa561"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#c4f124ad466a01f576e64246677fd402">rpmLoadMacroFile</a> (<a class="el" href="structMacroContext__s.html">MacroContext</a> mc, const char *fn)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load macro context from a macro file.  <a href="#c4f124ad466a01f576e64246677fd402"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#20f51fff5c09dc3d34a024815dcafc10">rpmInitMacros</a> (<a class="el" href="structMacroContext__s.html">MacroContext</a> mc, const char *<a class="el" href="group__rpmrc.html#g4ce2e6096bc4567e6aeee576fe8f9f2e">macrofiles</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize macro context from set of macrofile(s).  <a href="#20f51fff5c09dc3d34a024815dcafc10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#b02b0d47ca43105f753852324a44caa9">rpmFreeMacros</a> (<a class="el" href="structMacroContext__s.html">MacroContext</a> mc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy macro context.  <a href="#b02b0d47ca43105f753852324a44caa9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#1495956d59eccf3a9521661f9fc50890">isCompressed</a> (const char *<a class="el" href="parseScript_8c.html#4f4da8b93048dccc588f5ddc4d7e1561">file</a>, <a class="el" href="rpmmacro_8h.html#7eb1d040bd267cb5c6188db828d447d1">rpmCompressedMagic</a> *compressed)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return type of compression used in file.  <a href="#1495956d59eccf3a9521661f9fc50890"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#0dba4b275f1c8f96b8dae9537a8aa3cf">rpmExpand</a> (const char *arg,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return (malloc'ed) concatenated macro expansion(s).  <a href="#0dba4b275f1c8f96b8dae9537a8aa3cf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#2e43f3dd86c8e646243de9f051f36f6a">rpmExpandNumeric</a> (const char *arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return macro expansion as a numeric value.  <a href="#2e43f3dd86c8e646243de9f051f36f6a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#02c5e42e23aca300936bea1154f3c991">rpmCleanPath</a> (char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Canonicalize file path.  <a href="#02c5e42e23aca300936bea1154f3c991"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#1bce9a7d7c5c5833d2eda2dcaa761bd5">rpmGetPath</a> (const char *path,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return (malloc'ed) expanded, canonicalized, file path.  <a href="#1bce9a7d7c5c5833d2eda2dcaa761bd5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#5705f5a076ff34aeb4966048adafd360">rpmGenPath</a> (const char *urlroot, const char *urlmdir, const char *urlfile)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Merge 3 args into path, any or all of which may be a url.  <a href="#5705f5a076ff34aeb4966048adafd360"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static struct <a class="el" href="structMacroContext__s.html">MacroContext_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#f1a4a6419e2d381ef3dc51df7f2ed076">rpmGlobalMacroContext_s</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#3aecac57afea2383fc94133066421800">rpmGlobalMacroContext</a> = &amp;<a class="el" href="macro_8c.html#f1a4a6419e2d381ef3dc51df7f2ed076">rpmGlobalMacroContext_s</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static struct <a class="el" href="structMacroContext__s.html">MacroContext_s</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#c467ab83ef6590841b0eefd34b00712b">rpmCLIMacroContext_s</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#ba0e176696e6cf629f6af10b2200c48c">rpmCLIMacroContext</a> = &amp;<a class="el" href="macro_8c.html#c467ab83ef6590841b0eefd34b00712b">rpmCLIMacroContext_s</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#8351a2449d4ccc57c8e5c1451af359ed">max_macro_depth</a> = 16</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#69c82ff03bf0a250cd73e00eb2059897">print_macro_trace</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#1e97e767636425e2fbe9b7578ca48cd0">print_expand_trace</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#3f39405c2d7c0f545d6b90051f250c85">_debug</a> = 0</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>
Definition in file <a class="el" href="macro_8c-source.html">macro.c</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="479ff5787e7843bb68aac97693874220"></a><!-- doxytag: member="macro.c::_MAX_MACRO_DEPTH" ref="479ff5787e7843bb68aac97693874220" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _MAX_MACRO_DEPTH&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00100">100</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
</div>
</div><p>
<a class="anchor" name="31dd0a01753e973884451bd241cdf459"></a><!-- doxytag: member="macro.c::_PRINT_EXPAND_TRACE" ref="31dd0a01753e973884451bd241cdf459" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _PRINT_EXPAND_TRACE&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00108">108</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
</div>
</div><p>
<a class="anchor" name="7a7a9a5151859483873fddaea20f8528"></a><!-- doxytag: member="macro.c::_PRINT_MACRO_TRACE" ref="7a7a9a5151859483873fddaea20f8528" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _PRINT_MACRO_TRACE&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00104">104</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
</div>
</div><p>
<a class="anchor" name="af35754467c03fcb8afeaee4db65515d"></a><!-- doxytag: member="macro.c::COPYNAME" ref="af35754467c03fcb8afeaee4db65515d" args="(_ne, _s, _c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COPYNAME          </td>
          <td>(</td>
          <td class="paramtype">_ne,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{       <a class="code" href="macro_8c.html#98b7074538fdb646782dba735da571ec">SKIPBLANK</a>(_s,_c);       \
        <span class="comment">/*@-boundswrite@*/</span>      \
        <span class="keywordflow">while</span>(((_c) = *(_s)) &amp;&amp; (<a class="code" href="rpmio_8h.html#f28de95b1aa971532f31be4c04bdb6c4">xisalnum</a>(_c) || (_c) == <span class="charliteral">'_'</span>)) \
                *(_ne)++ = *(_s)++; \
        *(_ne) = <span class="charliteral">'\0'</span>;          \
        <span class="comment">/*@=boundswrite@*/</span>      \
    }
</pre></div>
<p>
Definition at line <a class="el" href="macro_8c-source.html#l00480">480</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l00642">doDefine()</a>, and <a class="el" href="macro_8c-source.html#l00768">doUndefine()</a>.
</div>
</div><p>
<a class="anchor" name="205cc1318c8501123a2635c18ff8ac38"></a><!-- doxytag: member="macro.c::COPYOPTS" ref="205cc1318c8501123a2635c18ff8ac38" args="(_oe, _s, _c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COPYOPTS          </td>
          <td>(</td>
          <td class="paramtype">_oe,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{       <span class="comment">/*@-boundswrite@*/</span>      \
        <span class="keywordflow">while</span>(((_c) = *(_s)) &amp;&amp; (_c) != <span class="charliteral">')'</span>) \
                *(_oe)++ = *(_s)++; \
        *(_oe) = <span class="charliteral">'\0'</span>;          \
        <span class="comment">/*@=boundswrite@*/</span>      \
    }
</pre></div>
<p>
Definition at line <a class="el" href="macro_8c-source.html#l00489">489</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l00642">doDefine()</a>.
</div>
</div><p>
<a class="anchor" name="71b921c86d024ec3342964ac68dffc64"></a><!-- doxytag: member="macro.c::isblank" ref="71b921c86d024ec3342964ac68dffc64" args="(_c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define isblank          </td>
          <td>(</td>
          <td class="paramtype">_c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;((_c) == ' ' || (_c) == '\t')</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00010">10</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l00642">doDefine()</a>, <a class="el" href="macro_8c-source.html#l01112">doFoo()</a>, <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>, and <a class="el" href="macro_8c-source.html#l00929">grabArgs()</a>.
</div>
</div><p>
<a class="anchor" name="36c62318774aada4ed9cb055a06ea85d"></a><!-- doxytag: member="macro.c::iseol" ref="36c62318774aada4ed9cb055a06ea85d" args="(_c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define iseol          </td>
          <td>(</td>
          <td class="paramtype">_c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;((_c) == '\n' || (_c) == '\r')</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00012">12</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l00642">doDefine()</a>, <a class="el" href="macro_8c-source.html#l00598">doShellEscape()</a>, <a class="el" href="macro_8c-source.html#l00768">doUndefine()</a>, <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>, <a class="el" href="macro_8c-source.html#l00431">printExpansion()</a>, <a class="el" href="macro_8c-source.html#l00387">printMacro()</a>, and <a class="el" href="macro_8c-source.html#l00298">rdcl()</a>.
</div>
</div><p>
<a class="anchor" name="80ea16f3bbc9b989b472afb2ca98ab92"></a><!-- doxytag: member="macro.c::MACRO_CHUNK_SIZE" ref="80ea16f3bbc9b989b472afb2ca98ab92" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MACRO_CHUNK_SIZE&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00113">113</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l00165">expandMacroTable()</a>.
</div>
</div><p>
<a class="anchor" name="08884d23a737e6bc3050d247bb74cdd5"></a><!-- doxytag: member="macro.c::POPT_ARGV_ARRAY_GROW_DELTA" ref="08884d23a737e6bc3050d247bb74cdd5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POPT_ARGV_ARRAY_GROW_DELTA&nbsp;&nbsp;&nbsp;5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l01576">1576</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01623">XpoptParseArgvString()</a>.
</div>
</div><p>
<a class="anchor" name="33d51ce6bde091c1bc6711179fbf098f"></a><!-- doxytag: member="macro.c::POPT_ERROR_BADQUOTE" ref="33d51ce6bde091c1bc6711179fbf098f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POPT_ERROR_BADQUOTE&nbsp;&nbsp;&nbsp;-15          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
error in paramter quoting 
<p>
Definition at line <a class="el" href="macro_8c-source.html#l01573">1573</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01623">XpoptParseArgvString()</a>.
</div>
</div><p>
<a class="anchor" name="a505b06d56c7f646943bf86329f250f4"></a><!-- doxytag: member="macro.c::POPT_ERROR_MALLOC" ref="a505b06d56c7f646943bf86329f250f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POPT_ERROR_MALLOC&nbsp;&nbsp;&nbsp;-21          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
memory allocation failed 
<p>
Definition at line <a class="el" href="macro_8c-source.html#l01574">1574</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01579">XpoptDupArgv()</a>, and <a class="el" href="macro_8c-source.html#l01623">XpoptParseArgvString()</a>.
</div>
</div><p>
<a class="anchor" name="e7abc14aea35af5c8b612628b348a6f2"></a><!-- doxytag: member="macro.c::POPT_ERROR_NOARG" ref="e7abc14aea35af5c8b612628b348a6f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POPT_ERROR_NOARG&nbsp;&nbsp;&nbsp;-10          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
missing argument 
<p>
Definition at line <a class="el" href="macro_8c-source.html#l01572">1572</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01579">XpoptDupArgv()</a>.
</div>
</div><p>
<a class="anchor" name="0bf86a73152948baeb778eff132508f9"></a><!-- doxytag: member="macro.c::SAVECHAR" ref="0bf86a73152948baeb778eff132508f9" args="(_mb, _c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SAVECHAR          </td>
          <td>(</td>
          <td class="paramtype">_mb,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;{ *(_mb)-&gt;t = (_c), (_mb)-&gt;t++, (_mb)-&gt;nb--; }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00096">96</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l00598">doShellEscape()</a>, and <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>.
</div>
</div><p>
<a class="anchor" name="98b7074538fdb646782dba735da571ec"></a><!-- doxytag: member="macro.c::SKIPBLANK" ref="98b7074538fdb646782dba735da571ec" args="(_s, _c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SKIPBLANK          </td>
          <td>(</td>
          <td class="paramtype">_s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="comment">/*@-globs@*/</span>    <span class="comment">/* FIX: __ctype_b */</span> \
        <span class="keywordflow">while</span> (((_c) = *(_s)) &amp;&amp; <a class="code" href="macro_8c.html#71b921c86d024ec3342964ac68dffc64">isblank</a>(_c)) \
                (_s)++;         \
</pre></div>
<p>
Definition at line <a class="el" href="macro_8c-source.html#l00468">468</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l00642">doDefine()</a>, and <a class="el" href="macro_8c-source.html#l01948">rpmLoadMacroFile()</a>.
</div>
</div><p>
<a class="anchor" name="5579d5c031e4a534f6afcae00a680f69"></a><!-- doxytag: member="macro.c::SKIPNONBLANK" ref="5579d5c031e4a534f6afcae00a680f69" args="(_s, _c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SKIPNONBLANK          </td>
          <td>(</td>
          <td class="paramtype">_s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="comment">/*@-globs@*/</span>    <span class="comment">/* FIX: __ctype_b */</span> \
        <span class="keywordflow">while</span> (((_c) = *(_s)) &amp;&amp; !(<a class="code" href="macro_8c.html#71b921c86d024ec3342964ac68dffc64">isblank</a>(_c) || <a class="code" href="macro_8c.html#36c62318774aada4ed9cb055a06ea85d">iseol</a>(_c))) \
                (_s)++;         \
</pre></div>
<p>
Definition at line <a class="el" href="macro_8c-source.html#l00474">474</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
</div>
</div><p>
<a class="anchor" name="f34557aca3150fc44a341c957df54385"></a><!-- doxytag: member="macro.c::STREQ" ref="f34557aca3150fc44a341c957df54385" args="(_t, _f, _fn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREQ          </td>
          <td>(</td>
          <td class="paramtype">_t,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_f,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_fn&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;((_fn) == (sizeof(_t)-1) &amp;&amp; !strncmp((_t), (_f), (_fn)))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00014">14</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01112">doFoo()</a>, and <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>.
</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="0add183ee21c21a87d3721431cf9b8e2"></a><!-- doxytag: member="macro.c::MacroBuf" ref="0add183ee21c21a87d3721431cf9b8e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structMacroBuf__s.html">MacroBuf_s</a> *  <a class="el" href="structMacroBuf__s.html">MacroBuf</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Macro expansion state. 
<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="d608c2923552dbeeb832133a9a289bb7"></a><!-- doxytag: member="macro.c::_free" ref="d608c2923552dbeeb832133a9a289bb7" args="(const void *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* _free           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Wrapper to free(3), hides const compilation noise, permit NULL, return NULL. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>memory to free </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>NULL</em>&nbsp;</td><td>always </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00128">128</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
</div>
</div><p>
<a class="anchor" name="3851992697896dc8ed8f0be8ca6ec3e4"></a><!-- doxytag: member="macro.c::addMacro" ref="3851992697896dc8ed8f0be8ca6ec3e4" args="(MacroContext mc, const char *n, const char *o, const char *b, int level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addMacro           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td>
          <td class="paramname"> <em>mc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>level</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add macro to context. 
<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000022">Deprecated:</a></b></dt><dd>Use <a class="el" href="macro_8c.html#1f883e66bb4e62be1f845a32dfebf909" title="Define macro in context.">rpmDefineMacro()</a>. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mc</em>&nbsp;</td><td>macro context (NULL uses global context). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>macro <a class="el" href="structname.html">name</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>o</em>&nbsp;</td><td>macro paramaters </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>macro body </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>macro recursion level (0 is entry API) </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l01872">1872</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="macro_8c-source.html#l00165">expandMacroTable()</a>, <a class="el" href="header_8c-source.html#l00894">findEntry()</a>, <a class="el" href="rpmmacro_8h-source.html#l00022">MacroContext_s::firstFree</a>, <a class="el" href="rpmmacro_8h-source.html#l00021">MacroContext_s::macrosAllocated</a>, <a class="el" href="rpmmacro_8h-source.html#l00020">MacroContext_s::macroTable</a>, <a class="el" href="macro_8c-source.html#l00820">pushMacro()</a>, <a class="el" href="macro_8c-source.html#l00070">rpmGlobalMacroContext</a>, and <a class="el" href="macro_8c-source.html#l00188">sortMacroTable()</a>.
<p>
Referenced by <a class="el" href="spec_8c-source.html#l00257">addSource()</a>, <a class="el" href="build_8c-source.html#l00101">buildForTarget()</a>, <a class="el" href="macro_8c-source.html#l00642">doDefine()</a>, <a class="el" href="rpmrc_8c-source.html#l00555">doReadRC()</a>, <a class="el" href="build_2build_8c-source.html#l00056">doScript()</a>, <a class="el" href="parsePrep_8c-source.html#l00292">doSetupMacro()</a>, <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>, <a class="el" href="macro_8c-source.html#l00929">grabArgs()</a>, <a class="el" href="parsePreamble_8c-source.html#l00463">handlePreambleTag()</a>, <a class="el" href="rpminject_8c-source.html#l00525">main()</a>, <a class="el" href="signature_8c-source.html#l00544">makeGPGSignature()</a>, <a class="el" href="signature_8c-source.html#l00395">makePGPSignature()</a>, <a class="el" href="parseSpec_8c-source.html#l00439">parseSpec()</a>, <a class="el" href="macro_8c-source.html#l01927">rpmLoadMacros()</a>, <a class="el" href="rpmrc_8c-source.html#l00779">rpmPlatform()</a>, <a class="el" href="rpmrc-py_8c-source.html#l00033">rpmrc_AddMacro()</a>, <a class="el" href="rpmrc_8c-source.html#l01579">rpmRebuildTargetVars()</a>, <a class="el" href="rpmts_8c-source.html#l00500">rpmtsOpenSDB()</a>, <a class="el" href="rpmrc_8c-source.html#l00517">setDefaults()</a>, <a class="el" href="rpmrc_8c-source.html#l00466">setPathDefault()</a>, and <a class="el" href="rpmrc_8c-source.html#l00452">setVarDefault()</a>.
</div>
</div><p>
<a class="anchor" name="2f39dd8a89854ef04cd431a6f0d3c139"></a><!-- doxytag: member="macro.c::compareMacroName" ref="2f39dd8a89854ef04cd431a6f0d3c139" args="(const void *ap, const void *bp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int compareMacroName           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>ap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>bp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compare macro entries by <a class="el" href="structname.html">name</a> (qsort/bsearch). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ap</em>&nbsp;</td><td>1st macro entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bp</em>&nbsp;</td><td>2nd macro entry </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>result of comparison </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00144">144</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="rpmmacro_8h-source.html#l00011">MacroEntry_s::name</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l00251">findEntry()</a>, and <a class="el" href="macro_8c-source.html#l00188">sortMacroTable()</a>.
</div>
</div><p>
<a class="anchor" name="6a0c98bd34099103b42dcbae343d8366"></a><!-- doxytag: member="macro.c::delMacro" ref="6a0c98bd34099103b42dcbae343d8366" args="(MacroContext mc, const char *n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delMacro           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td>
          <td class="paramname"> <em>mc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>n</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete macro from context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mc</em>&nbsp;</td><td>macro context (NULL uses global context). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>macro <a class="el" href="structname.html">name</a> </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l01898">1898</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="header_8c-source.html#l00894">findEntry()</a>, <a class="el" href="macro_8c-source.html#l00851">popMacro()</a>, <a class="el" href="macro_8c-source.html#l00070">rpmGlobalMacroContext</a>, and <a class="el" href="macro_8c-source.html#l00188">sortMacroTable()</a>.
<p>
Referenced by <a class="el" href="build_2build_8c-source.html#l00056">doScript()</a>, <a class="el" href="macro_8c-source.html#l00768">doUndefine()</a>, <a class="el" href="parsePreamble_8c-source.html#l00463">handlePreambleTag()</a>, <a class="el" href="signature_8c-source.html#l00544">makeGPGSignature()</a>, <a class="el" href="signature_8c-source.html#l00395">makePGPSignature()</a>, <a class="el" href="parseSpec_8c-source.html#l00439">parseSpec()</a>, <a class="el" href="rpmrc-py_8c-source.html#l00051">rpmrc_DelMacro()</a>, <a class="el" href="rpmrc_8c-source.html#l01579">rpmRebuildTargetVars()</a>, and <a class="el" href="rpmts_8c-source.html#l00500">rpmtsOpenSDB()</a>.
</div>
</div><p>
<a class="anchor" name="a282776f7081c9e47a0299cf2a103edf"></a><!-- doxytag: member="macro.c::doDefine" ref="a282776f7081c9e47a0299cf2a103edf" args="(MacroBuf mb, const char *se, int level, int expandbody)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* doDefine           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroBuf__s.html">MacroBuf</a>&nbsp;</td>
          <td class="paramname"> <em>mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>se</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>expandbody</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse (and execute) new macro definition. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mb</em>&nbsp;</td><td>macro expansion state </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>se</em>&nbsp;</td><td>macro definition to parse </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>macro recursion level </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>expandbody</em>&nbsp;</td><td>should body be expanded? </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>address to continue parsing </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00642">642</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="macro_8c-source.html#l01872">addMacro()</a>, <a class="el" href="macro_8c-source.html#l00480">COPYNAME</a>, <a class="el" href="macro_8c-source.html#l00489">COPYOPTS</a>, <a class="el" href="macro_8c-source.html#l00559">expandU()</a>, <a class="el" href="macro_8c-source.html#l00010">isblank</a>, <a class="el" href="macro_8c-source.html#l00012">iseol</a>, <a class="el" href="macro_8c-source.html#l00361">matchchar()</a>, <a class="el" href="macro_8c-source.html#l00093">MacroBuf_s::mc</a>, <a class="el" href="rpmerr_8h-source.html#l00097">RPMERR_BADSPEC</a>, <a class="el" href="rpmerr_8h-source.html#l00143">rpmError</a>, <a class="el" href="macro_8c-source.html#l00468">SKIPBLANK</a>, and <a class="el" href="rpmio_8h-source.html#l00675">xisalpha()</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>, and <a class="el" href="macro_8c-source.html#l01914">rpmDefineMacro()</a>.
</div>
</div><p>
<a class="anchor" name="3336f7f09fc4ae14ecadf407b9e17e94"></a><!-- doxytag: member="macro.c::doFoo" ref="3336f7f09fc4ae14ecadf407b9e17e94" args="(MacroBuf mb, int negate, const char *f, size_t fn, const char *g, size_t gn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void doFoo           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroBuf__s.html">MacroBuf</a>&nbsp;</td>
          <td class="paramname"> <em>mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>negate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>gn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Execute macro primitives. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mb</em>&nbsp;</td><td>macro expansion state </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negate</em>&nbsp;</td><td>should logic be inverted? </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>beginning of field f </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>length of field f </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>g</em>&nbsp;</td><td>beginning of field g </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gn</em>&nbsp;</td><td>length of field g </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l01112">1112</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="rpmmacro_8h-source.html#l00173">COMPRESSED_OTHER</a>, <a class="el" href="macro_8c-source.html#l00505">expandT()</a>, <a class="el" href="macro_8c-source.html#l00559">expandU()</a>, <a class="el" href="macro_8c-source.html#l00010">isblank</a>, <a class="el" href="macro_8c-source.html#l02064">isCompressed()</a>, <a class="el" href="rpmerr_8h-source.html#l00097">RPMERR_BADSPEC</a>, <a class="el" href="rpmerr_8h-source.html#l00143">rpmError</a>, <a class="el" href="rpmmessages_8h-source.html#l00029">rpmIsVerbose</a>, <a class="el" href="macro_8c-source.html#l00014">STREQ</a>, <a class="el" href="url_8c-source.html#l00383">urlPath()</a>, and <a class="el" href="rpmio_8h-source.html#l00678">xisdigit()</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>.
</div>
</div><p>
<a class="anchor" name="a902f671031f078e3cb798db8fedc898"></a><!-- doxytag: member="macro.c::doOutput" ref="a902f671031f078e3cb798db8fedc898" args="(MacroBuf mb, int waserror, const char *msg, size_t msglen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void doOutput           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroBuf__s.html">MacroBuf</a>&nbsp;</td>
          <td class="paramname"> <em>mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>waserror</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>msglen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Perform macro message output. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mb</em>&nbsp;</td><td>macro expansion state </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>waserror</em>&nbsp;</td><td>use <a class="el" href="rpmerr_8h.html#9c6d3f4067f89d2ef665ced76617e0cf" title="Retrofit rpmError() onto rpmlog sub-system.">rpmError()</a>? </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>message to ouput </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msglen</em>&nbsp;</td><td>no. of bytes in message </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l01083">1083</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="macro_8c-source.html#l00559">expandU()</a>, <a class="el" href="rpmerr_8h-source.html#l00097">RPMERR_BADSPEC</a>, and <a class="el" href="rpmerr_8h-source.html#l00143">rpmError</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>.
</div>
</div><p>
<a class="anchor" name="812b62764f4d597b56f87eb826f86bda"></a><!-- doxytag: member="macro.c::doShellEscape" ref="812b62764f4d597b56f87eb826f86bda" args="(MacroBuf mb, const char *cmd, size_t clen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int doShellEscape           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroBuf__s.html">MacroBuf</a>&nbsp;</td>
          <td class="paramname"> <em>mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>clen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Expand output of shell command into target buffer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mb</em>&nbsp;</td><td>macro expansion state </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>shell command </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>clen</em>&nbsp;</td><td>no. bytes in shell command </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>result of expansion </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00598">598</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="macro_8c-source.html#l00559">expandU()</a>, <a class="el" href="macro_8c-source.html#l00012">iseol</a>, <a class="el" href="macro_8c-source.html#l00086">MacroBuf_s::nb</a>, <a class="el" href="rpmerr_8h-source.html#l00097">RPMERR_BADSPEC</a>, <a class="el" href="rpmerr_8h-source.html#l00143">rpmError</a>, and <a class="el" href="macro_8c-source.html#l00096">SAVECHAR</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>.
</div>
</div><p>
<a class="anchor" name="5110a6d78f9f2aeb8577ce94d33b4b1d"></a><!-- doxytag: member="macro.c::doUndefine" ref="5110a6d78f9f2aeb8577ce94d33b4b1d" args="(MacroContext mc, const char *se)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* doUndefine           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td>
          <td class="paramname"> <em>mc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>se</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse (and execute) macro undefinition. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mc</em>&nbsp;</td><td>macro context </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>se</em>&nbsp;</td><td>macro <a class="el" href="structname.html">name</a> to undefine </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>address to continue parsing </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00768">768</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="macro_8c-source.html#l00480">COPYNAME</a>, <a class="el" href="macro_8c-source.html#l01898">delMacro()</a>, <a class="el" href="macro_8c-source.html#l00012">iseol</a>, <a class="el" href="rpmerr_8h-source.html#l00097">RPMERR_BADSPEC</a>, <a class="el" href="rpmerr_8h-source.html#l00143">rpmError</a>, and <a class="el" href="rpmio_8h-source.html#l00675">xisalpha()</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>.
</div>
</div><p>
<a class="anchor" name="b68634c5902ddbad4b09d062a3f707ed"></a><!-- doxytag: member="macro.c::expandMacro" ref="b68634c5902ddbad4b09d062a3f707ed" args="(MacroBuf mb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int expandMacro           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroBuf__s.html">MacroBuf</a>&nbsp;</td>
          <td class="paramname"> <em>mb</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The main macro recursion loop. 
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000105">Todo:</a></b></dt><dd>Dynamically reallocate target buffer. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mb</em>&nbsp;</td><td>macro expansion state </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, 1 on failure </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l01218">1218</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="macro_8c-source.html#l01872">addMacro()</a>, <a class="el" href="rpmmacro_8h-source.html#l00013">MacroEntry_s::body</a>, <a class="el" href="macro_8c-source.html#l00087">MacroBuf_s::depth</a>, <a class="el" href="macro_8c-source.html#l00642">doDefine()</a>, <a class="el" href="macro_8c-source.html#l01112">doFoo()</a>, <a class="el" href="macro_8c-source.html#l01083">doOutput()</a>, <a class="el" href="macro_8c-source.html#l00598">doShellEscape()</a>, <a class="el" href="macro_8c-source.html#l00768">doUndefine()</a>, <a class="el" href="macro_8c-source.html#l00089">MacroBuf_s::expand_trace</a>, <a class="el" href="macro_8c-source.html#l00505">expandT()</a>, <a class="el" href="header_8c-source.html#l00894">findEntry()</a>, <a class="el" href="macro_8c-source.html#l00877">freeArgs()</a>, <a class="el" href="macro_8c-source.html#l00929">grabArgs()</a>, <a class="el" href="macro_8c-source.html#l00010">isblank</a>, <a class="el" href="macro_8c-source.html#l00012">iseol</a>, <a class="el" href="macro_8c-source.html#l00088">MacroBuf_s::macro_trace</a>, <a class="el" href="macro_8c-source.html#l00361">matchchar()</a>, <a class="el" href="macro_8c-source.html#l00102">max_macro_depth</a>, <a class="el" href="macro_8c-source.html#l00093">MacroBuf_s::mc</a>, <a class="el" href="rpmmacro_8h-source.html#l00011">MacroEntry_s::name</a>, <a class="el" href="macro_8c-source.html#l00086">MacroBuf_s::nb</a>, <a class="el" href="rpmmacro_8h-source.html#l00012">MacroEntry_s::opts</a>, <a class="el" href="macro_8c-source.html#l00110">print_expand_trace</a>, <a class="el" href="macro_8c-source.html#l00106">print_macro_trace</a>, <a class="el" href="macro_8c-source.html#l00431">printExpansion()</a>, <a class="el" href="macro_8c-source.html#l00387">printMacro()</a>, <a class="el" href="rpmmacro_8h-source.html#l00054">RMIL_GLOBAL</a>, <a class="el" href="macro_8c-source.html#l00209">rpmDumpMacroTable()</a>, <a class="el" href="rpmerr_8h-source.html#l00097">RPMERR_BADSPEC</a>, <a class="el" href="rpmerr_8h-source.html#l00143">rpmError</a>, <a class="el" href="macro_8c-source.html#l00083">MacroBuf_s::s</a>, <a class="el" href="macro_8c-source.html#l00096">SAVECHAR</a>, <a class="el" href="macro_8c-source.html#l00014">STREQ</a>, <a class="el" href="macro_8c-source.html#l00085">MacroBuf_s::t</a>, <a class="el" href="rpmmacro_8h-source.html#l00014">MacroEntry_s::used</a>, <a class="el" href="rpmio_8h-source.html#l00681">xisalnum()</a>, and <a class="el" href="rpmmalloc_8c-source.html#l00024">xmalloc()</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01837">expandMacros()</a>, <a class="el" href="macro_8c-source.html#l00505">expandT()</a>, and <a class="el" href="macro_8c-source.html#l00559">expandU()</a>.
</div>
</div><p>
<a class="anchor" name="cada855232974c4a3985847565be312e"></a><!-- doxytag: member="macro.c::expandMacros" ref="cada855232974c4a3985847565be312e" args="(void *spec, MacroContext mc, char *sbuf, size_t slen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int expandMacros           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td>
          <td class="paramname"> <em>mc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>sbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>slen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Expand macro into buffer. 
<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000021">Deprecated:</a></b></dt><dd>Use <a class="el" href="macro_8c.html#0dba4b275f1c8f96b8dae9537a8aa3cf" title="Return (malloc'ed) concatenated macro expansion(s).">rpmExpand()</a>. </dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000110">Todo:</a></b></dt><dd>Eliminate from API. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spec</em>&nbsp;</td><td>cookie (unused) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mc</em>&nbsp;</td><td>macro context (NULL uses global context). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sbuf</em>&nbsp;</td><td>input macro to expand, output expansion </td></tr>
  </table>
</dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>slen</em>&nbsp;</td><td>size of buffer </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l01837">1837</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="system_8h.html#58ff5c3142f685bf7e95cc0cbfaf49c9">alloca()</a>, <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>, <a class="el" href="macro_8c-source.html#l00110">print_expand_trace</a>, <a class="el" href="macro_8c-source.html#l00106">print_macro_trace</a>, <a class="el" href="rpmerr_8h-source.html#l00097">RPMERR_BADSPEC</a>, <a class="el" href="rpmerr_8h-source.html#l00143">rpmError</a>, and <a class="el" href="macro_8c-source.html#l00070">rpmGlobalMacroContext</a>.
<p>
Referenced by <a class="el" href="pack_8c-source.html#l00131">addFileToTagAux()</a>, <a class="el" href="parseSpec_8c-source.html#l00131">copyNextLine()</a>, <a class="el" href="files_8c-source.html#l01931">processPackageFiles()</a>, <a class="el" href="macro_8c-source.html#l02116">rpmExpand()</a>, and <a class="el" href="macro_8c-source.html#l02254">rpmGetPath()</a>.
</div>
</div><p>
<a class="anchor" name="15ee0f5f86ab8580678dd446367c22bf"></a><!-- doxytag: member="macro.c::expandMacroTable" ref="15ee0f5f86ab8580678dd446367c22bf" args="(MacroContext mc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void expandMacroTable           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td>
          <td class="paramname"> <em>mc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enlarge macro table. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mc</em>&nbsp;</td><td>macro context </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00165">165</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="rpmmacro_8h-source.html#l00022">MacroContext_s::firstFree</a>, <a class="el" href="macro_8c-source.html#l00113">MACRO_CHUNK_SIZE</a>, <a class="el" href="rpmmacro_8h-source.html#l00021">MacroContext_s::macrosAllocated</a>, <a class="el" href="rpmmacro_8h-source.html#l00020">MacroContext_s::macroTable</a>, <a class="el" href="rpmmalloc_8c-source.html#l00024">xmalloc()</a>, and <a class="el" href="rpmmalloc_8c-source.html#l00045">xrealloc()</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01872">addMacro()</a>.
</div>
</div><p>
<a class="anchor" name="964e52ae8f9a0a834f01a5516c1d258b"></a><!-- doxytag: member="macro.c::expandT" ref="964e52ae8f9a0a834f01a5516c1d258b" args="(MacroBuf mb, const char *f, size_t flen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int expandT           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroBuf__s.html">MacroBuf</a>&nbsp;</td>
          <td class="paramname"> <em>mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>flen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Save source and expand field into target. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mb</em>&nbsp;</td><td>macro expansion state </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>field </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flen</em>&nbsp;</td><td>no. bytes in field </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>result of expansion </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00505">505</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h.html#58ff5c3142f685bf7e95cc0cbfaf49c9">alloca()</a>, <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>, and <a class="el" href="macro_8c-source.html#l00083">MacroBuf_s::s</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01112">doFoo()</a>, and <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>.
</div>
</div><p>
<a class="anchor" name="1fd28433338ec64a41b24c4efbcec8d7"></a><!-- doxytag: member="macro.c::expandU" ref="1fd28433338ec64a41b24c4efbcec8d7" args="(MacroBuf mb, char *u, size_t ulen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int expandU           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroBuf__s.html">MacroBuf</a>&nbsp;</td>
          <td class="paramname"> <em>mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>ulen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Save source/target and expand macro in u. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mb</em>&nbsp;</td><td>macro expansion state </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>u</em>&nbsp;</td><td>input macro, output expansion </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ulen</em>&nbsp;</td><td>no. bytes in u buffer </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>result of expansion </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00559">559</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h.html#58ff5c3142f685bf7e95cc0cbfaf49c9">alloca()</a>, <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>, <a class="el" href="macro_8c-source.html#l00086">MacroBuf_s::nb</a>, <a class="el" href="macro_8c-source.html#l00083">MacroBuf_s::s</a>, and <a class="el" href="macro_8c-source.html#l00085">MacroBuf_s::t</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l00642">doDefine()</a>, <a class="el" href="macro_8c-source.html#l01112">doFoo()</a>, <a class="el" href="macro_8c-source.html#l01083">doOutput()</a>, <a class="el" href="macro_8c-source.html#l00598">doShellEscape()</a>, and <a class="el" href="macro_8c-source.html#l00929">grabArgs()</a>.
</div>
</div><p>
<a class="anchor" name="a096c2ac6fe9be131a8ae6be3fbe0a4d"></a><!-- doxytag: member="macro.c::findEntry" ref="a096c2ac6fe9be131a8ae6be3fbe0a4d" args="(MacroContext mc, const char *name, size_t namelen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structMacroEntry__s.html">MacroEntry</a>* findEntry           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td>
          <td class="paramname"> <em>mc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>namelen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find entry in macro table. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mc</em>&nbsp;</td><td>macro context </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="structname.html">name</a></em>&nbsp;</td><td>macro <a class="el" href="structname.html">name</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>namelen</em>&nbsp;</td><td>no. of bytes </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>address of slot in macro table with <a class="el" href="structname.html">name</a> (or NULL) </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00251">251</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h.html#58ff5c3142f685bf7e95cc0cbfaf49c9">alloca()</a>, <a class="el" href="macro_8c-source.html#l00144">compareMacroName()</a>, <a class="el" href="rpmmacro_8h-source.html#l00022">MacroContext_s::firstFree</a>, <a class="el" href="rpmmacro_8h-source.html#l00020">MacroContext_s::macroTable</a>, and <a class="el" href="macro_8c-source.html#l00070">rpmGlobalMacroContext</a>.
</div>
</div><p>
<a class="anchor" name="b5c4b77d14ec0ffebaa1d0ad09d30c26"></a><!-- doxytag: member="macro.c::freeArgs" ref="b5c4b77d14ec0ffebaa1d0ad09d30c26" args="(MacroBuf mb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void freeArgs           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroBuf__s.html">MacroBuf</a>&nbsp;</td>
          <td class="paramname"> <em>mb</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free parsed arguments for parameterized macro. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mb</em>&nbsp;</td><td>macro expansion state </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00877">877</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="rpmmacro_8h-source.html#l00013">MacroEntry_s::body</a>, <a class="el" href="macro_8c-source.html#l00087">MacroBuf_s::depth</a>, <a class="el" href="rpmmacro_8h-source.html#l00022">MacroContext_s::firstFree</a>, <a class="el" href="rpmmacro_8h-source.html#l00015">MacroEntry_s::level</a>, <a class="el" href="rpmmacro_8h-source.html#l00020">MacroContext_s::macroTable</a>, <a class="el" href="macro_8c-source.html#l00093">MacroBuf_s::mc</a>, <a class="el" href="rpmmacro_8h-source.html#l00011">MacroEntry_s::name</a>, <a class="el" href="rpmerr_8h-source.html#l00097">RPMERR_BADSPEC</a>, <a class="el" href="rpmerr_8h-source.html#l00143">rpmError</a>, and <a class="el" href="rpmmacro_8h-source.html#l00014">MacroEntry_s::used</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>.
</div>
</div><p>
<a class="anchor" name="8f6890158b634b075b87b42cd8422da9"></a><!-- doxytag: member="macro.c::grabArgs" ref="8f6890158b634b075b87b42cd8422da9" args="(MacroBuf mb, const MacroEntry me, const char *se, const char *lastc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* grabArgs           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroBuf__s.html">MacroBuf</a>&nbsp;</td>
          <td class="paramname"> <em>mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structMacroEntry__s.html">MacroEntry</a>&nbsp;</td>
          <td class="paramname"> <em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>se</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>lastc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse arguments (to next new line) for parameterized macro. 
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000104">Todo:</a></b></dt><dd>Use popt rather than getopt to parse args. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mb</em>&nbsp;</td><td>macro expansion state </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>me</em>&nbsp;</td><td>macro entry slot </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>se</em>&nbsp;</td><td>arguments to parse </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lastc</em>&nbsp;</td><td>stop parsing at lastc </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>address to continue parsing </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00929">929</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="macro_8c-source.html#l01872">addMacro()</a>, <a class="el" href="system_8h.html#58ff5c3142f685bf7e95cc0cbfaf49c9">alloca()</a>, <a class="el" href="compress_8c-source.html#l00064">argv</a>, <a class="el" href="macro_8c-source.html#l00087">MacroBuf_s::depth</a>, <a class="el" href="macro_8c-source.html#l00559">expandU()</a>, <a class="el" href="macro_8c-source.html#l00010">isblank</a>, <a class="el" href="macro_8c-source.html#l00093">MacroBuf_s::mc</a>, <a class="el" href="rpmmacro_8h-source.html#l00011">MacroEntry_s::name</a>, <a class="el" href="rpmmacro_8h-source.html#l00012">MacroEntry_s::opts</a>, <a class="el" href="rpmerr_8h-source.html#l00097">RPMERR_BADSPEC</a>, <a class="el" href="rpmerr_8h-source.html#l00143">rpmError</a>, and <a class="el" href="system_8h.html#58841684f76853b313e27e663c850381">stpcpy()</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>.
</div>
</div><p>
<a class="anchor" name="1495956d59eccf3a9521661f9fc50890"></a><!-- doxytag: member="macro.c::isCompressed" ref="1495956d59eccf3a9521661f9fc50890" args="(const char *file, rpmCompressedMagic *compressed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int isCompressed           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rpmmacro_8h.html#7eb1d040bd267cb5c6188db828d447d1">rpmCompressedMagic</a> *&nbsp;</td>
          <td class="paramname"> <em>compressed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return type of compression used in file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td><a class="el" href="structname.html">name</a> of file </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>compressed</em>&nbsp;</td><td>address of compression type </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, 1 on I/O error </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l02064">2064</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="rpmmacro_8h-source.html#l00174">COMPRESSED_BZIP2</a>, <a class="el" href="rpmmacro_8h-source.html#l00172">COMPRESSED_NOT</a>, <a class="el" href="rpmmacro_8h-source.html#l00173">COMPRESSED_OTHER</a>, <a class="el" href="rpmmacro_8h-source.html#l00175">COMPRESSED_ZIP</a>, <a class="el" href="rpmio_8c-source.html#l02903">Fclose()</a>, <a class="el" href="rpmio_8c-source.html#l03277">Ferror()</a>, <a class="el" href="rpmio_8c-source.html#l03184">Fopen()</a>, <a class="el" href="rpmio_8c-source.html#l02824">Fread()</a>, <a class="el" href="rpmio_8c-source.html#l02813">Fstrerror()</a>, <a class="el" href="rpmerr_8h-source.html#l00097">RPMERR_BADSPEC</a>, and <a class="el" href="rpmerr_8h-source.html#l00143">rpmError</a>.
<p>
Referenced by <a class="el" href="build_8c-source.html#l00101">buildForTarget()</a>, <a class="el" href="macro_8c-source.html#l01112">doFoo()</a>, <a class="el" href="parsePrep_8c-source.html#l00070">doPatch()</a>, and <a class="el" href="parsePrep_8c-source.html#l00169">doUntar()</a>.
</div>
</div><p>
<a class="anchor" name="f1b5b252eab18ae1b8437773be437797"></a><!-- doxytag: member="macro.c::matchchar" ref="f1b5b252eab18ae1b8437773be437797" args="(const char *p, char pl, char pr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* matchchar           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>pr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return text between pl and matching pr characters. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>start of text </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pl</em>&nbsp;</td><td>left char, i.e. '[', '(', '{', etc. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pr</em>&nbsp;</td><td>right char, i.e. ']', ')', '}', etc. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>address of last char before pr (or NULL) </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00361">361</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l00642">doDefine()</a>, and <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>.
</div>
</div><p>
<a class="anchor" name="de97f1374f70353bbc573ee4f8c5b6df"></a><!-- doxytag: member="macro.c::popMacro" ref="de97f1374f70353bbc573ee4f8c5b6df" args="(MacroEntry *mep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void popMacro           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroEntry__s.html">MacroEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>mep</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pop macro definition from macro entry stack. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mep</em>&nbsp;</td><td>address of macro entry slot </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00851">851</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, <a class="el" href="rpmmacro_8h-source.html#l00013">MacroEntry_s::body</a>, <a class="el" href="rpmmacro_8h-source.html#l00011">MacroEntry_s::name</a>, <a class="el" href="rpmmacro_8h-source.html#l00012">MacroEntry_s::opts</a>, and <a class="el" href="rpmmacro_8h-source.html#l00010">MacroEntry_s::prev</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01898">delMacro()</a>.
</div>
</div><p>
<a class="anchor" name="c0c4968e7a33292fdd060e004ba2d100"></a><!-- doxytag: member="macro.c::printExpansion" ref="c0c4968e7a33292fdd060e004ba2d100" args="(MacroBuf mb, const char *t, const char *te)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void printExpansion           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroBuf__s.html">MacroBuf</a>&nbsp;</td>
          <td class="paramname"> <em>mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>te</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Post-print expanded macro expression. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mb</em>&nbsp;</td><td>macro expansion state </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>current expansion string result </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>te</em>&nbsp;</td><td>end of string </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00431">431</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="macro_8c-source.html#l00087">MacroBuf_s::depth</a>, and <a class="el" href="macro_8c-source.html#l00012">iseol</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>.
</div>
</div><p>
<a class="anchor" name="d2f1aafd4f16bd7ac83eb96f85a212a1"></a><!-- doxytag: member="macro.c::printMacro" ref="d2f1aafd4f16bd7ac83eb96f85a212a1" args="(MacroBuf mb, const char *s, const char *se)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void printMacro           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroBuf__s.html">MacroBuf</a>&nbsp;</td>
          <td class="paramname"> <em>mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>se</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pre-print macro expression to be expanded. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mb</em>&nbsp;</td><td>macro expansion state </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>current expansion string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>se</em>&nbsp;</td><td>end of string </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00387">387</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="macro_8c-source.html#l00087">MacroBuf_s::depth</a>, and <a class="el" href="macro_8c-source.html#l00012">iseol</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>.
</div>
</div><p>
<a class="anchor" name="1d34891b83f459aa258da314398c6dc2"></a><!-- doxytag: member="macro.c::pushMacro" ref="1d34891b83f459aa258da314398c6dc2" args="(MacroEntry *mep, const char *n, const char *o, const char *b, int level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void pushMacro           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroEntry__s.html">MacroEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>mep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>level</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Push new macro definition onto macro entry stack. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mep</em>&nbsp;</td><td>address of macro entry slot </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>macro <a class="el" href="structname.html">name</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>o</em>&nbsp;</td><td>macro parameters (NULL if none) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>macro body (NULL becomes "") </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>macro recursion level </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00820">820</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, <a class="el" href="rpmmacro_8h-source.html#l00011">MacroEntry_s::name</a>, <a class="el" href="rpmmacro_8h-source.html#l00010">MacroEntry_s::prev</a>, <a class="el" href="rpmmalloc_8c-source.html#l00024">xmalloc()</a>, and <a class="el" href="rpmmalloc_8c-source.html#l00055">xstrdup()</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01872">addMacro()</a>.
</div>
</div><p>
<a class="anchor" name="c9f1be5e4270f95d099e04074c229c7f"></a><!-- doxytag: member="macro.c::rdcl" ref="c9f1be5e4270f95d099e04074c229c7f" args="(char *buf, size_t size, FD_t fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char* rdcl           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__FD__s.html">FD_t</a>&nbsp;</td>
          <td class="paramname"> <em>fd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
fgets(3) analogue that reads \ continuations. 
<p>
Last newline always trimmed. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>input buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>inbut buffer size (bytes) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>file handle </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>buffer, or NULL on end-of-file </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00298">298</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="rpmio_8c-source.html#l00090">fdGetFILE</a>, and <a class="el" href="macro_8c-source.html#l00012">iseol</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01948">rpmLoadMacroFile()</a>.
</div>
</div><p>
<a class="anchor" name="02c5e42e23aca300936bea1154f3c991"></a><!-- doxytag: member="macro.c::rpmCleanPath" ref="02c5e42e23aca300936bea1154f3c991" args="(char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* rpmCleanPath           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Canonicalize file path. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>path to canonicalize (in-place) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>canonicalized path (malloc'ed) </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l02166">2166</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="fprint_8c-source.html#l00059">doLookup()</a>, <a class="el" href="rpmdb_8c-source.html#l03633">rpmdbMoveDatabase()</a>, <a class="el" href="rpmdb_8c-source.html#l03575">rpmdbRemoveDatabase()</a>, <a class="el" href="macro_8c-source.html#l02254">rpmGetPath()</a>, and <a class="el" href="query_8c-source.html#l00436">rpmQueryVerify()</a>.
</div>
</div><p>
<a class="anchor" name="1f883e66bb4e62be1f845a32dfebf909"></a><!-- doxytag: member="macro.c::rpmDefineMacro" ref="1f883e66bb4e62be1f845a32dfebf909" args="(MacroContext mc, const char *macro, int level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rpmDefineMacro           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td>
          <td class="paramname"> <em>mc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>macro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>level</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Define macro in context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mc</em>&nbsp;</td><td>macro context (NULL uses global context). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>macro</em>&nbsp;</td><td>macro <a class="el" href="structname.html">name</a>, options, body </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>macro recursion level (0 is entry API) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd></dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000111">Todo:</a></b></dt><dd>Document. </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l01914">1914</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h.html#58ff5c3142f685bf7e95cc0cbfaf49c9">alloca()</a>, <a class="el" href="macro_8c-source.html#l00642">doDefine()</a>, and <a class="el" href="macro_8c-source.html#l00070">rpmGlobalMacroContext</a>.
<p>
Referenced by <a class="el" href="rpmcache_8c-source.html#l00102">ftsCacheUpdate()</a>, <a class="el" href="poptALL_8c-source.html#l00152">rpmcliAllArgCallback()</a>, <a class="el" href="rpmdb_8c-source.html#l03746">rpmdbRebuild()</a>, and <a class="el" href="macro_8c-source.html#l01948">rpmLoadMacroFile()</a>.
</div>
</div><p>
<a class="anchor" name="f075388010eeb8d8decdc1978fd7db24"></a><!-- doxytag: member="macro.c::rpmDumpMacroTable" ref="f075388010eeb8d8decdc1978fd7db24" args="(MacroContext mc, FILE *fp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rpmDumpMacroTable           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td>
          <td class="paramname"> <em>mc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>fp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Print macros to file stream. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mc</em>&nbsp;</td><td>macro context (NULL uses global context). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fp</em>&nbsp;</td><td>file stream (NULL uses stderr). </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00209">209</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="rpmmacro_8h-source.html#l00022">MacroContext_s::firstFree</a>, <a class="el" href="rpmmacro_8h-source.html#l00020">MacroContext_s::macroTable</a>, and <a class="el" href="macro_8c-source.html#l00070">rpmGlobalMacroContext</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>, and <a class="el" href="rpmrc_8c-source.html#l01881">rpmShowRC()</a>.
</div>
</div><p>
<a class="anchor" name="0dba4b275f1c8f96b8dae9537a8aa3cf"></a><!-- doxytag: member="macro.c::rpmExpand" ref="0dba4b275f1c8f96b8dae9537a8aa3cf" args="(const char *arg,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* rpmExpand           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return (malloc'ed) concatenated macro expansion(s). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>arg</em>&nbsp;</td><td>macro(s) to expand (NULL terminates list) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>macro expansion (malloc'ed) </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l02116">2116</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="macro_8c-source.html#l01837">expandMacros()</a>, <a class="el" href="system_8h.html#58841684f76853b313e27e663c850381">stpcpy()</a>, and <a class="el" href="rpmmalloc_8c-source.html#l00055">xstrdup()</a>.
<p>
Referenced by <a class="el" href="files_8c-source.html#l02441">checkFiles()</a>, <a class="el" href="parsePreamble_8c-source.html#l00229">checkForValidArchitectures()</a>, <a class="el" href="signature_8c-source.html#l00854">checkPassPhrase()</a>, <a class="el" href="pack_8c-source.html#l00056">cpio_doio()</a>, <a class="el" href="dbconfig_8c-source.html#l00277">db3New()</a>, <a class="el" href="rpmdb_8c-source.html#l00178">dbiTagsInit()</a>, <a class="el" href="rpmrc_8c-source.html#l01098">defaultMachine()</a>, <a class="el" href="expression_8c-source.html#l00336">doPrimary()</a>, <a class="el" href="build_2build_8c-source.html#l00056">doScript()</a>, <a class="el" href="parsePrep_8c-source.html#l00292">doSetupMacro()</a>, <a class="el" href="rpmmodule_8c-source.html#l00047">expandMacro()</a>, <a class="el" href="parsePreamble_8c-source.html#l00338">fillOutMainPackage()</a>, <a class="el" href="transaction_8c-source.html#l01115">getRepackageHeaderFromTE()</a>, <a class="el" href="formats_8c-source.html#l01005">i18nTag()</a>, <a class="el" href="depends_8c-source.html#l00869">ignoreDep()</a>, <a class="el" href="rpmcache_8c-source.html#l00441">initGlobs()</a>, <a class="el" href="rpmcache_8c-source.html#l00534">main()</a>, <a class="el" href="signature_8c-source.html#l00544">makeGPGSignature()</a>, <a class="el" href="signature_8c-source.html#l00395">makePGPSignature()</a>, <a class="el" href="rpmdb_8c-source.html#l00946">newRpmdb()</a>, <a class="el" href="legacy_8c-source.html#l00036">open_dso()</a>, <a class="el" href="pack_8c-source.html#l00755">packageBinaries()</a>, <a class="el" href="files_8c-source.html#l00827">parseForRegexLang()</a>, <a class="el" href="parseSpec_8c-source.html#l00439">parseSpec()</a>, <a class="el" href="files_8c-source.html#l02271">processSourceFiles()</a>, <a class="el" href="expression_8c-source.html#l00188">rdToken()</a>, <a class="el" href="parseSpec_8c-source.html#l00234">readLine()</a>, <a class="el" href="poptALL_8c-source.html#l00152">rpmcliAllArgCallback()</a>, <a class="el" href="rpmchecksig_8c-source.html#l00564">rpmcliImportPubkeys()</a>, <a class="el" href="query_8c-source.html#l00790">rpmcliQuery()</a>, <a class="el" href="rpmdb_8c-source.html#l01898">rpmdbSetIteratorRE()</a>, <a class="el" href="macro_8c-source.html#l02139">rpmExpandNumeric()</a>, <a class="el" href="rpmfc_8c-source.html#l00206">rpmfcExec()</a>, <a class="el" href="rpmfc_8c-source.html#l00028">rpmfcExpandAppend()</a>, <a class="el" href="rpmfc_8c-source.html#l01546">rpmfcGenerateDependsHelper()</a>, <a class="el" href="signature_8c-source.html#l00965">rpmGetPassPhrase()</a>, <a class="el" href="rpmgi_8c-source.html#l00478">rpmgiNext()</a>, <a class="el" href="rpmgi_8c-source.html#l00073">rpmgiOpen()</a>, <a class="el" href="signature_8c-source.html#l00033">rpmLookupSignatureType()</a>, <a class="el" href="rpmrc_8c-source.html#l00779">rpmPlatform()</a>, <a class="el" href="rpmrc_8c-source.html#l01851">rpmReadConfigFiles()</a>, <a class="el" href="rpminstall_8c-source.html#l01088">rpmRollback()</a>, <a class="el" href="rpmts-py_8c-source.html#l00575">rpmts_IDTXglob()</a>, <a class="el" href="rpmts_8c-source.html#l00338">rpmtsFindPubkey()</a>, <a class="el" href="rpmts_8c-source.html#l00547">rpmtsSolve()</a>, <a class="el" href="psm_8c-source.html#l00607">runScript()</a>, <a class="el" href="transaction_8c-source.html#l00733">skipFiles()</a>, <a class="el" href="url_8c-source.html#l00204">urlFind()</a>, and <a class="el" href="pack_8c-source.html#l00420">writeRPM()</a>.
</div>
</div><p>
<a class="anchor" name="2e43f3dd86c8e646243de9f051f36f6a"></a><!-- doxytag: member="macro.c::rpmExpandNumeric" ref="2e43f3dd86c8e646243de9f051f36f6a" args="(const char *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rpmExpandNumeric           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>arg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return macro expansion as a numeric value. 
<p>
Boolean values ('Y' or 'y' returns 1, 'N' or 'n' returns 0) are permitted as well. An undefined macro returns 0. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>arg</em>&nbsp;</td><td>macro to expand </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>numeric value </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l02139">2139</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, and <a class="el" href="macro_8c-source.html#l02116">rpmExpand()</a>.
<p>
Referenced by <a class="el" href="build_8c-source.html#l00304">build()</a>, <a class="el" href="files_8c-source.html#l02441">checkFiles()</a>, <a class="el" href="rpmdb_8c-source.html#l00265">dbiOpen()</a>, <a class="el" href="files_8c-source.html#l01129">genCpioListAndHeader()</a>, <a class="el" href="rpmqv_8c-source.html#l00166">main()</a>, <a class="el" href="rpmdb_8c-source.html#l00946">newRpmdb()</a>, <a class="el" href="parseReqs_8c-source.html#l00035">parseRCPOT()</a>, <a class="el" href="parseSpec_8c-source.html#l00439">parseSpec()</a>, <a class="el" href="files_8c-source.html#l01931">processPackageFiles()</a>, <a class="el" href="rpmfi_8c-source.html#l00708">relocateFileList()</a>, <a class="el" href="query_8c-source.html#l00790">rpmcliQuery()</a>, <a class="el" href="verify_8c-source.html#l00475">rpmcliVerify()</a>, <a class="el" href="rpmdb_8c-source.html#l01142">rpmdbInit()</a>, <a class="el" href="rpmdb_8c-source.html#l01134">rpmdbOpen()</a>, <a class="el" href="rpmdb_8c-source.html#l03746">rpmdbRebuild()</a>, <a class="el" href="rpmdb_8c-source.html#l01163">rpmdbVerify()</a>, <a class="el" href="rpminstall_8c-source.html#l00752">rpmErase()</a>, <a class="el" href="rpmfc_8c-source.html#l00856">rpmfcELF()</a>, <a class="el" href="rpmfc_8c-source.html#l01624">rpmfcGenerateDepends()</a>, <a class="el" href="rpminstall_8c-source.html#l00286">rpmInstall()</a>, <a class="el" href="pack_8c-source.html#l00398">rpmLeadVersion()</a>, <a class="el" href="rpminstall_8c-source.html#l01088">rpmRollback()</a>, <a class="el" href="rpmts-py_8c-source.html#l01687">rpmts_Create()</a>, <a class="el" href="rpmts-py_8c-source.html#l01547">rpmts_init()</a>, <a class="el" href="rpmts_8c-source.html#l01534">rpmtsCreate()</a>, <a class="el" href="rpmts_8c-source.html#l00500">rpmtsOpenSDB()</a>, <a class="el" href="transaction_8c-source.html#l01406">rpmtsRun()</a>, and <a class="el" href="transaction_8c-source.html#l00733">skipFiles()</a>.
</div>
</div><p>
<a class="anchor" name="b02b0d47ca43105f753852324a44caa9"></a><!-- doxytag: member="macro.c::rpmFreeMacros" ref="b02b0d47ca43105f753852324a44caa9" args="(MacroContext mc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rpmFreeMacros           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td>
          <td class="paramname"> <em>mc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy macro context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mc</em>&nbsp;</td><td>macro context (NULL uses global context). </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l02037">2037</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, <a class="el" href="rpmmacro_8h-source.html#l00013">MacroEntry_s::body</a>, <a class="el" href="rpmmacro_8h-source.html#l00022">MacroContext_s::firstFree</a>, <a class="el" href="rpmmacro_8h-source.html#l00020">MacroContext_s::macroTable</a>, <a class="el" href="rpmmacro_8h-source.html#l00011">MacroEntry_s::name</a>, <a class="el" href="rpmmacro_8h-source.html#l00012">MacroEntry_s::opts</a>, <a class="el" href="rpmmacro_8h-source.html#l00010">MacroEntry_s::prev</a>, and <a class="el" href="macro_8c-source.html#l00070">rpmGlobalMacroContext</a>.
<p>
Referenced by <a class="el" href="build_8c-source.html#l00304">build()</a>, and <a class="el" href="rpmqv_8c-source.html#l00166">main()</a>.
</div>
</div><p>
<a class="anchor" name="5705f5a076ff34aeb4966048adafd360"></a><!-- doxytag: member="macro.c::rpmGenPath" ref="5705f5a076ff34aeb4966048adafd360" args="(const char *urlroot, const char *urlmdir, const char *urlfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* rpmGenPath           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>urlroot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>urlmdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>urlfile</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Merge 3 args into path, any or all of which may be a url. 
<p>
The leading part of the first URL encountered is used for the result, other URL prefixes are discarded, permitting a primitive form of URL inheiritance. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>urlroot</em>&nbsp;</td><td>root URL (often path to chroot, or NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>urlmdir</em>&nbsp;</td><td>directory URL (often a directory, or NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>urlfile</em>&nbsp;</td><td>file URL (often a file, or NULL) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>expanded, merged, canonicalized path (malloc'ed) </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l02285">2285</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, <a class="el" href="system_8h.html#58ff5c3142f685bf7e95cc0cbfaf49c9">alloca()</a>, <a class="el" href="parseFiles_8c-source.html#l00018">file</a>, <a class="el" href="macro_8c-source.html#l02254">rpmGetPath()</a>, <a class="el" href="rpmurl_8h-source.html#l00015">URL_IS_DASH</a>, and <a class="el" href="url_8c-source.html#l00383">urlPath()</a>.
<p>
Referenced by <a class="el" href="build_8c-source.html#l00101">buildForTarget()</a>, <a class="el" href="db3_8c-source.html#l00763">db3close()</a>, <a class="el" href="db3_8c-source.html#l00915">db3open()</a>, <a class="el" href="db3_8c-source.html#l00272">db_init()</a>, <a class="el" href="build_2build_8c-source.html#l00056">doScript()</a>, <a class="el" href="parsePrep_8c-source.html#l00292">doSetupMacro()</a>, <a class="el" href="parsePreamble_8c-source.html#l00463">handlePreambleTag()</a>, <a class="el" href="lib_2misc_8c-source.html#l00122">makeTempFile()</a>, <a class="el" href="files_8c-source.html#l01849">processBinaryFile()</a>, <a class="el" href="files_8c-source.html#l01769">processMetadataFile()</a>, <a class="el" href="files_8c-source.html#l01931">processPackageFiles()</a>, <a class="el" href="rpminstall_8c-source.html#l00286">rpmInstall()</a>, and <a class="el" href="psm_8c-source.html#l01355">rpmpsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="1bce9a7d7c5c5833d2eda2dcaa761bd5"></a><!-- doxytag: member="macro.c::rpmGetPath" ref="1bce9a7d7c5c5833d2eda2dcaa761bd5" args="(const char *path,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* rpmGetPath           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return (malloc'ed) expanded, canonicalized, file path. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>macro(s) to expand (NULL terminates list) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>canonicalized path (malloc'ed) </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l02254">2254</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="macro_8c-source.html#l01837">expandMacros()</a>, <a class="el" href="macro_8c-source.html#l02166">rpmCleanPath()</a>, <a class="el" href="system_8h.html#58841684f76853b313e27e663c850381">stpcpy()</a>, and <a class="el" href="rpmmalloc_8c-source.html#l00055">xstrdup()</a>.
<p>
Referenced by <a class="el" href="pack_8c-source.html#l00131">addFileToTagAux()</a>, <a class="el" href="spec_8c-source.html#l00257">addSource()</a>, <a class="el" href="build_8c-source.html#l00101">buildForTarget()</a>, <a class="el" href="db3_8c-source.html#l00763">db3close()</a>, <a class="el" href="db3_8c-source.html#l00915">db3open()</a>, <a class="el" href="parsePrep_8c-source.html#l00070">doPatch()</a>, <a class="el" href="rpmrc_8c-source.html#l00555">doReadRC()</a>, <a class="el" href="build_2build_8c-source.html#l00022">doRmSource()</a>, <a class="el" href="parsePrep_8c-source.html#l00169">doUntar()</a>, <a class="el" href="files_8c-source.html#l01129">genCpioListAndHeader()</a>, <a class="el" href="rpmtool_8c-source.html#l00275">main()</a>, <a class="el" href="rpmdb_8c-source.html#l00946">newRpmdb()</a>, <a class="el" href="pack_8c-source.html#l00755">packageBinaries()</a>, <a class="el" href="pack_8c-source.html#l00862">packageSources()</a>, <a class="el" href="parseFiles_8c-source.html#l00026">parseFiles()</a>, <a class="el" href="parseSpec_8c-source.html#l00439">parseSpec()</a>, <a class="el" href="files_8c-source.html#l01931">processPackageFiles()</a>, <a class="el" href="files_8c-source.html#l02271">processSourceFiles()</a>, <a class="el" href="parsePreamble_8c-source.html#l00359">readIcon()</a>, <a class="el" href="rpmdb_8c-source.html#l03746">rpmdbRebuild()</a>, <a class="el" href="signature_8c-source.html#l00073">rpmDetectPGPVersion()</a>, <a class="el" href="rpmfi_8c-source.html#l01695">rpmfiBuildREContexts()</a>, <a class="el" href="macro_8c-source.html#l02285">rpmGenPath()</a>, <a class="el" href="fs_8c-source.html#l00282">rpmGetFilesystemUsage()</a>, <a class="el" href="rpminstall_8c-source.html#l00286">rpmInstall()</a>, <a class="el" href="psm_8c-source.html#l01355">rpmpsmStage()</a>, <a class="el" href="query_8c-source.html#l00436">rpmQueryVerify()</a>, <a class="el" href="rpmsx_8c-source.html#l00319">rpmsxParse()</a>, <a class="el" href="rpmts-py_8c-source.html#l01163">rpmts_Run()</a>, <a class="el" href="rpmts_8c-source.html#l00170">rpmtsOpenDB()</a>, <a class="el" href="rpmts_8c-source.html#l00500">rpmtsOpenSDB()</a>, <a class="el" href="psm_8c-source.html#l00607">runScript()</a>, and <a class="el" href="rpmrc_8c-source.html#l00466">setPathDefault()</a>.
</div>
</div><p>
<a class="anchor" name="23a786648d20cfb9c84b8eb4946c4a40"></a><!-- doxytag: member="macro.c::rpmGlob" ref="23a786648d20cfb9c84b8eb4946c4a40" args="(const char *patterns, int *argcPtr, const char ***argvPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rpmGlob           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>patterns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>argcPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char ***&nbsp;</td>
          <td class="paramname"> <em>argvPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return URL path(s) from a (URL prefixed) pattern glob. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>patterns</em>&nbsp;</td><td>glob pattern </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*argcPtr</em>&nbsp;</td><td>no. of paths </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*argvPtr</em>&nbsp;</td><td>array of paths (malloc'd contiguous blob) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l01694">1694</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, <a class="el" href="compress_8c-source.html#l00064">argv</a>, <a class="el" href="rpmrpc_8c-source.html#l01446">Glob()</a>, <a class="el" href="rpmrpc_8c-source.html#l01441">Glob_error()</a>, <a class="el" href="rpmrpc_8c-source.html#l01405">Glob_pattern_p()</a>, <a class="el" href="rpmrpc_8c-source.html#l01484">Globfree()</a>, <a class="el" href="system_8h-source.html#l00467">setlocale</a>, <a class="el" href="rpmurl_8h-source.html#l00015">URL_IS_DASH</a>, <a class="el" href="rpmurl_8h-source.html#l00017">URL_IS_FTP</a>, <a class="el" href="rpmurl_8h-source.html#l00020">URL_IS_HKP</a>, <a class="el" href="rpmurl_8h-source.html#l00018">URL_IS_HTTP</a>, <a class="el" href="rpmurl_8h-source.html#l00019">URL_IS_HTTPS</a>, <a class="el" href="rpmurl_8h-source.html#l00016">URL_IS_PATH</a>, <a class="el" href="rpmurl_8h-source.html#l00014">URL_IS_UNKNOWN</a>, <a class="el" href="url_8c-source.html#l00383">urlPath()</a>, <a class="el" href="rpmmalloc_8c-source.html#l00024">xmalloc()</a>, <a class="el" href="macro_8c-source.html#l01623">XpoptParseArgvString()</a>, <a class="el" href="rpmmalloc_8c-source.html#l00045">xrealloc()</a>, and <a class="el" href="rpmmalloc_8c-source.html#l00055">xstrdup()</a>.
<p>
Referenced by <a class="el" href="rpminstall_8c-source.html#l01012">IDTXglob()</a>, <a class="el" href="files_8c-source.html#l01849">processBinaryFile()</a>, <a class="el" href="rpmgi_8c-source.html#l00288">rpmgiGlobArgv()</a>, <a class="el" href="rpmgraph_8c-source.html#l00044">rpmGraph()</a>, <a class="el" href="macro_8c-source.html#l01981">rpmInitMacros()</a>, <a class="el" href="rpminstall_8c-source.html#l00286">rpmInstall()</a>, and <a class="el" href="manifest_8c-source.html#l00069">rpmReadPackageManifest()</a>.
</div>
</div><p>
<a class="anchor" name="20f51fff5c09dc3d34a024815dcafc10"></a><!-- doxytag: member="macro.c::rpmInitMacros" ref="20f51fff5c09dc3d34a024815dcafc10" args="(MacroContext mc, const char *macrofiles)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rpmInitMacros           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td>
          <td class="paramname"> <em>mc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>macrofiles</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize macro context from set of macrofile(s). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mc</em>&nbsp;</td><td>macro context </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>macrofiles</em>&nbsp;</td><td>colon separated list of macro files (NULL does nothing) </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l01981">1981</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, <a class="el" href="rpmmacro_8h-source.html#l00050">RMIL_CMDLINE</a>, <a class="el" href="macro_8c-source.html#l00075">rpmCLIMacroContext</a>, <a class="el" href="macro_8c-source.html#l01694">rpmGlob()</a>, <a class="el" href="macro_8c-source.html#l00070">rpmGlobalMacroContext</a>, <a class="el" href="macro_8c-source.html#l01948">rpmLoadMacroFile()</a>, <a class="el" href="macro_8c-source.html#l01927">rpmLoadMacros()</a>, and <a class="el" href="rpmmalloc_8c-source.html#l00055">xstrdup()</a>.
<p>
Referenced by <a class="el" href="rpmrc_8c-source.html#l01760">rpmReadRC()</a>.
</div>
</div><p>
<a class="anchor" name="c4f124ad466a01f576e64246677fd402"></a><!-- doxytag: member="macro.c::rpmLoadMacroFile" ref="c4f124ad466a01f576e64246677fd402" args="(MacroContext mc, const char *fn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rpmLoadMacroFile           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td>
          <td class="paramname"> <em>mc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load macro context from a macro file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mc</em>&nbsp;</td><td>(unused) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>macro file <a class="el" href="structname.html">name</a> </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l01948">1948</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="rpmio_8c-source.html#l02903">Fclose()</a>, <a class="el" href="rpmio_8c-source.html#l03277">Ferror()</a>, <a class="el" href="rpmio_8c-source.html#l03184">Fopen()</a>, <a class="el" href="macro_8c-source.html#l00102">max_macro_depth</a>, <a class="el" href="macro_8c-source.html#l00298">rdcl()</a>, <a class="el" href="rpmmacro_8h-source.html#l00047">RMIL_MACROFILES</a>, <a class="el" href="macro_8c-source.html#l01914">rpmDefineMacro()</a>, and <a class="el" href="macro_8c-source.html#l00468">SKIPBLANK</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01981">rpmInitMacros()</a>.
</div>
</div><p>
<a class="anchor" name="7be7c89640e5f467d11c83850daaa561"></a><!-- doxytag: member="macro.c::rpmLoadMacros" ref="7be7c89640e5f467d11c83850daaa561" args="(MacroContext mc, int level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rpmLoadMacros           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td>
          <td class="paramname"> <em>mc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>level</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load macros from specific context into global context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mc</em>&nbsp;</td><td>macro context (NULL does nothing). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>macro recursion level (0 is entry API) </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l01927">1927</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="macro_8c-source.html#l01872">addMacro()</a>, <a class="el" href="rpmmacro_8h-source.html#l00013">MacroEntry_s::body</a>, <a class="el" href="rpmmacro_8h-source.html#l00022">MacroContext_s::firstFree</a>, <a class="el" href="rpmmacro_8h-source.html#l00020">MacroContext_s::macroTable</a>, <a class="el" href="rpmmacro_8h-source.html#l00011">MacroEntry_s::name</a>, <a class="el" href="rpmmacro_8h-source.html#l00012">MacroEntry_s::opts</a>, and <a class="el" href="macro_8c-source.html#l00070">rpmGlobalMacroContext</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01981">rpmInitMacros()</a>.
</div>
</div><p>
<a class="anchor" name="41b48bc6dda66614c6d072c631b948ea"></a><!-- doxytag: member="macro.c::sortMacroTable" ref="41b48bc6dda66614c6d072c631b948ea" args="(MacroContext mc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void sortMacroTable           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMacroContext__s.html">MacroContext</a>&nbsp;</td>
          <td class="paramname"> <em>mc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sort entries in macro table. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mc</em>&nbsp;</td><td>macro context </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00188">188</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="macro_8c-source.html#l00144">compareMacroName()</a>, <a class="el" href="rpmmacro_8h-source.html#l00022">MacroContext_s::firstFree</a>, and <a class="el" href="rpmmacro_8h-source.html#l00020">MacroContext_s::macroTable</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01872">addMacro()</a>, and <a class="el" href="macro_8c-source.html#l01898">delMacro()</a>.
</div>
</div><p>
<a class="anchor" name="b372d73e5421b21e665bc3f38d829f5c"></a><!-- doxytag: member="macro.c::XpoptDupArgv" ref="b372d73e5421b21e665bc3f38d829f5c" args="(int argc, const char **argv, int *argcPtr, const char ***argvPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int XpoptDupArgv           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>argcPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char ***&nbsp;</td>
          <td class="paramname"> <em>argvPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
&lt; missing argument<p>
&lt; missing argument<p>
&lt; memory allocation failed 
<p>
Definition at line <a class="el" href="macro_8c-source.html#l01579">1579</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="macro_8c-source.html#l01574">POPT_ERROR_MALLOC</a>, and <a class="el" href="macro_8c-source.html#l01572">POPT_ERROR_NOARG</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01623">XpoptParseArgvString()</a>.
</div>
</div><p>
<a class="anchor" name="0a2c716b765b8bd681d7b1c033eccd03"></a><!-- doxytag: member="macro.c::XpoptParseArgvString" ref="0a2c716b765b8bd681d7b1c033eccd03" args="(const char *s, int *argcPtr, const char ***argvPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int XpoptParseArgvString           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>argcPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char ***&nbsp;</td>
          <td class="paramname"> <em>argvPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
&lt; memory allocation failed<p>
&lt; error in paramter quoting<p>
&lt; error in paramter quoting 
<p>
Definition at line <a class="el" href="macro_8c-source.html#l01623">1623</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
References <a class="el" href="system_8h.html#58ff5c3142f685bf7e95cc0cbfaf49c9">alloca()</a>, <a class="el" href="compress_8c-source.html#l00064">argv</a>, <a class="el" href="macro_8c-source.html#l01576">POPT_ARGV_ARRAY_GROW_DELTA</a>, <a class="el" href="macro_8c-source.html#l01573">POPT_ERROR_BADQUOTE</a>, <a class="el" href="macro_8c-source.html#l01574">POPT_ERROR_MALLOC</a>, and <a class="el" href="macro_8c-source.html#l01579">XpoptDupArgv()</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01694">rpmGlob()</a>.
</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="3f39405c2d7c0f545d6b90051f250c85"></a><!-- doxytag: member="macro.c::_debug" ref="3f39405c2d7c0f545d6b90051f250c85" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="rpmcache_8c.html#3f39405c2d7c0f545d6b90051f250c85">_debug</a> = 0<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l01692">1692</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
</div>
</div><p>
<a class="anchor" name="8351a2449d4ccc57c8e5c1451af359ed"></a><!-- doxytag: member="macro.c::max_macro_depth" ref="8351a2449d4ccc57c8e5c1451af359ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="macro_8c.html#8351a2449d4ccc57c8e5c1451af359ed">max_macro_depth</a> = 16          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00102">102</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>, and <a class="el" href="macro_8c-source.html#l01948">rpmLoadMacroFile()</a>.
</div>
</div><p>
<a class="anchor" name="1e97e767636425e2fbe9b7578ca48cd0"></a><!-- doxytag: member="macro.c::print_expand_trace" ref="1e97e767636425e2fbe9b7578ca48cd0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="macro_8c.html#1e97e767636425e2fbe9b7578ca48cd0">print_expand_trace</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00110">110</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>, and <a class="el" href="macro_8c-source.html#l01837">expandMacros()</a>.
</div>
</div><p>
<a class="anchor" name="69c82ff03bf0a250cd73e00eb2059897"></a><!-- doxytag: member="macro.c::print_macro_trace" ref="69c82ff03bf0a250cd73e00eb2059897" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="macro_8c.html#69c82ff03bf0a250cd73e00eb2059897">print_macro_trace</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00106">106</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
<p>
Referenced by <a class="el" href="macro_8c-source.html#l01218">expandMacro()</a>, and <a class="el" href="macro_8c-source.html#l01837">expandMacros()</a>.
</div>
</div><p>
<a class="anchor" name="ba0e176696e6cf629f6af10b2200c48c"></a><!-- doxytag: member="macro.c::rpmCLIMacroContext" ref="ba0e176696e6cf629f6af10b2200c48c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMacroContext__s.html">MacroContext</a> <a class="el" href="rpmmacro_8h.html#ba0e176696e6cf629f6af10b2200c48c">rpmCLIMacroContext</a> = &amp;<a class="el" href="macro_8c.html#c467ab83ef6590841b0eefd34b00712b">rpmCLIMacroContext_s</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00075">75</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
</div>
</div><p>
<a class="anchor" name="c467ab83ef6590841b0eefd34b00712b"></a><!-- doxytag: member="macro.c::rpmCLIMacroContext_s" ref="c467ab83ef6590841b0eefd34b00712b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structMacroContext__s.html">MacroContext_s</a> <a class="el" href="macro_8c.html#c467ab83ef6590841b0eefd34b00712b">rpmCLIMacroContext_s</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00073">73</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
</div>
</div><p>
<a class="anchor" name="3aecac57afea2383fc94133066421800"></a><!-- doxytag: member="macro.c::rpmGlobalMacroContext" ref="3aecac57afea2383fc94133066421800" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMacroContext__s.html">MacroContext</a> <a class="el" href="rpmmacro_8h.html#3aecac57afea2383fc94133066421800">rpmGlobalMacroContext</a> = &amp;<a class="el" href="macro_8c.html#f1a4a6419e2d381ef3dc51df7f2ed076">rpmGlobalMacroContext_s</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00070">70</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
</div>
</div><p>
<a class="anchor" name="f1a4a6419e2d381ef3dc51df7f2ed076"></a><!-- doxytag: member="macro.c::rpmGlobalMacroContext_s" ref="f1a4a6419e2d381ef3dc51df7f2ed076" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structMacroContext__s.html">MacroContext_s</a> <a class="el" href="macro_8c.html#f1a4a6419e2d381ef3dc51df7f2ed076">rpmGlobalMacroContext_s</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="macro_8c-source.html#l00068">68</a> of file <a class="el" href="macro_8c-source.html">macro.c</a>.
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 12 08:44:56 2007 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
