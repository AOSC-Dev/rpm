<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: rpmdb/header_internal.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul>
</div>
<h1>rpmdb/header_internal.c</h1><a href="header__internal_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*@-sizeoftype@*/</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include "<a class="code" href="system_8h.html">system.h</a>"</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;<a class="code" href="header__internal_8h.html">header_internal.h</a>&gt;</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#include "<a class="code" href="debug_8h.html">debug.h</a>"</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="comment">/*@-boundswrite@*/</span>
<a name="l00013"></a><a class="code" href="group__header.html#gfdfb1b277b0365171cac6bf478cf08d0">00013</a> <span class="keywordtype">char</span> ** <a class="code" href="group__header.html#gfdfb1b277b0365171cac6bf478cf08d0" title="Return array of locales found in header.">headerGetLangs</a>(<a class="code" href="structheaderToken__s.html" title="The Header data structure.">Header</a> h)
<a name="l00014"></a>00014 {
<a name="l00015"></a>00015     <span class="keywordtype">char</span> **s, *e, **table;
<a name="l00016"></a>00016     <span class="keywordtype">int</span> i, type, count;
<a name="l00017"></a>00017 
<a name="l00018"></a>00018     <span class="keywordflow">if</span> (!<a class="code" href="header_8c.html#18b0f0e0dd1185ec13860d2d6e8ad986">headerGetRawEntry</a>(h, <a class="code" href="header_8h.html#da11220b076f11c441c48c3eee9f046a">HEADER_I18NTABLE</a>, &amp;type, (<span class="keyword">const</span> <span class="keywordtype">void</span> **)&amp;s, &amp;count))
<a name="l00019"></a>00019         <span class="keywordflow">return</span> NULL;
<a name="l00020"></a>00020 
<a name="l00021"></a>00021     <span class="comment">/* XXX xcalloc never returns NULL. */</span>
<a name="l00022"></a>00022     <span class="keywordflow">if</span> ((table = (<span class="keywordtype">char</span> **)<a class="code" href="system_8h.html#9533f3165c8a4af7283dce262b32989f">xcalloc</a>((count+1), <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *))) == NULL)
<a name="l00023"></a>00023         <span class="keywordflow">return</span> NULL;
<a name="l00024"></a>00024 
<a name="l00025"></a>00025     <span class="keywordflow">for</span> (i = 0, e = *s; i &lt; count; i++, e += strlen(e)+1)
<a name="l00026"></a>00026         table[i] = e;
<a name="l00027"></a>00027     table[count] = NULL;
<a name="l00028"></a>00028 
<a name="l00029"></a>00029     <span class="comment">/*@-nullret@*/</span> <span class="keywordflow">return</span> table; <span class="comment">/*@=nullret@*/</span> <span class="comment">/* LCL: double indirection? */</span>
<a name="l00030"></a>00030 }
<a name="l00031"></a>00031 <span class="comment">/*@=boundswrite@*/</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="comment">/*@-boundsread@*/</span>
<a name="l00034"></a>00034 <span class="comment">/*@-type@*/</span> <span class="comment">/* FIX: shrug */</span>
<a name="l00035"></a><a class="code" href="group__header.html#ga98fcf6ad8cf9024817db29f3386d057">00035</a> <span class="keywordtype">void</span> <a class="code" href="group__header.html#ga98fcf6ad8cf9024817db29f3386d057" title="Dump a header in human readable format (for debugging).">headerDump</a>(<a class="code" href="structheaderToken__s.html" title="The Header data structure.">Header</a> h, FILE *f, <span class="keywordtype">int</span> flags,
<a name="l00036"></a>00036         <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structheaderTagTableEntry__s.html">headerTagTableEntry_s</a> * tags)
<a name="l00037"></a>00037 {
<a name="l00038"></a>00038     <span class="keywordtype">int</span> i;
<a name="l00039"></a>00039     <a class="code" href="structindexEntry__s.html">indexEntry</a> p;
<a name="l00040"></a>00040     <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structheaderTagTableEntry__s.html">headerTagTableEntry_s</a> * tage;
<a name="l00041"></a>00041     <span class="keyword">const</span> <span class="keywordtype">char</span> * tag;
<a name="l00042"></a>00042     <span class="keywordtype">char</span> * <a class="code" href="structheaderTagTableEntry__s.html#fa403a402609e7bdbcb3df66e960c6e0">type</a>;
<a name="l00043"></a>00043 
<a name="l00044"></a>00044     <span class="comment">/* First write out the length of the index (count of index entries) */</span>
<a name="l00045"></a>00045     fprintf(f, <span class="stringliteral">"Entry count: %d\n"</span>, h-&gt;<a class="code" href="structheaderToken__s.html#3c55a32e598cc231c82a35dbc0c3af76">indexUsed</a>);
<a name="l00046"></a>00046 
<a name="l00047"></a>00047     <span class="comment">/* Now write the index */</span>
<a name="l00048"></a>00048     p = h-&gt;<a class="code" href="structheaderToken__s.html#e84b6f1fb94653e962765b36b239dcb3">index</a>;
<a name="l00049"></a>00049     fprintf(f, <span class="stringliteral">"\n             CT  TAG                  TYPE         "</span>
<a name="l00050"></a>00050                 <span class="stringliteral">"      OFSET      COUNT\n"</span>);
<a name="l00051"></a>00051     <span class="keywordflow">for</span> (i = 0; i &lt; h-&gt;<a class="code" href="structheaderToken__s.html#3c55a32e598cc231c82a35dbc0c3af76">indexUsed</a>; i++) {
<a name="l00052"></a>00052         <span class="keywordflow">switch</span> (p-&gt;<a class="code" href="structindexEntry__s.html#568b3da34af726e053aa1a0ad6b6dcd9">info</a>.<a class="code" href="structentryInfo__s.html#0104b7847b737ad9731c688373de979b">type</a>) {
<a name="l00053"></a>00053         <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c9b9293a4f05e17ddd7ce06969c82804d">RPM_NULL_TYPE</a>:
<a name="l00054"></a>00054             type = <span class="stringliteral">"NULL"</span>;
<a name="l00055"></a>00055             <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00056"></a>00056         <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c8daf4166679a669dbc386857d0adeeee">RPM_CHAR_TYPE</a>:
<a name="l00057"></a>00057             type = <span class="stringliteral">"CHAR"</span>;
<a name="l00058"></a>00058             <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00059"></a>00059         <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43ce200877bfddf86d67887ae94caa2ab20">RPM_BIN_TYPE</a>:
<a name="l00060"></a>00060             type = <span class="stringliteral">"BIN"</span>;
<a name="l00061"></a>00061             <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00062"></a>00062         <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c69d34da1a91526e98e0e3fa4e4023a48">RPM_INT8_TYPE</a>:
<a name="l00063"></a>00063             type = <span class="stringliteral">"INT8"</span>;
<a name="l00064"></a>00064             <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00065"></a>00065         <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43cc6daa18639002b386522d6e3c0ca75ff">RPM_INT16_TYPE</a>:
<a name="l00066"></a>00066             type = <span class="stringliteral">"INT16"</span>;
<a name="l00067"></a>00067             <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00068"></a>00068         <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c0f09132d2e6b1b080b7d26b68309b031">RPM_INT32_TYPE</a>:
<a name="l00069"></a>00069             type = <span class="stringliteral">"INT32"</span>;
<a name="l00070"></a>00070             <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00071"></a>00071         <span class="comment">/*case RPM_INT64_TYPE:          type = "INT64";         break;*/</span>
<a name="l00072"></a>00072         <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43cfe25304f92990326ba5c31d4ced5a84d">RPM_STRING_TYPE</a>:
<a name="l00073"></a>00073             type = <span class="stringliteral">"STRING"</span>;
<a name="l00074"></a>00074             <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00075"></a>00075         <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c5de16ab5e977fbbb00fff7a70a0ff033">RPM_STRING_ARRAY_TYPE</a>:
<a name="l00076"></a>00076             type = <span class="stringliteral">"STRING_ARRAY"</span>;
<a name="l00077"></a>00077             <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00078"></a>00078         <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c73fd7b2e7090776df77af556ea2bd1ce">RPM_I18NSTRING_TYPE</a>:
<a name="l00079"></a>00079             type = <span class="stringliteral">"I18N_STRING"</span>;
<a name="l00080"></a>00080             <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00081"></a>00081         <span class="keywordflow">default</span>:
<a name="l00082"></a>00082             type = <span class="stringliteral">"(unknown)"</span>;
<a name="l00083"></a>00083             <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00084"></a>00084         }
<a name="l00085"></a>00085 
<a name="l00086"></a>00086         tage = tags;
<a name="l00087"></a>00087         <span class="keywordflow">while</span> (tage-&gt;<a class="code" href="structheaderTagTableEntry__s.html#fc7317e0461499b2e13909de87942248">name</a> &amp;&amp; tage-&gt;<a class="code" href="structheaderTagTableEntry__s.html#bc1ecc2fddf430dddd452d16870d29c6">val</a> != p-&gt;<a class="code" href="structindexEntry__s.html#568b3da34af726e053aa1a0ad6b6dcd9">info</a>.<a class="code" href="structentryInfo__s.html#3bc39d59a75010cc176d007c7bf1a1f5">tag</a>) tage++;
<a name="l00088"></a>00088 
<a name="l00089"></a>00089         if (!tage-&gt;<a class="code" href="structheaderTagTableEntry__s.html#fc7317e0461499b2e13909de87942248">name</a>)
<a name="l00090"></a>00090             tag = <span class="stringliteral">"(unknown)"</span>;
<a name="l00091"></a>00091         <span class="keywordflow">else</span>
<a name="l00092"></a>00092             tag = tage-&gt;<a class="code" href="structheaderTagTableEntry__s.html#fc7317e0461499b2e13909de87942248">name</a>;
<a name="l00093"></a>00093 
<a name="l00094"></a>00094         fprintf(f, <span class="stringliteral">"Entry      : %3.3d (%d)%-14s %-18s 0x%.8x %.8d\n"</span>, i,
<a name="l00095"></a>00095                 p-&gt;<a class="code" href="structindexEntry__s.html#568b3da34af726e053aa1a0ad6b6dcd9">info</a>.<a class="code" href="structentryInfo__s.html#3bc39d59a75010cc176d007c7bf1a1f5">tag</a>, tag, type, (<span class="keywordtype">unsigned</span>) p-&gt;<a class="code" href="structindexEntry__s.html#568b3da34af726e053aa1a0ad6b6dcd9">info</a>.<a class="code" href="structentryInfo__s.html#76825a8c10a414fb74c22e0cebb2b234">offset</a>,
<a name="l00096"></a>00096                 (<span class="keywordtype">int</span>) p-&gt;<a class="code" href="structindexEntry__s.html#568b3da34af726e053aa1a0ad6b6dcd9">info</a>.<a class="code" href="structentryInfo__s.html#1e38f0bf179947f7d67864608d9cdce9">count</a>);
<a name="l00097"></a>00097 
<a name="l00098"></a>00098         if (flags &amp; <a class="code" href="header__internal_8h.html#624178334b5e00af57f5475989703cd6">HEADER_DUMP_INLINE</a>) {
<a name="l00099"></a>00099             <span class="keywordtype">char</span> *dp = p-&gt;<a class="code" href="structindexEntry__s.html#5d86f346e5475edead47bdf2aa3238ee">data</a>;
<a name="l00100"></a>00100             <span class="keywordtype">int</span> c = p-&gt;<a class="code" href="structindexEntry__s.html#568b3da34af726e053aa1a0ad6b6dcd9">info</a>.<a class="code" href="structentryInfo__s.html#1e38f0bf179947f7d67864608d9cdce9">count</a>;
<a name="l00101"></a>00101             <span class="keywordtype">int</span> ct = 0;
<a name="l00102"></a>00102 
<a name="l00103"></a>00103             <span class="comment">/* Print the data inline */</span>
<a name="l00104"></a>00104             switch (p-&gt;<a class="code" href="structindexEntry__s.html#568b3da34af726e053aa1a0ad6b6dcd9">info</a>.<a class="code" href="structentryInfo__s.html#0104b7847b737ad9731c688373de979b">type</a>) {
<a name="l00105"></a>00105             <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c0f09132d2e6b1b080b7d26b68309b031">RPM_INT32_TYPE</a>:
<a name="l00106"></a>00106                 while (c--) {
<a name="l00107"></a>00107                     fprintf(f, <span class="stringliteral">"       Data: %.3d 0x%08x (%d)\n"</span>, ct++,
<a name="l00108"></a>00108                             (<span class="keywordtype">unsigned</span>) *((<a class="code" href="header_8h.html#ec881c85645bc01204441cbc24e9c025">int_32</a> *) dp),
<a name="l00109"></a>00109                             (<span class="keywordtype">int</span>) *((int_32 *) dp));
<a name="l00110"></a>00110                     dp += <span class="keyword">sizeof</span>(int_32);
<a name="l00111"></a>00111                 }
<a name="l00112"></a>00112                 <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114             <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43cc6daa18639002b386522d6e3c0ca75ff">RPM_INT16_TYPE</a>:
<a name="l00115"></a>00115                 <span class="keywordflow">while</span> (c--) {
<a name="l00116"></a>00116                     fprintf(f, <span class="stringliteral">"       Data: %.3d 0x%04x (%d)\n"</span>, ct++,
<a name="l00117"></a>00117                             (<span class="keywordtype">unsigned</span>) (*((<a class="code" href="header_8h.html#b6a208567758c1b3a414d16609a553e6">int_16</a> *) dp) &amp; 0xffff),
<a name="l00118"></a>00118                             (<span class="keywordtype">int</span>) *((int_16 *) dp));
<a name="l00119"></a>00119                     dp += <span class="keyword">sizeof</span>(int_16);
<a name="l00120"></a>00120                 }
<a name="l00121"></a>00121                 <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00122"></a>00122             <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c69d34da1a91526e98e0e3fa4e4023a48">RPM_INT8_TYPE</a>:
<a name="l00123"></a>00123                 <span class="keywordflow">while</span> (c--) {
<a name="l00124"></a>00124                     fprintf(f, <span class="stringliteral">"       Data: %.3d 0x%02x (%d)\n"</span>, ct++,
<a name="l00125"></a>00125                             (<span class="keywordtype">unsigned</span>) (*((<a class="code" href="header_8h.html#eab3da6f428eaba98fbe2c735462c524">int_8</a> *) dp) &amp; 0xff),
<a name="l00126"></a>00126                             (<span class="keywordtype">int</span>) *((int_8 *) dp));
<a name="l00127"></a>00127                     dp += <span class="keyword">sizeof</span>(int_8);
<a name="l00128"></a>00128                 }
<a name="l00129"></a>00129                 <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00130"></a>00130             <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43ce200877bfddf86d67887ae94caa2ab20">RPM_BIN_TYPE</a>:
<a name="l00131"></a>00131                 <span class="keywordflow">while</span> (c &gt; 0) {
<a name="l00132"></a>00132                     fprintf(f, <span class="stringliteral">"       Data: %.3d "</span>, ct);
<a name="l00133"></a>00133                     <span class="keywordflow">while</span> (c--) {
<a name="l00134"></a>00134                         fprintf(f, <span class="stringliteral">"%02x "</span>, (<span class="keywordtype">unsigned</span>) (*(<a class="code" href="header_8h.html#eab3da6f428eaba98fbe2c735462c524">int_8</a> *)dp &amp; 0xff));
<a name="l00135"></a>00135                         ct++;
<a name="l00136"></a>00136                         dp += <span class="keyword">sizeof</span>(int_8);
<a name="l00137"></a>00137                         <span class="keywordflow">if</span> (! (ct % 8)) {
<a name="l00138"></a>00138                             <span class="comment">/*@loopbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00139"></a>00139                         }
<a name="l00140"></a>00140                     }
<a name="l00141"></a>00141                     fprintf(f, <span class="stringliteral">"\n"</span>);
<a name="l00142"></a>00142                 }
<a name="l00143"></a>00143                 <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00144"></a>00144             <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c8daf4166679a669dbc386857d0adeeee">RPM_CHAR_TYPE</a>:
<a name="l00145"></a>00145                 <span class="keywordflow">while</span> (c--) {
<a name="l00146"></a>00146                     <span class="keywordtype">char</span> ch = (char) *((<span class="keywordtype">char</span> *) dp);
<a name="l00147"></a>00147                     fprintf(f, <span class="stringliteral">"       Data: %.3d 0x%2x %c (%d)\n"</span>, ct++,
<a name="l00148"></a>00148                             (<span class="keywordtype">unsigned</span>)(ch &amp; 0xff),
<a name="l00149"></a>00149                             (isprint(ch) ? ch : <span class="charliteral">' '</span>),
<a name="l00150"></a>00150                             (<span class="keywordtype">int</span>) *((<span class="keywordtype">char</span> *) dp));
<a name="l00151"></a>00151                     dp += <span class="keyword">sizeof</span>(char);
<a name="l00152"></a>00152                 }
<a name="l00153"></a>00153                 <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00154"></a>00154             <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43cfe25304f92990326ba5c31d4ced5a84d">RPM_STRING_TYPE</a>:
<a name="l00155"></a>00155             <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c5de16ab5e977fbbb00fff7a70a0ff033">RPM_STRING_ARRAY_TYPE</a>:
<a name="l00156"></a>00156             <span class="keywordflow">case</span> <a class="code" href="group__header.html#gg4342aae7379e715a6b927663b340f43c73fd7b2e7090776df77af556ea2bd1ce">RPM_I18NSTRING_TYPE</a>:
<a name="l00157"></a>00157                 <span class="keywordflow">while</span> (c--) {
<a name="l00158"></a>00158                     fprintf(f, <span class="stringliteral">"       Data: %.3d %s\n"</span>, ct++, (<span class="keywordtype">char</span> *) dp);
<a name="l00159"></a>00159                     dp = strchr(dp, 0);
<a name="l00160"></a>00160                     dp++;
<a name="l00161"></a>00161                 }
<a name="l00162"></a>00162                 <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00163"></a>00163             <span class="keywordflow">default</span>:
<a name="l00164"></a>00164                 fprintf(stderr, <a class="code" href="system_8h.html#2ec2c1c3098396e2d147d58b66f18ceb">_</a>(<span class="stringliteral">"Data type %d not supported\n"</span>), 
<a name="l00165"></a>00165                         (<span class="keywordtype">int</span>) p-&gt;<a class="code" href="structindexEntry__s.html#568b3da34af726e053aa1a0ad6b6dcd9">info</a>.<a class="code" href="structentryInfo__s.html#0104b7847b737ad9731c688373de979b">type</a>);
<a name="l00166"></a>00166                 <span class="comment">/*@switchbreak@*/</span> <span class="keywordflow">break</span>;
<a name="l00167"></a>00167             }
<a name="l00168"></a>00168         }
<a name="l00169"></a>00169         p++;
<a name="l00170"></a>00170     }
<a name="l00171"></a>00171 }
<a name="l00172"></a>00172 <span class="comment">/*@=type@*/</span>
<a name="l00173"></a>00173 <span class="comment">/*@=sizeoftype@*/</span>
<a name="l00174"></a>00174 <span class="comment">/*@=boundsread@*/</span>
<a name="l00175"></a>00175 
<a name="l00176"></a><a class="code" href="group__header.html#g00fdea19258bd4206809d4da32e75328">00176</a> <span class="keywordtype">char</span> * <a class="code" href="group__header.html#g00fdea19258bd4206809d4da32e75328" title="Convert binary blob to printable hex string.">bin2hex</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *data, <span class="keywordtype">size_t</span> size)
<a name="l00177"></a>00177 {
<a name="l00178"></a>00178     <span class="keyword">static</span> <span class="keywordtype">char</span> hex[] = <span class="stringliteral">"0123456789abcdef"</span>;
<a name="l00179"></a>00179     <span class="keyword">const</span> <span class="keywordtype">char</span> * s = data;
<a name="l00180"></a>00180     <span class="keywordtype">char</span> * t, * <a class="code" href="structheaderTagTableEntry__s.html#bc1ecc2fddf430dddd452d16870d29c6">val</a>;
<a name="l00181"></a>00181     val = t = <a class="code" href="system_8h.html#2ff4ef58da7e543466e75f20f2a2d8b7">xmalloc</a>(size * 2 + 1);
<a name="l00182"></a>00182     <span class="keywordflow">while</span> (size-- &gt; 0) {
<a name="l00183"></a>00183         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
<a name="l00184"></a>00184         i = *s++;
<a name="l00185"></a>00185         *t++ = hex[ (i &gt;&gt; 4) &amp; 0xf ];
<a name="l00186"></a>00186         *t++ = hex[ (i     ) &amp; 0xf ];
<a name="l00187"></a>00187     }
<a name="l00188"></a>00188     *t = <span class="charliteral">'\0'</span>;
<a name="l00189"></a>00189 
<a name="l00190"></a>00190     <span class="keywordflow">return</span> val;
<a name="l00191"></a>00191 }
<a name="l00192"></a>00192     
<a name="l00193"></a>00193     
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 12 08:44:54 2007 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
