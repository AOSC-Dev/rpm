<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: lib/fsm.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul>
</div>
<h1>lib/fsm.h File Reference</h1>File state machine to handle a payload within an rpm package. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="cpio_8h-source.html">cpio.h</a>&quot;</code><br>

<p>
<a href="fsm_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhardLink__s.html">hardLink_s</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Keeps track of the set of all hard links to a file in an archive.  <a href="structhardLink__s.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfsmIterator__s.html">fsmIterator_s</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterator across package file info, forward on install, backward on erase.  <a href="structfsmIterator__s.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfsm__s.html">fsm_s</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">File <a class="el" href="structname.html">name</a> and stat information.  <a href="structfsm__s.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#d102520c9f6720dcf122268db4e11e95">FSM_VERBOSE</a>&nbsp;&nbsp;&nbsp;0x8000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#1bef3bf78d816388d88e6262465cde19">FSM_INTERNAL</a>&nbsp;&nbsp;&nbsp;0x4000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#3223a4205dcc762e115d79397f4791c1">FSM_SYSCALL</a>&nbsp;&nbsp;&nbsp;0x2000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#288ca1948881165a067816a5b2bc4e3d">FSM_DEAD</a>&nbsp;&nbsp;&nbsp;0x1000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#1e9d8e14212ba0c6a9e2c2745cc87afc">_fv</a>(_a)&nbsp;&nbsp;&nbsp;((_a) | FSM_VERBOSE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#e4616f3bd45034bcb42462b57caaf25a">_fi</a>(_a)&nbsp;&nbsp;&nbsp;((_a) | FSM_INTERNAL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#70df01ff72faea4afc12652c9e10eb67">_fs</a>(_a)&nbsp;&nbsp;&nbsp;((_a) | (FSM_INTERNAL | FSM_SYSCALL))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#c1fb81e93eb1a3c7bef6a0744b2b6f71">_fd</a>(_a)&nbsp;&nbsp;&nbsp;((_a) | (FSM_INTERNAL | FSM_DEAD))</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef enum <a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452">fileStage_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452">fileStage_e</a> { <br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452b832487c2611296f132365ac51d0e023">FSM_UNKNOWN</a> =  0, 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452d577ae52b65607332e43f7dd9aa68f55">FSM_INIT</a> =  (( 1 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452cc786b61ee1bd2df93850e09f613d805">FSM_PRE</a> =  (( 2 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4525ce36da107c022e04c43298a1af3a007">FSM_PROCESS</a> =  (( 3 ) | 0x8000 ), 
<br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc45262f0fec43f8bb4411961acf383d8a86b">FSM_POST</a> =  (( 4 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452c2932debdd2a3b0b0fe86dbc86b1e873">FSM_UNDO</a> =  5, 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452d826a541a6750b0ffbd4f93f5a3012d8">FSM_FINI</a> =  6, 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc45209231ed883a0ccbd29c5bb86aeb3c57e">FSM_PKGINSTALL</a> =  (( 7 ) | ( 0x4000 | 0x1000 )), 
<br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc45279fcf20c3562c3fb85220d2c46d098a3">FSM_PKGERASE</a> =  (( 8 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4525457310f4ad7ecf16136f8de7c869277">FSM_PKGBUILD</a> =  (( 9 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452c2d50ea36b03c8ec6dc6c2b5a47cba46">FSM_PKGCOMMIT</a> =  (( 10 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452c1f1dec9ff18f7bad6e721b87fc6b970">FSM_PKGUNDO</a> =  (( 11 ) | ( 0x4000 | 0x1000 )), 
<br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4526995a48127c97a657880f596f22570a2">FSM_CREATE</a> =  (( 17 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc45255b09b0215f12140403fbbfa7ad647a3">FSM_MAP</a> =  (( 18 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452cb03d554c418cea506c948af046f819c">FSM_MKDIRS</a> =  (( 19 ) | 0x4000 ), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4524f000e0f91eb552a4272c8373d2d71f7">FSM_RMDIRS</a> =  (( 20 ) | 0x4000 ), 
<br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452fef2b4b17cf9c2b2c127b2e2461b2a5a">FSM_MKLINKS</a> =  (( 21 ) | 0x4000 ), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452fdc0a98795027a9a343cb8468c2074e6">FSM_NOTIFY</a> =  (( 22 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc45241ef66ff78867ee0e0bab88c2d973294">FSM_DESTROY</a> =  (( 23 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452ea2c4dbbb9e603d9a7217584e5f43824">FSM_VERIFY</a> =  (( 24 ) | ( 0x4000 | 0x1000 )), 
<br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4520a6c510c2b2b3cad342aafd895103e50">FSM_COMMIT</a> =  (( 25 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452d1a3135381df0b67e4f43242aeb2e0f9">FSM_UNLINK</a> =  (( 33 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc45294461187651e936e67ceb6192674fed7">FSM_RENAME</a> =  (( 34 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452521a68c56ac73d1ff02e904d90492cce">FSM_MKDIR</a> =  (( 35 ) | ( 0x4000 | 0x2000 )), 
<br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4520cab91415883e1a21162dd617bdcd6da">FSM_RMDIR</a> =  (( 36 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452132ce1a922a82ca3e960345881777552">FSM_LSETFCON</a> =  (( 39 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc45245e109a6453f7b699a2519833fd0a84b">FSM_CHOWN</a> =  (( 40 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc45209c6764827ee34202e3b3fdeccf43770">FSM_LCHOWN</a> =  (( 41 ) | ( 0x4000 | 0x2000 )), 
<br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc45205b438ddf396dce086c825b5eb4a0133">FSM_CHMOD</a> =  (( 42 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452c7077e4163914aa9516bb6634d41463d">FSM_UTIME</a> =  (( 43 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4527293c5fdad84817bac9ccd2482aeb2a6">FSM_SYMLINK</a> =  (( 44 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452e4050a267ba77b53c5ce751062f3f0c9">FSM_LINK</a> =  (( 45 ) | ( 0x4000 | 0x2000 )), 
<br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452ced8ea36357942863a1bf05fb8d8a7d7">FSM_MKFIFO</a> =  (( 46 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452af927b348c046422ada46fd0c9206748">FSM_MKNOD</a> =  (( 47 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452c14737c46922fefb101602543a0ddacb">FSM_LSTAT</a> =  (( 48 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4527cff4f22668fe661b791651fea2f1dab">FSM_STAT</a> =  (( 49 ) | ( 0x4000 | 0x2000 )), 
<br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4525a5e162d7e218ad162e17a7a9d8cf3f1">FSM_READLINK</a> =  (( 50 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452fb0d58c2ef629621671ec54acf98bc4a">FSM_CHROOT</a> =  (( 51 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc45271dd6f1508bddc83c67798efaa8a58b7">FSM_NEXT</a> =  (( 65 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4527f80e6c393aa30330ed52aec1ab1a663">FSM_EAT</a> =  (( 66 ) | ( 0x4000 | 0x1000 )), 
<br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4526b9e8ee4ac25c4e74fc8d394e7424b8d">FSM_POS</a> =  (( 67 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452d879219cd22e4c5fd9bb012cf9908ac3">FSM_PAD</a> =  (( 68 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452ec358073676159e71d37a4747146640c">FSM_TRAILER</a> =  (( 69 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452c84812a02ee5ae0801dfb5dd81764557">FSM_HREAD</a> =  (( 70 ) | ( 0x4000 | 0x1000 )), 
<br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4527d3ffad609d9e2aee93eea5ad12da67f">FSM_HWRITE</a> =  (( 71 ) | ( 0x4000 | 0x1000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452fedb55217c2d9644549604f2d8f37ea1">FSM_DREAD</a> =  (( 72 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4526524a4e5d4bbbb7b0c9c134b4e558b83">FSM_DWRITE</a> =  (( 73 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452f536b77beea08bb509ebcb64848da31c">FSM_ROPEN</a> =  (( 129 ) | ( 0x4000 | 0x2000 )), 
<br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452ce99bb73bfc3509e90f18c53d3c3888c">FSM_READ</a> =  (( 130 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc45224c1f08820c09b3a73cc99e96fd31561">FSM_RCLOSE</a> =  (( 131 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4526ca0424d7c1da847f75997facbd00f76">FSM_WOPEN</a> =  (( 132 ) | ( 0x4000 | 0x2000 )), 
<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc4529cd1eda1ad81aff279262dae2ef1b825">FSM_WRITE</a> =  (( 133 ) | ( 0x4000 | 0x2000 )), 
<br>
&nbsp;&nbsp;<a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452eb1a99b2b31864c90f07457939bae1f1">FSM_WCLOSE</a> =  (( 134 ) | ( 0x4000 | 0x2000 ))
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *const&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#410ee9097708efa9da4cc2d8843baba8">fileStageString</a> (<a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a> a)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return formatted string representation of file stages.  <a href="#410ee9097708efa9da4cc2d8843baba8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *const&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#fed7a234831f706bc74dbcb2da055fcd">fileActionString</a> (<a class="el" href="rpmlib_8h.html#08a1787ab1f9297419fc4d37b587cdee">fileAction</a> a)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return formatted string representation of file disposition.  <a href="#fed7a234831f706bc74dbcb2da055fcd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#77f09b9b5a7d08b3e85caf7d201fa843">newFSM</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create file state machine instance.  <a href="#77f09b9b5a7d08b3e85caf7d201fa843"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#08c4a7eb02d4f91e545f90d070d4104c">freeFSM</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy file state machine instance.  <a href="#08c4a7eb02d4f91e545f90d070d4104c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#6e6fb0ed805d1c2d07ede70f4947dcef">fsmSetup</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm, <a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a> goal, const <a class="el" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb">rpmts</a> ts, const <a class="el" href="rpmlib_8h.html#2f4e0bf6f106ed6889162837ce39b83e">rpmfi</a> fi, <a class="el" href="struct__FD__s.html">FD_t</a> cfd, unsigned int *archiveSize, const char **failedFile)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load external data into file state machine.  <a href="#6e6fb0ed805d1c2d07ede70f4947dcef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#0c1d23991daeaa4b7adddf3901cc6f01">fsmTeardown</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clean file state machine.  <a href="#0c1d23991daeaa4b7adddf3901cc6f01"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb">rpmts</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#79af3076ba347b7d1fea192fb7bf911e">fsmGetTs</a> (const <a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve transaction set from file state machine iterator.  <a href="#79af3076ba347b7d1fea192fb7bf911e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="rpmlib_8h.html#2f4e0bf6f106ed6889162837ce39b83e">rpmfi</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#a372483e106d9a40cdff9929008331a3">fsmGetFi</a> (const <a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve transaction element file info from file state machine iterator.  <a href="#a372483e106d9a40cdff9929008331a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#b5ec0917e40a7ef6bf78edc5ffdde5bd">fsmMapPath</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Map next file path and action.  <a href="#b5ec0917e40a7ef6bf78edc5ffdde5bd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#224238bdc8ab4145c31943f6ddf2e3fb">fsmMapAttrs</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Map file stat(2) info.  <a href="#224238bdc8ab4145c31943f6ddf2e3fb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#5cd1965aa3d5448685dfc97fd6d183ff">fsmNext</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm, <a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a> nstage)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">File state machine driver.  <a href="#5cd1965aa3d5448685dfc97fd6d183ff"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#ad84b5d64310b6ed28dcd49746a2506f">fsmStage</a> (<a class="el" href="structfsm__s.html">FSM_t</a> fsm, <a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a> stage)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">File state machine driver.  <a href="#ad84b5d64310b6ed28dcd49746a2506f"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm_8h.html#76ef6b61d6c034d5d7a84280e388f483">_fsm_debug</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
File state machine to handle a payload within an rpm package. 
<p>

<p>
Definition in file <a class="el" href="fsm_8h-source.html">fsm.h</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="c1fb81e93eb1a3c7bef6a0744b2b6f71"></a><!-- doxytag: member="fsm.h::_fd" ref="c1fb81e93eb1a3c7bef6a0744b2b6f71" args="(_a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _fd          </td>
          <td>(</td>
          <td class="paramtype">_a&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;((_a) | (FSM_INTERNAL | FSM_DEAD))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8h-source.html#l00026">26</a> of file <a class="el" href="fsm_8h-source.html">fsm.h</a>.
</div>
</div><p>
<a class="anchor" name="e4616f3bd45034bcb42462b57caaf25a"></a><!-- doxytag: member="fsm.h::_fi" ref="e4616f3bd45034bcb42462b57caaf25a" args="(_a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _fi          </td>
          <td>(</td>
          <td class="paramtype">_a&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;((_a) | FSM_INTERNAL)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8h-source.html#l00024">24</a> of file <a class="el" href="fsm_8h-source.html">fsm.h</a>.
</div>
</div><p>
<a class="anchor" name="70df01ff72faea4afc12652c9e10eb67"></a><!-- doxytag: member="fsm.h::_fs" ref="70df01ff72faea4afc12652c9e10eb67" args="(_a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _fs          </td>
          <td>(</td>
          <td class="paramtype">_a&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;((_a) | (FSM_INTERNAL | FSM_SYSCALL))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8h-source.html#l00025">25</a> of file <a class="el" href="fsm_8h-source.html">fsm.h</a>.
</div>
</div><p>
<a class="anchor" name="1e9d8e14212ba0c6a9e2c2745cc87afc"></a><!-- doxytag: member="fsm.h::_fv" ref="1e9d8e14212ba0c6a9e2c2745cc87afc" args="(_a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _fv          </td>
          <td>(</td>
          <td class="paramtype">_a&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;((_a) | FSM_VERBOSE)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8h-source.html#l00023">23</a> of file <a class="el" href="fsm_8h-source.html">fsm.h</a>.
</div>
</div><p>
<a class="anchor" name="288ca1948881165a067816a5b2bc4e3d"></a><!-- doxytag: member="fsm.h::FSM_DEAD" ref="288ca1948881165a067816a5b2bc4e3d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSM_DEAD&nbsp;&nbsp;&nbsp;0x1000          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8h-source.html#l00021">21</a> of file <a class="el" href="fsm_8h-source.html">fsm.h</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="1bef3bf78d816388d88e6262465cde19"></a><!-- doxytag: member="fsm.h::FSM_INTERNAL" ref="1bef3bf78d816388d88e6262465cde19" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSM_INTERNAL&nbsp;&nbsp;&nbsp;0x4000          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8h-source.html#l00019">19</a> of file <a class="el" href="fsm_8h-source.html">fsm.h</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="3223a4205dcc762e115d79397f4791c1"></a><!-- doxytag: member="fsm.h::FSM_SYSCALL" ref="3223a4205dcc762e115d79397f4791c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSM_SYSCALL&nbsp;&nbsp;&nbsp;0x2000          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8h-source.html#l00020">20</a> of file <a class="el" href="fsm_8h-source.html">fsm.h</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="d102520c9f6720dcf122268db4e11e95"></a><!-- doxytag: member="fsm.h::FSM_VERBOSE" ref="d102520c9f6720dcf122268db4e11e95" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSM_VERBOSE&nbsp;&nbsp;&nbsp;0x8000          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8h-source.html#l00018">18</a> of file <a class="el" href="fsm_8h-source.html">fsm.h</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="42d68171cc4a6c0495fae9cddb9066d5"></a><!-- doxytag: member="fsm.h::fileStage" ref="42d68171cc4a6c0495fae9cddb9066d5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452">fileStage_e</a>  <a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452"></a><!-- doxytag: member="fsm.h::fileStage_e" ref="4213dbca0b428003ba8d02d31c2cc452" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="fsm_8h.html#4213dbca0b428003ba8d02d31c2cc452">fileStage_e</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452b832487c2611296f132365ac51d0e023"></a><!-- doxytag: member="FSM_UNKNOWN" ref="4213dbca0b428003ba8d02d31c2cc452b832487c2611296f132365ac51d0e023" args="" -->FSM_UNKNOWN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452d577ae52b65607332e43f7dd9aa68f55"></a><!-- doxytag: member="FSM_INIT" ref="4213dbca0b428003ba8d02d31c2cc452d577ae52b65607332e43f7dd9aa68f55" args="" -->FSM_INIT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452cc786b61ee1bd2df93850e09f613d805"></a><!-- doxytag: member="FSM_PRE" ref="4213dbca0b428003ba8d02d31c2cc452cc786b61ee1bd2df93850e09f613d805" args="" -->FSM_PRE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4525ce36da107c022e04c43298a1af3a007"></a><!-- doxytag: member="FSM_PROCESS" ref="4213dbca0b428003ba8d02d31c2cc4525ce36da107c022e04c43298a1af3a007" args="" -->FSM_PROCESS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc45262f0fec43f8bb4411961acf383d8a86b"></a><!-- doxytag: member="FSM_POST" ref="4213dbca0b428003ba8d02d31c2cc45262f0fec43f8bb4411961acf383d8a86b" args="" -->FSM_POST</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452c2932debdd2a3b0b0fe86dbc86b1e873"></a><!-- doxytag: member="FSM_UNDO" ref="4213dbca0b428003ba8d02d31c2cc452c2932debdd2a3b0b0fe86dbc86b1e873" args="" -->FSM_UNDO</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452d826a541a6750b0ffbd4f93f5a3012d8"></a><!-- doxytag: member="FSM_FINI" ref="4213dbca0b428003ba8d02d31c2cc452d826a541a6750b0ffbd4f93f5a3012d8" args="" -->FSM_FINI</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc45209231ed883a0ccbd29c5bb86aeb3c57e"></a><!-- doxytag: member="FSM_PKGINSTALL" ref="4213dbca0b428003ba8d02d31c2cc45209231ed883a0ccbd29c5bb86aeb3c57e" args="" -->FSM_PKGINSTALL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc45279fcf20c3562c3fb85220d2c46d098a3"></a><!-- doxytag: member="FSM_PKGERASE" ref="4213dbca0b428003ba8d02d31c2cc45279fcf20c3562c3fb85220d2c46d098a3" args="" -->FSM_PKGERASE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4525457310f4ad7ecf16136f8de7c869277"></a><!-- doxytag: member="FSM_PKGBUILD" ref="4213dbca0b428003ba8d02d31c2cc4525457310f4ad7ecf16136f8de7c869277" args="" -->FSM_PKGBUILD</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452c2d50ea36b03c8ec6dc6c2b5a47cba46"></a><!-- doxytag: member="FSM_PKGCOMMIT" ref="4213dbca0b428003ba8d02d31c2cc452c2d50ea36b03c8ec6dc6c2b5a47cba46" args="" -->FSM_PKGCOMMIT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452c1f1dec9ff18f7bad6e721b87fc6b970"></a><!-- doxytag: member="FSM_PKGUNDO" ref="4213dbca0b428003ba8d02d31c2cc452c1f1dec9ff18f7bad6e721b87fc6b970" args="" -->FSM_PKGUNDO</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4526995a48127c97a657880f596f22570a2"></a><!-- doxytag: member="FSM_CREATE" ref="4213dbca0b428003ba8d02d31c2cc4526995a48127c97a657880f596f22570a2" args="" -->FSM_CREATE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc45255b09b0215f12140403fbbfa7ad647a3"></a><!-- doxytag: member="FSM_MAP" ref="4213dbca0b428003ba8d02d31c2cc45255b09b0215f12140403fbbfa7ad647a3" args="" -->FSM_MAP</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452cb03d554c418cea506c948af046f819c"></a><!-- doxytag: member="FSM_MKDIRS" ref="4213dbca0b428003ba8d02d31c2cc452cb03d554c418cea506c948af046f819c" args="" -->FSM_MKDIRS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4524f000e0f91eb552a4272c8373d2d71f7"></a><!-- doxytag: member="FSM_RMDIRS" ref="4213dbca0b428003ba8d02d31c2cc4524f000e0f91eb552a4272c8373d2d71f7" args="" -->FSM_RMDIRS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452fef2b4b17cf9c2b2c127b2e2461b2a5a"></a><!-- doxytag: member="FSM_MKLINKS" ref="4213dbca0b428003ba8d02d31c2cc452fef2b4b17cf9c2b2c127b2e2461b2a5a" args="" -->FSM_MKLINKS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452fdc0a98795027a9a343cb8468c2074e6"></a><!-- doxytag: member="FSM_NOTIFY" ref="4213dbca0b428003ba8d02d31c2cc452fdc0a98795027a9a343cb8468c2074e6" args="" -->FSM_NOTIFY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc45241ef66ff78867ee0e0bab88c2d973294"></a><!-- doxytag: member="FSM_DESTROY" ref="4213dbca0b428003ba8d02d31c2cc45241ef66ff78867ee0e0bab88c2d973294" args="" -->FSM_DESTROY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452ea2c4dbbb9e603d9a7217584e5f43824"></a><!-- doxytag: member="FSM_VERIFY" ref="4213dbca0b428003ba8d02d31c2cc452ea2c4dbbb9e603d9a7217584e5f43824" args="" -->FSM_VERIFY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4520a6c510c2b2b3cad342aafd895103e50"></a><!-- doxytag: member="FSM_COMMIT" ref="4213dbca0b428003ba8d02d31c2cc4520a6c510c2b2b3cad342aafd895103e50" args="" -->FSM_COMMIT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452d1a3135381df0b67e4f43242aeb2e0f9"></a><!-- doxytag: member="FSM_UNLINK" ref="4213dbca0b428003ba8d02d31c2cc452d1a3135381df0b67e4f43242aeb2e0f9" args="" -->FSM_UNLINK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc45294461187651e936e67ceb6192674fed7"></a><!-- doxytag: member="FSM_RENAME" ref="4213dbca0b428003ba8d02d31c2cc45294461187651e936e67ceb6192674fed7" args="" -->FSM_RENAME</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452521a68c56ac73d1ff02e904d90492cce"></a><!-- doxytag: member="FSM_MKDIR" ref="4213dbca0b428003ba8d02d31c2cc452521a68c56ac73d1ff02e904d90492cce" args="" -->FSM_MKDIR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4520cab91415883e1a21162dd617bdcd6da"></a><!-- doxytag: member="FSM_RMDIR" ref="4213dbca0b428003ba8d02d31c2cc4520cab91415883e1a21162dd617bdcd6da" args="" -->FSM_RMDIR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452132ce1a922a82ca3e960345881777552"></a><!-- doxytag: member="FSM_LSETFCON" ref="4213dbca0b428003ba8d02d31c2cc452132ce1a922a82ca3e960345881777552" args="" -->FSM_LSETFCON</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc45245e109a6453f7b699a2519833fd0a84b"></a><!-- doxytag: member="FSM_CHOWN" ref="4213dbca0b428003ba8d02d31c2cc45245e109a6453f7b699a2519833fd0a84b" args="" -->FSM_CHOWN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc45209c6764827ee34202e3b3fdeccf43770"></a><!-- doxytag: member="FSM_LCHOWN" ref="4213dbca0b428003ba8d02d31c2cc45209c6764827ee34202e3b3fdeccf43770" args="" -->FSM_LCHOWN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc45205b438ddf396dce086c825b5eb4a0133"></a><!-- doxytag: member="FSM_CHMOD" ref="4213dbca0b428003ba8d02d31c2cc45205b438ddf396dce086c825b5eb4a0133" args="" -->FSM_CHMOD</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452c7077e4163914aa9516bb6634d41463d"></a><!-- doxytag: member="FSM_UTIME" ref="4213dbca0b428003ba8d02d31c2cc452c7077e4163914aa9516bb6634d41463d" args="" -->FSM_UTIME</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4527293c5fdad84817bac9ccd2482aeb2a6"></a><!-- doxytag: member="FSM_SYMLINK" ref="4213dbca0b428003ba8d02d31c2cc4527293c5fdad84817bac9ccd2482aeb2a6" args="" -->FSM_SYMLINK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452e4050a267ba77b53c5ce751062f3f0c9"></a><!-- doxytag: member="FSM_LINK" ref="4213dbca0b428003ba8d02d31c2cc452e4050a267ba77b53c5ce751062f3f0c9" args="" -->FSM_LINK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452ced8ea36357942863a1bf05fb8d8a7d7"></a><!-- doxytag: member="FSM_MKFIFO" ref="4213dbca0b428003ba8d02d31c2cc452ced8ea36357942863a1bf05fb8d8a7d7" args="" -->FSM_MKFIFO</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452af927b348c046422ada46fd0c9206748"></a><!-- doxytag: member="FSM_MKNOD" ref="4213dbca0b428003ba8d02d31c2cc452af927b348c046422ada46fd0c9206748" args="" -->FSM_MKNOD</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452c14737c46922fefb101602543a0ddacb"></a><!-- doxytag: member="FSM_LSTAT" ref="4213dbca0b428003ba8d02d31c2cc452c14737c46922fefb101602543a0ddacb" args="" -->FSM_LSTAT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4527cff4f22668fe661b791651fea2f1dab"></a><!-- doxytag: member="FSM_STAT" ref="4213dbca0b428003ba8d02d31c2cc4527cff4f22668fe661b791651fea2f1dab" args="" -->FSM_STAT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4525a5e162d7e218ad162e17a7a9d8cf3f1"></a><!-- doxytag: member="FSM_READLINK" ref="4213dbca0b428003ba8d02d31c2cc4525a5e162d7e218ad162e17a7a9d8cf3f1" args="" -->FSM_READLINK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452fb0d58c2ef629621671ec54acf98bc4a"></a><!-- doxytag: member="FSM_CHROOT" ref="4213dbca0b428003ba8d02d31c2cc452fb0d58c2ef629621671ec54acf98bc4a" args="" -->FSM_CHROOT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc45271dd6f1508bddc83c67798efaa8a58b7"></a><!-- doxytag: member="FSM_NEXT" ref="4213dbca0b428003ba8d02d31c2cc45271dd6f1508bddc83c67798efaa8a58b7" args="" -->FSM_NEXT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4527f80e6c393aa30330ed52aec1ab1a663"></a><!-- doxytag: member="FSM_EAT" ref="4213dbca0b428003ba8d02d31c2cc4527f80e6c393aa30330ed52aec1ab1a663" args="" -->FSM_EAT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4526b9e8ee4ac25c4e74fc8d394e7424b8d"></a><!-- doxytag: member="FSM_POS" ref="4213dbca0b428003ba8d02d31c2cc4526b9e8ee4ac25c4e74fc8d394e7424b8d" args="" -->FSM_POS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452d879219cd22e4c5fd9bb012cf9908ac3"></a><!-- doxytag: member="FSM_PAD" ref="4213dbca0b428003ba8d02d31c2cc452d879219cd22e4c5fd9bb012cf9908ac3" args="" -->FSM_PAD</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452ec358073676159e71d37a4747146640c"></a><!-- doxytag: member="FSM_TRAILER" ref="4213dbca0b428003ba8d02d31c2cc452ec358073676159e71d37a4747146640c" args="" -->FSM_TRAILER</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452c84812a02ee5ae0801dfb5dd81764557"></a><!-- doxytag: member="FSM_HREAD" ref="4213dbca0b428003ba8d02d31c2cc452c84812a02ee5ae0801dfb5dd81764557" args="" -->FSM_HREAD</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4527d3ffad609d9e2aee93eea5ad12da67f"></a><!-- doxytag: member="FSM_HWRITE" ref="4213dbca0b428003ba8d02d31c2cc4527d3ffad609d9e2aee93eea5ad12da67f" args="" -->FSM_HWRITE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452fedb55217c2d9644549604f2d8f37ea1"></a><!-- doxytag: member="FSM_DREAD" ref="4213dbca0b428003ba8d02d31c2cc452fedb55217c2d9644549604f2d8f37ea1" args="" -->FSM_DREAD</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4526524a4e5d4bbbb7b0c9c134b4e558b83"></a><!-- doxytag: member="FSM_DWRITE" ref="4213dbca0b428003ba8d02d31c2cc4526524a4e5d4bbbb7b0c9c134b4e558b83" args="" -->FSM_DWRITE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452f536b77beea08bb509ebcb64848da31c"></a><!-- doxytag: member="FSM_ROPEN" ref="4213dbca0b428003ba8d02d31c2cc452f536b77beea08bb509ebcb64848da31c" args="" -->FSM_ROPEN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452ce99bb73bfc3509e90f18c53d3c3888c"></a><!-- doxytag: member="FSM_READ" ref="4213dbca0b428003ba8d02d31c2cc452ce99bb73bfc3509e90f18c53d3c3888c" args="" -->FSM_READ</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc45224c1f08820c09b3a73cc99e96fd31561"></a><!-- doxytag: member="FSM_RCLOSE" ref="4213dbca0b428003ba8d02d31c2cc45224c1f08820c09b3a73cc99e96fd31561" args="" -->FSM_RCLOSE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4526ca0424d7c1da847f75997facbd00f76"></a><!-- doxytag: member="FSM_WOPEN" ref="4213dbca0b428003ba8d02d31c2cc4526ca0424d7c1da847f75997facbd00f76" args="" -->FSM_WOPEN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc4529cd1eda1ad81aff279262dae2ef1b825"></a><!-- doxytag: member="FSM_WRITE" ref="4213dbca0b428003ba8d02d31c2cc4529cd1eda1ad81aff279262dae2ef1b825" args="" -->FSM_WRITE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="4213dbca0b428003ba8d02d31c2cc452eb1a99b2b31864c90f07457939bae1f1"></a><!-- doxytag: member="FSM_WCLOSE" ref="4213dbca0b428003ba8d02d31c2cc452eb1a99b2b31864c90f07457939bae1f1" args="" -->FSM_WCLOSE</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="fsm_8h-source.html#l00028">28</a> of file <a class="el" href="fsm_8h-source.html">fsm.h</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="fed7a234831f706bc74dbcb2da055fcd"></a><!-- doxytag: member="fsm.h::fileActionString" ref="fed7a234831f706bc74dbcb2da055fcd" args="(fileAction a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* const fileActionString           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rpmlib_8h.html#08a1787ab1f9297419fc4d37b587cdee">fileAction</a>&nbsp;</td>
          <td class="paramname"> <em>a</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return formatted string representation of file disposition. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>file dispostion </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>formatted string </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l02455">2455</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00841">FA_ALTNAME</a>, <a class="el" href="rpmlib_8h-source.html#l00838">FA_BACKUP</a>, <a class="el" href="rpmlib_8h-source.html#l00836">FA_COPYIN</a>, <a class="el" href="rpmlib_8h-source.html#l00837">FA_COPYOUT</a>, <a class="el" href="rpmlib_8h-source.html#l00835">FA_CREATE</a>, <a class="el" href="rpmlib_8h-source.html#l00842">FA_ERASE</a>, <a class="el" href="rpmlib_8h-source.html#l00839">FA_SAVE</a>, <a class="el" href="rpmlib_8h-source.html#l00840">FA_SKIP</a>, <a class="el" href="rpmlib_8h-source.html#l00845">FA_SKIPCOLOR</a>, <a class="el" href="rpmlib_8h-source.html#l00844">FA_SKIPNETSHARED</a>, <a class="el" href="rpmlib_8h-source.html#l00843">FA_SKIPNSTATE</a>, and <a class="el" href="rpmlib_8h-source.html#l00834">FA_UNKNOWN</a>.
</div>
</div><p>
<a class="anchor" name="410ee9097708efa9da4cc2d8843baba8"></a><!-- doxytag: member="fsm.h::fileStageString" ref="410ee9097708efa9da4cc2d8843baba8" args="(fileStage a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* const fileStageString           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a>&nbsp;</td>
          <td class="paramname"> <em>a</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return formatted string representation of file stages. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>file stage </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>formatted string </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l02475">2475</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8h-source.html#l00060">FSM_CHMOD</a>, <a class="el" href="fsm_8h-source.html#l00058">FSM_CHOWN</a>, <a class="el" href="fsm_8h-source.html#l00069">FSM_CHROOT</a>, <a class="el" href="fsm_8h-source.html#l00051">FSM_COMMIT</a>, <a class="el" href="fsm_8h-source.html#l00043">FSM_CREATE</a>, <a class="el" href="fsm_8h-source.html#l00049">FSM_DESTROY</a>, <a class="el" href="fsm_8h-source.html#l00078">FSM_DREAD</a>, <a class="el" href="fsm_8h-source.html#l00079">FSM_DWRITE</a>, <a class="el" href="fsm_8h-source.html#l00072">FSM_EAT</a>, <a class="el" href="fsm_8h-source.html#l00035">FSM_FINI</a>, <a class="el" href="fsm_8h-source.html#l00076">FSM_HREAD</a>, <a class="el" href="fsm_8h-source.html#l00077">FSM_HWRITE</a>, <a class="el" href="fsm_8h-source.html#l00030">FSM_INIT</a>, <a class="el" href="fsm_8h-source.html#l00059">FSM_LCHOWN</a>, <a class="el" href="fsm_8h-source.html#l00063">FSM_LINK</a>, <a class="el" href="fsm_8h-source.html#l00057">FSM_LSETFCON</a>, <a class="el" href="fsm_8h-source.html#l00066">FSM_LSTAT</a>, <a class="el" href="fsm_8h-source.html#l00044">FSM_MAP</a>, <a class="el" href="fsm_8h-source.html#l00055">FSM_MKDIR</a>, <a class="el" href="fsm_8h-source.html#l00045">FSM_MKDIRS</a>, <a class="el" href="fsm_8h-source.html#l00064">FSM_MKFIFO</a>, <a class="el" href="fsm_8h-source.html#l00047">FSM_MKLINKS</a>, <a class="el" href="fsm_8h-source.html#l00065">FSM_MKNOD</a>, <a class="el" href="fsm_8h-source.html#l00071">FSM_NEXT</a>, <a class="el" href="fsm_8h-source.html#l00048">FSM_NOTIFY</a>, <a class="el" href="fsm_8h-source.html#l00074">FSM_PAD</a>, <a class="el" href="fsm_8h-source.html#l00039">FSM_PKGBUILD</a>, <a class="el" href="fsm_8h-source.html#l00040">FSM_PKGCOMMIT</a>, <a class="el" href="fsm_8h-source.html#l00038">FSM_PKGERASE</a>, <a class="el" href="fsm_8h-source.html#l00037">FSM_PKGINSTALL</a>, <a class="el" href="fsm_8h-source.html#l00041">FSM_PKGUNDO</a>, <a class="el" href="fsm_8h-source.html#l00073">FSM_POS</a>, <a class="el" href="fsm_8h-source.html#l00033">FSM_POST</a>, <a class="el" href="fsm_8h-source.html#l00031">FSM_PRE</a>, <a class="el" href="fsm_8h-source.html#l00032">FSM_PROCESS</a>, <a class="el" href="fsm_8h-source.html#l00083">FSM_RCLOSE</a>, <a class="el" href="fsm_8h-source.html#l00082">FSM_READ</a>, <a class="el" href="fsm_8h-source.html#l00068">FSM_READLINK</a>, <a class="el" href="fsm_8h-source.html#l00054">FSM_RENAME</a>, <a class="el" href="fsm_8h-source.html#l00056">FSM_RMDIR</a>, <a class="el" href="fsm_8h-source.html#l00046">FSM_RMDIRS</a>, <a class="el" href="fsm_8h-source.html#l00081">FSM_ROPEN</a>, <a class="el" href="fsm_8h-source.html#l00067">FSM_STAT</a>, <a class="el" href="fsm_8h-source.html#l00062">FSM_SYMLINK</a>, <a class="el" href="fsm_8h-source.html#l00075">FSM_TRAILER</a>, <a class="el" href="fsm_8h-source.html#l00034">FSM_UNDO</a>, <a class="el" href="fsm_8h-source.html#l00029">FSM_UNKNOWN</a>, <a class="el" href="fsm_8h-source.html#l00053">FSM_UNLINK</a>, <a class="el" href="fsm_8h-source.html#l00061">FSM_UTIME</a>, <a class="el" href="fsm_8h-source.html#l00050">FSM_VERIFY</a>, <a class="el" href="fsm_8h-source.html#l00086">FSM_WCLOSE</a>, <a class="el" href="fsm_8h-source.html#l00084">FSM_WOPEN</a>, and <a class="el" href="fsm_8h-source.html#l00085">FSM_WRITE</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="08c4a7eb02d4f91e545f90d070d4104c"></a><!-- doxytag: member="fsm.h::freeFSM" ref="08c4a7eb02d4f91e545f90d070d4104c" args="(FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsm__s.html">FSM_t</a> freeFSM           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy file state machine instance. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>always NULL </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00533">533</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, <a class="el" href="fsm_8h-source.html#l00171">fsm_s::dnlx</a>, <a class="el" href="fsm_8c-source.html#l00517">freeHardLink()</a>, <a class="el" href="fsm_8h-source.html#l00149">fsm_s::iter</a>, <a class="el" href="fsm_8h-source.html#l00173">fsm_s::ldn</a>, <a class="el" href="fsm_8h-source.html#l00154">fsm_s::li</a>, <a class="el" href="fsm_8h-source.html#l00152">fsm_s::links</a>, <a class="el" href="fsm_8c-source.html#l00113">mapFreeIterator()</a>, <a class="el" href="fsm_8h-source.html#l00098">hardLink_s::next</a>, and <a class="el" href="fsm_8h-source.html#l00126">fsm_s::path</a>.
<p>
Referenced by <a class="el" href="rpmfi_8c-source.html#l01151">rpmfiFree()</a>.
</div>
</div><p>
<a class="anchor" name="a372483e106d9a40cdff9929008331a3"></a><!-- doxytag: member="fsm.h::fsmGetFi" ref="a372483e106d9a40cdff9929008331a3" args="(const FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rpmlib_8h.html#2f4e0bf6f106ed6889162837ce39b83e">rpmfi</a> fsmGetFi           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve transaction element file info from file state machine iterator. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>transaction element file info </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00058">58</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8h-source.html#l00115">fsmIterator_s::fi</a>, and <a class="el" href="fsm_8h-source.html#l00149">fsm_s::iter</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l00282">dnlInitIterator()</a>, <a class="el" href="fsm_8c-source.html#l00755">fsmMapAttrs()</a>, <a class="el" href="fsm_8c-source.html#l00623">fsmMapFContext()</a>, <a class="el" href="fsm_8c-source.html#l00653">fsmMapPath()</a>, <a class="el" href="fsm_8c-source.html#l01260">fsmMkdirs()</a>, <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>, <a class="el" href="fsm_8c-source.html#l00422">saveHardLink()</a>, and <a class="el" href="fsm_8c-source.html#l00893">writeFile()</a>.
</div>
</div><p>
<a class="anchor" name="79af3076ba347b7d1fea192fb7bf911e"></a><!-- doxytag: member="fsm.h::fsmGetTs" ref="79af3076ba347b7d1fea192fb7bf911e" args="(const FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb">rpmts</a> fsmGetTs           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve transaction set from file state machine iterator. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>transaction set </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00051">51</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8h-source.html#l00149">fsm_s::iter</a>, and <a class="el" href="fsm_8h-source.html#l00114">fsmIterator_s::ts</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l00755">fsmMapAttrs()</a>, <a class="el" href="fsm_8c-source.html#l00623">fsmMapFContext()</a>, <a class="el" href="fsm_8c-source.html#l01260">fsmMkdirs()</a>, and <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="224238bdc8ab4145c31943f6ddf2e3fb"></a><!-- doxytag: member="fsm.h::fsmMapAttrs" ref="224238bdc8ab4145c31943f6ddf2e3fb" args="(FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsmMapAttrs           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Map file stat(2) info. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00755">755</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="cpio_8h-source.html#l00062">CPIO_MAP_GID</a>, <a class="el" href="cpio_8h-source.html#l00060">CPIO_MAP_MODE</a>, <a class="el" href="cpio_8h-source.html#l00067">CPIO_MAP_TYPE</a>, <a class="el" href="cpio_8h-source.html#l00061">CPIO_MAP_UID</a>, <a class="el" href="fsm_8h-source.html#l00189">fsm_s::fmd5sum</a>, <a class="el" href="fsm_8h-source.html#l00037">FSM_PKGINSTALL</a>, <a class="el" href="fsm_8c-source.html#l00058">fsmGetFi()</a>, <a class="el" href="fsm_8c-source.html#l00051">fsmGetTs()</a>, <a class="el" href="ugid_8c-source.html#l00066">gnameToGid()</a>, <a class="el" href="fsm_8h-source.html#l00197">fsm_s::goal</a>, <a class="el" href="fsm_8h-source.html#l00150">fsm_s::ix</a>, <a class="el" href="fsm_8h-source.html#l00183">fsm_s::mapFlags</a>, <a class="el" href="fsm_8h-source.html#l00191">fsm_s::md5sum</a>, <a class="el" href="rpmmessages_8h-source.html#l00014">RPMMESS_WARNING</a>, <a class="el" href="rpmmessages_8h-source.html#l00020">rpmMessage</a>, <a class="el" href="rpmlib_8h-source.html#l01007">RPMTRANS_FLAG_NOMD5</a>, <a class="el" href="rpmts_8c-source.html#l01416">rpmtsFlags()</a>, <a class="el" href="fsm_8h-source.html#l00200">fsm_s::sb</a>, and <a class="el" href="ugid_8c-source.html#l00016">unameToUid()</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="b5ec0917e40a7ef6bf78edc5ffdde5bd"></a><!-- doxytag: member="fsm.h::fsmMapPath" ref="b5ec0917e40a7ef6bf78edc5ffdde5bd" args="(FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsmMapPath           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Map next file path and action. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00653">653</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, <a class="el" href="fsm_8h-source.html#l00196">fsm_s::action</a>, <a class="el" href="fsm_8h-source.html#l00180">fsm_s::astriplen</a>, <a class="el" href="fsm_8h-source.html#l00187">fsm_s::baseName</a>, <a class="el" href="cpio_8h-source.html#l00059">CPIO_MAP_PATH</a>, <a class="el" href="fsm_8h-source.html#l00185">fsm_s::dirName</a>, <a class="el" href="rpmlib_8h-source.html#l00841">FA_ALTNAME</a>, <a class="el" href="rpmlib_8h-source.html#l00838">FA_BACKUP</a>, <a class="el" href="rpmlib_8h-source.html#l00836">FA_COPYIN</a>, <a class="el" href="rpmlib_8h-source.html#l00837">FA_COPYOUT</a>, <a class="el" href="rpmlib_8h-source.html#l00835">FA_CREATE</a>, <a class="el" href="rpmlib_8h-source.html#l00842">FA_ERASE</a>, <a class="el" href="rpmlib_8h-source.html#l00839">FA_SAVE</a>, <a class="el" href="rpmlib_8h-source.html#l00840">FA_SKIP</a>, <a class="el" href="rpmlib_8h-source.html#l00845">FA_SKIPCOLOR</a>, <a class="el" href="rpmlib_8h-source.html#l00844">FA_SKIPNETSHARED</a>, <a class="el" href="rpmlib_8h-source.html#l00843">FA_SKIPNSTATE</a>, <a class="el" href="rpmlib_8h-source.html#l00834">FA_UNKNOWN</a>, <a class="el" href="fsm_8h-source.html#l00195">fsm_s::fflags</a>, <a class="el" href="fsm_8c-source.html#l00079">fsmFsPath()</a>, <a class="el" href="fsm_8c-source.html#l00058">fsmGetFi()</a>, <a class="el" href="fsm_8h-source.html#l00150">fsm_s::ix</a>, <a class="el" href="fsm_8h-source.html#l00183">fsm_s::mapFlags</a>, <a class="el" href="fsm_8h-source.html#l00166">fsm_s::nsuffix</a>, <a class="el" href="fsm_8h-source.html#l00164">fsm_s::osuffix</a>, <a class="el" href="fsm_8h-source.html#l00126">fsm_s::path</a>, <a class="el" href="rpmlib_8h-source.html#l00483">RPMFILE_GHOST</a>, <a class="el" href="rpmlib_8h-source.html#l00465">RPMFILE_STATE_NETSHARED</a>, <a class="el" href="rpmlib_8h-source.html#l00464">RPMFILE_STATE_NOTINSTALLED</a>, <a class="el" href="rpmlib_8h-source.html#l00466">RPMFILE_STATE_WRONGCOLOR</a>, <a class="el" href="rpmte_8c-source.html#l00267">rpmteType()</a>, <a class="el" href="fsm_8h-source.html#l00200">fsm_s::sb</a>, <a class="el" href="fsm_8h-source.html#l00160">fsm_s::subdir</a>, <a class="el" href="fsm_8h-source.html#l00168">fsm_s::suffix</a>, <a class="el" href="fsm_8c-source.html#l00068">SUFFIX_RPMNEW</a>, <a class="el" href="fsm_8c-source.html#l00066">SUFFIX_RPMORIG</a>, <a class="el" href="fsm_8c-source.html#l00067">SUFFIX_RPMSAVE</a>, <a class="el" href="rpmte_8h-source.html#l00030">TR_ADDED</a>, and <a class="el" href="rpmte_8h-source.html#l00031">TR_REMOVED</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="5cd1965aa3d5448685dfc97fd6d183ff"></a><!-- doxytag: member="fsm.h::fsmNext" ref="5cd1965aa3d5448685dfc97fd6d183ff" args="(FSM_t fsm, fileStage nstage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsmNext           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a>&nbsp;</td>
          <td class="paramname"> <em>nstage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File state machine driver. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nstage</em>&nbsp;</td><td>next stage </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00406">406</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8c-source.html#l00042">_fsm_threads</a>, <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>, <a class="el" href="fsm_8c-source.html#l00396">fsmThread()</a>, <a class="el" href="fsm_8h-source.html#l00199">fsm_s::nstage</a>, <a class="el" href="rpmsq_8c-source.html#l00592">rpmsqJoin()</a>, and <a class="el" href="rpmsq_8c-source.html#l00583">rpmsqThread()</a>.
<p>
Referenced by <a class="el" href="cpio_8c-source.html#l00130">cpioHeaderRead()</a>, <a class="el" href="cpio_8c-source.html#l00092">cpioHeaderWrite()</a>, <a class="el" href="cpio_8c-source.html#l00064">cpioTrailerWrite()</a>, <a class="el" href="fsm_8c-source.html#l00824">expandRegular()</a>, <a class="el" href="fsm_8c-source.html#l01155">fsmCommitLinks()</a>, <a class="el" href="fsm_8c-source.html#l01089">fsmMakeLinks()</a>, <a class="el" href="fsm_8c-source.html#l01260">fsmMkdirs()</a>, <a class="el" href="fsm_8c-source.html#l01203">fsmRmdirs()</a>, <a class="el" href="fsm_8c-source.html#l01432">fsmStage()</a>, <a class="el" href="fsm_8c-source.html#l00422">saveHardLink()</a>, <a class="el" href="fsm_8c-source.html#l00893">writeFile()</a>, and <a class="el" href="fsm_8c-source.html#l01036">writeLinkedFile()</a>.
</div>
</div><p>
<a class="anchor" name="6e6fb0ed805d1c2d07ede70f4947dcef"></a><!-- doxytag: member="fsm.h::fsmSetup" ref="6e6fb0ed805d1c2d07ede70f4947dcef" args="(FSM_t fsm, fileStage goal, const rpmts ts, const rpmfi fi, FD_t cfd, unsigned int *archiveSize, const char **failedFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsmSetup           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a>&nbsp;</td>
          <td class="paramname"> <em>goal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rpmlib_8h.html#35d575e76e47e498176ffb43c6bd7fcb">rpmts</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rpmlib_8h.html#2f4e0bf6f106ed6889162837ce39b83e">rpmfi</a>&nbsp;</td>
          <td class="paramname"> <em>fi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__FD__s.html">FD_t</a>&nbsp;</td>
          <td class="paramname"> <em>cfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>archiveSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>failedFile</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load external data into file state machine. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>goal</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>transaction set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fi</em>&nbsp;</td><td>transaction element file info </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cfd</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>archiveSize</em>&nbsp;</td><td>pointer to archive size </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>failedFile</em>&nbsp;</td><td>pointer to first file <a class="el" href="structname.html">name</a> that failed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00551">551</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8h-source.html#l00156">fsm_s::archiveSize</a>, <a class="el" href="fsm_8h-source.html#l00130">fsm_s::cfd</a>, <a class="el" href="fsm_8h-source.html#l00158">fsm_s::failedFile</a>, <a class="el" href="rpmio__internal_8h-source.html#l00499">fdGetCpioPos()</a>, <a class="el" href="rpmio_8h-source.html#l00524">fdLink</a>, <a class="el" href="rpmio__internal_8h-source.html#l00509">fdSetCpioPos()</a>, <a class="el" href="fsm_8h-source.html#l00043">FSM_CREATE</a>, <a class="el" href="fsm_8h-source.html#l00039">FSM_PKGBUILD</a>, <a class="el" href="fsm_8h-source.html#l00037">FSM_PKGINSTALL</a>, <a class="el" href="fsm_8c-source.html#l00014">fsmUNSAFE</a>, <a class="el" href="fsm_8h-source.html#l00197">fsm_s::goal</a>, <a class="el" href="fsm_8h-source.html#l00149">fsm_s::iter</a>, <a class="el" href="fsm_8c-source.html#l00134">mapInitIterator()</a>, <a class="el" href="fsm_8h-source.html#l00181">fsm_s::rc</a>, <a class="el" href="rpmmessages_8h-source.html#l00044">RPMCALLBACK_INST_START</a>, <a class="el" href="rpmts_8c-source.html#l01104">rpmtsGetTid()</a>, <a class="el" href="rpmts_8c-source.html#l01374">rpmtsNotify()</a>, and <a class="el" href="fsm_8h-source.html#l00169">fsm_s::sufbuf</a>.
<p>
Referenced by <a class="el" href="pack_8c-source.html#l00056">cpio_doio()</a>, and <a class="el" href="psm_8c-source.html#l01355">rpmpsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="ad84b5d64310b6ed28dcd49746a2506f"></a><!-- doxytag: member="fsm.h::fsmStage" ref="ad84b5d64310b6ed28dcd49746a2506f" args="(FSM_t fsm, fileStage stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsmStage           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsm_8h.html#42d68171cc4a6c0495fae9cddb9066d5">fileStage</a>&nbsp;</td>
          <td class="paramname"> <em>stage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File state machine driver. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stage</em>&nbsp;</td><td>next stage </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l01432">1432</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="system_8h-source.html#l00478">_</a>, <a class="el" href="fsm_8c.html#773cd9be56ae4de92eb74ca52644c61f">_fafilter</a>, <a class="el" href="rpmlib_8h-source.html#l00058">_free()</a>, <a class="el" href="fsm_8c-source.html#l00038">_fsm_debug</a>, <a class="el" href="fsm_8c.html#1f9f6e6e1258571e9317dc47babc5bcb">_tsmask</a>, <a class="el" href="fsm_8h-source.html#l00196">fsm_s::action</a>, <a class="el" href="fsm_8h-source.html#l00180">fsm_s::astriplen</a>, <a class="el" href="fsm_8h-source.html#l00130">fsm_s::cfd</a>, <a class="el" href="fsm_8h-source.html#l00182">fsm_s::commit</a>, <a class="el" href="cpio_8h-source.html#l00066">CPIO_ALL_HARDLINKS</a>, <a class="el" href="cpio_8h-source.html#l00063">CPIO_FOLLOW_SYMLINKS</a>, <a class="el" href="cpio_8h-source.html#l00052">CPIOERR_ENOENT</a>, <a class="el" href="cpio_8h-source.html#l00053">CPIOERR_ENOTEMPTY</a>, <a class="el" href="cpio_8h-source.html#l00045">CPIOERR_HDR_SIZE</a>, <a class="el" href="cpio_8h-source.html#l00046">CPIOERR_HDR_TRAILER</a>, <a class="el" href="cpio_8h-source.html#l00048">CPIOERR_MISSING_HARDLINK</a>, <a class="el" href="cpio_8h-source.html#l00042">CPIOERR_READ_FAILED</a>, <a class="el" href="cpio_8h-source.html#l00047">CPIOERR_UNKNOWN_FILETYPE</a>, <a class="el" href="cpio_8h-source.html#l00051">CPIOERR_UNMAPPED_FILE</a>, <a class="el" href="fsm_8h-source.html#l00107">hardLink_s::createdPath</a>, <a class="el" href="fsm_8h-source.html#l00177">fsm_s::diskchecked</a>, <a class="el" href="fsm_8h-source.html#l00171">fsm_s::dnlx</a>, <a class="el" href="system_8h.html#a5e6580e8f12679392f66d3c9b146ab4">errno</a>, <a class="el" href="fsm_8h-source.html#l00178">fsm_s::exists</a>, <a class="el" href="fsm_8c-source.html#l00824">expandRegular()</a>, <a class="el" href="rpmlib_8h-source.html#l00842">FA_ERASE</a>, <a class="el" href="rpmlib_8h-source.html#l00834">FA_UNKNOWN</a>, <a class="el" href="fsm_8h-source.html#l00158">fsm_s::failedFile</a>, <a class="el" href="fsm_8h-source.html#l00193">fsm_s::fcontext</a>, <a class="el" href="rpmio__internal_8h-source.html#l00499">fdGetCpioPos()</a>, <a class="el" href="fsm_8h-source.html#l00195">fsm_s::fflags</a>, <a class="el" href="fsm_8c-source.html#l02475">fileStageString()</a>, <a class="el" href="fsm_8h-source.html#l00102">hardLink_s::filex</a>, <a class="el" href="fsm_8c-source.html#l00517">freeHardLink()</a>, <a class="el" href="fsm_8h-source.html#l00060">FSM_CHMOD</a>, <a class="el" href="fsm_8h-source.html#l00058">FSM_CHOWN</a>, <a class="el" href="fsm_8h-source.html#l00051">FSM_COMMIT</a>, <a class="el" href="fsm_8h-source.html#l00043">FSM_CREATE</a>, <a class="el" href="fsm_8h-source.html#l00021">FSM_DEAD</a>, <a class="el" href="fsm_8h-source.html#l00049">FSM_DESTROY</a>, <a class="el" href="fsm_8h-source.html#l00078">FSM_DREAD</a>, <a class="el" href="fsm_8h-source.html#l00072">FSM_EAT</a>, <a class="el" href="fsm_8h-source.html#l00035">FSM_FINI</a>, <a class="el" href="fsm_8h-source.html#l00030">FSM_INIT</a>, <a class="el" href="fsm_8h-source.html#l00019">FSM_INTERNAL</a>, <a class="el" href="fsm_8h-source.html#l00059">FSM_LCHOWN</a>, <a class="el" href="fsm_8h-source.html#l00057">FSM_LSETFCON</a>, <a class="el" href="fsm_8h-source.html#l00066">FSM_LSTAT</a>, <a class="el" href="fsm_8h-source.html#l00044">FSM_MAP</a>, <a class="el" href="fsm_8h-source.html#l00055">FSM_MKDIR</a>, <a class="el" href="fsm_8h-source.html#l00045">FSM_MKDIRS</a>, <a class="el" href="fsm_8h-source.html#l00064">FSM_MKFIFO</a>, <a class="el" href="fsm_8h-source.html#l00047">FSM_MKLINKS</a>, <a class="el" href="fsm_8h-source.html#l00065">FSM_MKNOD</a>, <a class="el" href="fsm_8h-source.html#l00071">FSM_NEXT</a>, <a class="el" href="fsm_8h-source.html#l00048">FSM_NOTIFY</a>, <a class="el" href="fsm_8h-source.html#l00039">FSM_PKGBUILD</a>, <a class="el" href="fsm_8h-source.html#l00040">FSM_PKGCOMMIT</a>, <a class="el" href="fsm_8h-source.html#l00038">FSM_PKGERASE</a>, <a class="el" href="fsm_8h-source.html#l00037">FSM_PKGINSTALL</a>, <a class="el" href="fsm_8h-source.html#l00033">FSM_POST</a>, <a class="el" href="fsm_8h-source.html#l00031">FSM_PRE</a>, <a class="el" href="fsm_8h-source.html#l00032">FSM_PROCESS</a>, <a class="el" href="fsm_8h-source.html#l00054">FSM_RENAME</a>, <a class="el" href="fsm_8h-source.html#l00056">FSM_RMDIR</a>, <a class="el" href="fsm_8h-source.html#l00046">FSM_RMDIRS</a>, <a class="el" href="fsm_8h-source.html#l00067">FSM_STAT</a>, <a class="el" href="fsm_8h-source.html#l00062">FSM_SYMLINK</a>, <a class="el" href="fsm_8h-source.html#l00020">FSM_SYSCALL</a>, <a class="el" href="fsm_8h-source.html#l00075">FSM_TRAILER</a>, <a class="el" href="fsm_8h-source.html#l00034">FSM_UNDO</a>, <a class="el" href="fsm_8h-source.html#l00029">FSM_UNKNOWN</a>, <a class="el" href="fsm_8h-source.html#l00053">FSM_UNLINK</a>, <a class="el" href="fsm_8h-source.html#l00061">FSM_UTIME</a>, <a class="el" href="fsm_8h-source.html#l00018">FSM_VERBOSE</a>, <a class="el" href="fsm_8h-source.html#l00050">FSM_VERIFY</a>, <a class="el" href="fsm_8c-source.html#l01155">fsmCommitLinks()</a>, <a class="el" href="fsm_8c-source.html#l00079">fsmFsPath()</a>, <a class="el" href="fsm_8c-source.html#l00058">fsmGetFi()</a>, <a class="el" href="fsm_8c-source.html#l00051">fsmGetTs()</a>, <a class="el" href="fsm_8c-source.html#l01089">fsmMakeLinks()</a>, <a class="el" href="fsm_8c-source.html#l00755">fsmMapAttrs()</a>, <a class="el" href="fsm_8c-source.html#l00623">fsmMapFContext()</a>, <a class="el" href="fsm_8c-source.html#l00653">fsmMapPath()</a>, <a class="el" href="fsm_8c-source.html#l01260">fsmMkdirs()</a>, <a class="el" href="fsm_8c-source.html#l00406">fsmNext()</a>, <a class="el" href="fsm_8c-source.html#l01203">fsmRmdirs()</a>, <a class="el" href="fsm_8c-source.html#l00014">fsmUNSAFE</a>, <a class="el" href="fsm_8h-source.html#l00197">fsm_s::goal</a>, <a class="el" href="fsm_8c-source.html#l01424">IS_DEV_LOG</a>, <a class="el" href="fsm_8h-source.html#l00149">fsm_s::iter</a>, <a class="el" href="fsm_8h-source.html#l00150">fsm_s::ix</a>, <a class="el" href="fsm_8h-source.html#l00173">fsm_s::ldn</a>, <a class="el" href="fsm_8h-source.html#l00175">fsm_s::ldnalloc</a>, <a class="el" href="fsm_8h-source.html#l00174">fsm_s::ldnlen</a>, <a class="el" href="lparser_8c-source.html#l00876">left</a>, <a class="el" href="fsm_8h-source.html#l00154">fsm_s::li</a>, <a class="el" href="fsm_8h-source.html#l00106">hardLink_s::linkIndex</a>, <a class="el" href="fsm_8h-source.html#l00152">fsm_s::links</a>, <a class="el" href="fsm_8h-source.html#l00105">hardLink_s::linksLeft</a>, <a class="el" href="fsm_8c-source.html#l00205">mapFind()</a>, <a class="el" href="fsm_8h-source.html#l00183">fsm_s::mapFlags</a>, <a class="el" href="fsm_8c-source.html#l00153">mapNextIterator()</a>, <a class="el" href="fsm_8h-source.html#l00179">fsm_s::mkdirsdone</a>, <a class="el" href="fsm_8h-source.html#l00098">hardLink_s::next</a>, <a class="el" href="fsm_8h-source.html#l00104">hardLink_s::nlink</a>, <a class="el" href="fsm_8h-source.html#l00166">fsm_s::nsuffix</a>, <a class="el" href="rpmtool_8c-source.html#l00101">opath</a>, <a class="el" href="fsm_8h-source.html#l00128">fsm_s::opath</a>, <a class="el" href="fsm_8h-source.html#l00201">fsm_s::osb</a>, <a class="el" href="fsm_8h-source.html#l00164">fsm_s::osuffix</a>, <a class="el" href="fsm_8h-source.html#l00126">fsm_s::path</a>, <a class="el" href="fsm_8h-source.html#l00176">fsm_s::postpone</a>, <a class="el" href="fsm_8h-source.html#l00181">fsm_s::rc</a>, <a class="el" href="fsm_8h-source.html#l00136">fsm_s::rdb</a>, <a class="el" href="fsm_8h-source.html#l00134">fsm_s::rdbuf</a>, <a class="el" href="fsm_8h-source.html#l00139">fsm_s::rdnb</a>, <a class="el" href="fsm_8h-source.html#l00137">fsm_s::rdsize</a>, <a class="el" href="rpmmessages_8h-source.html#l00043">RPMCALLBACK_INST_PROGRESS</a>, <a class="el" href="rpmerr_8h-source.html#l00133">RPMDEBUG_RMDIR</a>, <a class="el" href="rpmerr_8h-source.html#l00132">RPMDEBUG_UNLINK</a>, <a class="el" href="rpmerr_8h-source.html#l00046">RPMERR_RMDIR</a>, <a class="el" href="rpmerr_8h-source.html#l00045">RPMERR_UNLINK</a>, <a class="el" href="rpmerr_8h-source.html#l00143">rpmError</a>, <a class="el" href="rpmlib_8h-source.html#l00483">RPMFILE_GHOST</a>, <a class="el" href="rpmlib_8h-source.html#l00480">RPMFILE_MISSINGOK</a>, <a class="el" href="rpmfi_8c-source.html#l00685">rpmfiTypeString()</a>, <a class="el" href="rpmmessages_8h-source.html#l00011">RPMMESS_DEBUG</a>, <a class="el" href="rpmmessages_8h-source.html#l00014">RPMMESS_WARNING</a>, <a class="el" href="rpmmessages_8h-source.html#l00020">rpmMessage</a>, <a class="el" href="rpmts_8c-source.html#l01416">rpmtsFlags()</a>, <a class="el" href="rpmts_8c-source.html#l01374">rpmtsNotify()</a>, <a class="el" href="system_8h-source.html#l00612">S_ISLNK</a>, <a class="el" href="system_8h-source.html#l00616">S_ISSOCK</a>, <a class="el" href="fsm_8c-source.html#l00422">saveHardLink()</a>, <a class="el" href="fsm_8h-source.html#l00103">hardLink_s::sb</a>, <a class="el" href="fsm_8h-source.html#l00200">fsm_s::sb</a>, <a class="el" href="fsm_8h-source.html#l00198">fsm_s::stage</a>, <a class="el" href="file_8h-source.html#l00323">strerror</a>, <a class="el" href="fsm_8c-source.html#l00048">strict_erasures</a>, <a class="el" href="fsm_8h-source.html#l00160">fsm_s::subdir</a>, <a class="el" href="fsm_8h-source.html#l00169">fsm_s::sufbuf</a>, <a class="el" href="fsm_8h-source.html#l00168">fsm_s::suffix</a>, <a class="el" href="fsm_8h-source.html#l00144">fsm_s::wrb</a>, <a class="el" href="fsm_8h-source.html#l00142">fsm_s::wrbuf</a>, <a class="el" href="fsm_8c-source.html#l00893">writeFile()</a>, <a class="el" href="fsm_8c-source.html#l01036">writeLinkedFile()</a>, <a class="el" href="fsm_8h-source.html#l00146">fsm_s::wrlen</a>, <a class="el" href="fsm_8h-source.html#l00145">fsm_s::wrsize</a>, <a class="el" href="rpmlib_8h-source.html#l00848">XFA_SKIPPING</a>, <a class="el" href="rpmmalloc_8c-source.html#l00024">xmalloc()</a>, and <a class="el" href="rpmmalloc_8c-source.html#l00055">xstrdup()</a>.
<p>
Referenced by <a class="el" href="fsm_8c-source.html#l00406">fsmNext()</a>, and <a class="el" href="fsm_8c-source.html#l00396">fsmThread()</a>.
</div>
</div><p>
<a class="anchor" name="0c1d23991daeaa4b7adddf3901cc6f01"></a><!-- doxytag: member="fsm.h::fsmTeardown" ref="0c1d23991daeaa4b7adddf3901cc6f01" args="(FSM_t fsm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsmTeardown           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__s.html">FSM_t</a>&nbsp;</td>
          <td class="paramname"> <em>fsm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clean file state machine. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsm</em>&nbsp;</td><td>file state machine </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00607">607</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="fsm_8h-source.html#l00130">fsm_s::cfd</a>, <a class="el" href="fsm_8h-source.html#l00158">fsm_s::failedFile</a>, <a class="el" href="rpmio_8h-source.html#l00533">fdFree</a>, <a class="el" href="fsm_8h-source.html#l00049">FSM_DESTROY</a>, <a class="el" href="fsm_8c-source.html#l00014">fsmUNSAFE</a>, <a class="el" href="fsm_8h-source.html#l00149">fsm_s::iter</a>, <a class="el" href="fsm_8c-source.html#l00113">mapFreeIterator()</a>, and <a class="el" href="fsm_8h-source.html#l00181">fsm_s::rc</a>.
<p>
Referenced by <a class="el" href="pack_8c-source.html#l00056">cpio_doio()</a>, and <a class="el" href="psm_8c-source.html#l01355">rpmpsmStage()</a>.
</div>
</div><p>
<a class="anchor" name="77f09b9b5a7d08b3e85caf7d201fa843"></a><!-- doxytag: member="fsm.h::newFSM" ref="77f09b9b5a7d08b3e85caf7d201fa843" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsm__s.html">FSM_t</a> newFSM           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create file state machine instance. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>file state machine </dd></dl>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00527">527</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
<p>
References <a class="el" href="rpmmalloc_8c-source.html#l00034">xcalloc()</a>.
<p>
Referenced by <a class="el" href="rpmfi_8c-source.html#l01263">rpmfiNew()</a>.
</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="76ef6b61d6c034d5d7a84280e388f483"></a><!-- doxytag: member="fsm.h::_fsm_debug" ref="76ef6b61d6c034d5d7a84280e388f483" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="poptALL_8c.html#76ef6b61d6c034d5d7a84280e388f483">_fsm_debug</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="fsm_8c-source.html#l00038">38</a> of file <a class="el" href="fsm_8c-source.html">fsm.c</a>.
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 12 08:44:55 2007 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
