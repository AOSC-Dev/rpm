<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>rpm: lua/llex.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul>
</div>
<h1>lua/llex.h</h1><a href="llex_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">** $Id: llex.h,v 1.2 2004/03/23 05:09:14 jbj Exp $</span>
<a name="l00003"></a>00003 <span class="comment">** Lexical Analyzer</span>
<a name="l00004"></a>00004 <span class="comment">** See Copyright Notice in lua.h</span>
<a name="l00005"></a>00005 <span class="comment">*/</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="preprocessor">#ifndef llex_h</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span><span class="preprocessor">#define llex_h</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span>
<a name="l00010"></a>00010 <span class="preprocessor">#include "<a class="code" href="lobject_8h.html">lobject.h</a>"</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include "<a class="code" href="lzio_8h.html">lzio.h</a>"</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 
<a name="l00014"></a><a class="code" href="llex_8h.html#879bc134fd18ed5e313b7811f8cbfcbc">00014</a> <span class="preprocessor">#define FIRST_RESERVED  257</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span>
<a name="l00016"></a>00016 <span class="comment">/* maximum length of a reserved word */</span>
<a name="l00017"></a><a class="code" href="llex_8h.html#5cb7c9097d8b4162fa1e5ddd68bfd6b0">00017</a> <span class="preprocessor">#define TOKEN_LEN       (sizeof("function")/sizeof(char))</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">/*</span>
<a name="l00021"></a>00021 <span class="comment">* WARNING: if you change the order of this enumeration,</span>
<a name="l00022"></a>00022 <span class="comment">* grep "ORDER RESERVED"</span>
<a name="l00023"></a>00023 <span class="comment">*/</span>
<a name="l00024"></a><a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea3706">00024</a> <span class="keyword">enum</span> <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea3706">RESERVED</a> {
<a name="l00025"></a>00025   <span class="comment">/* terminal symbols denoted by reserved words */</span>
<a name="l00026"></a><a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea370621bbcf6447bbbb274b58ebd414e6264d">00026</a>   <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea3706282d26516c09d74ae5765744e057dbbf">TK_AND</a> = <a class="code" href="llex_8h.html#879bc134fd18ed5e313b7811f8cbfcbc">FIRST_RESERVED</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea370621bbcf6447bbbb274b58ebd414e6264d">TK_BREAK</a>,
<a name="l00027"></a><a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37062e50cd3d4cb18199138d7e4afc6eb6e6">00027</a>   <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37067f7ac531d4515f8364bc722eb7a32ace">TK_DO</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea370624a7bb3955db87508e2e80c6c18c585e">TK_ELSE</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37069d028575b762fc252cdea790d8705f18">TK_ELSEIF</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea3706d191efcc6286035f0f7cbfc90f813b65">TK_END</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37064d240a4d69e3c522820bb9d6400437d1">TK_FALSE</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea370659d9a06165b5c3401b6dcf1f0389d8a8">TK_FOR</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37062e50cd3d4cb18199138d7e4afc6eb6e6">TK_FUNCTION</a>,
<a name="l00028"></a><a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea370603c33a1c049343a868497a27b7d32541">00028</a>   <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea3706b76c99d498297700085781f5518d8570">TK_IF</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea3706453fe6aff42aab9c84d9265c4f66cb14">TK_IN</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37061636efe6ab1c21a5de0b1a661d97d1ef">TK_LOCAL</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37067e88a19f19be0d7bfe1b1eaef1b24d26">TK_NIL</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37063665676924e9b01ee4cb7ef8f65f0e10">TK_NOT</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37068364484bb8872c8213fab630b992f4eb">TK_OR</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea370603c33a1c049343a868497a27b7d32541">TK_REPEAT</a>,
<a name="l00029"></a><a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea370699278de4b2d8b7e9dc7abbf801316a89">00029</a>   <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea3706cae68cb5d0a684e5192df8a4d40472de">TK_RETURN</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37064d4e01494ff9ef4cf7a731f87975ab71">TK_THEN</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37061b2f2bfecf1ab70ae75d31f4ef4fb484">TK_TRUE</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea3706293dade806138dbd452e0cc8a8c8878f">TK_UNTIL</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea370699278de4b2d8b7e9dc7abbf801316a89">TK_WHILE</a>,
<a name="l00030"></a>00030   <span class="comment">/* other terminal symbols */</span>
<a name="l00031"></a><a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea370611aa50ca19b2d7bbbdc35de8dd8a3566">00031</a>   <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea3706fda51513df891a39681d90039ecbde7b">TK_NAME</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37067956b896041ceec82c942af2366ea593">TK_CONCAT</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea370678d14e02e621becd28e83a37f762f382">TK_DOTS</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea3706a0a7c797f03977146d8997bda9a62b3d">TK_EQ</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37069183c9f4dd72317ab8ec4825db920205">TK_GE</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37068cb6c017d94e10cb43fd22f4a4e22b78">TK_LE</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37062a9bbf8bea081dcfe93591fa1dc32894">TK_NE</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea370611aa50ca19b2d7bbbdc35de8dd8a3566">TK_NUMBER</a>,
<a name="l00032"></a><a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37066626a54da0f9520781755ab232575de6">00032</a>   <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea37066626a54da0f9520781755ab232575de6">TK_STRING</a>, <a class="code" href="llex_8h.html#52114b9f7f613784ebe09e8d3fea3706d098fce4afd73fd61ac03701e376d70c">TK_EOS</a>
<a name="l00033"></a>00033 };
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="comment">/* number of reserved words */</span>
<a name="l00036"></a><a class="code" href="llex_8h.html#a08571fafceb9ccfcc8bdc182a635c91">00036</a> <span class="preprocessor">#define NUM_RESERVED    (cast(int, TK_WHILE-FIRST_RESERVED+1))</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="unionSemInfo.html">00039</a> <span class="keyword">typedef</span> <span class="keyword">union </span>{
<a name="l00040"></a><a class="code" href="unionSemInfo.html#8b446064b6aaf7034dedfc1a3f7504ab">00040</a>   lua_Number r;
<a name="l00041"></a>00041 <span class="comment">/*@null@*/</span>
<a name="l00042"></a><a class="code" href="unionSemInfo.html#896c42bfe6c5f6d3d0a53b6dd49a1a27">00042</a>   <a class="code" href="unionTString.html">TString</a> *ts;
<a name="l00043"></a>00043 } <a class="code" href="unionSemInfo.html">SemInfo</a>;  <span class="comment">/* semantics information */</span>
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="structToken.html">00046</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structToken.html">Token</a> {
<a name="l00047"></a><a class="code" href="structToken.html#c89246ca508e3df6dde42bdf07c0f35a">00047</a>   <span class="keywordtype">int</span> <a class="code" href="structToken.html#c89246ca508e3df6dde42bdf07c0f35a">token</a>;
<a name="l00048"></a><a class="code" href="structToken.html#7311b127571eba6be371d156fdff94cf">00048</a>   <a class="code" href="unionSemInfo.html">SemInfo</a> <a class="code" href="structToken.html#7311b127571eba6be371d156fdff94cf">seminfo</a>;
<a name="l00049"></a>00049 } <a class="code" href="structToken.html">Token</a>;
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="structLexState.html">00052</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structLexState.html">LexState</a> {
<a name="l00053"></a><a class="code" href="structLexState.html#7657cc70fafeadab6f9864592887a8d1">00053</a>   <span class="keywordtype">int</span> <a class="code" href="structLexState.html#7657cc70fafeadab6f9864592887a8d1">current</a>;  <span class="comment">/* current character (charint) */</span>
<a name="l00054"></a><a class="code" href="structLexState.html#f6a3b9f51dffea6b6324a01833c32392">00054</a>   <span class="keywordtype">int</span> <a class="code" href="structLexState.html#f6a3b9f51dffea6b6324a01833c32392">linenumber</a>;  <span class="comment">/* input line counter */</span>
<a name="l00055"></a><a class="code" href="structLexState.html#8d5bda84c29de102eb0d4fac7df9c6ad">00055</a>   <span class="keywordtype">int</span> <a class="code" href="structLexState.html#8d5bda84c29de102eb0d4fac7df9c6ad">lastline</a>;  <span class="comment">/* line of last token `consumed' */</span>
<a name="l00056"></a><a class="code" href="structLexState.html#81800213aebe7a68a7237015eea86f91">00056</a>   <a class="code" href="structToken.html">Token</a> <a class="code" href="structLexState.html#81800213aebe7a68a7237015eea86f91">t</a>;  <span class="comment">/* current token */</span>
<a name="l00057"></a><a class="code" href="structLexState.html#da611999f8386fc5bc5e77be8e00f435">00057</a>   <a class="code" href="structToken.html">Token</a> <a class="code" href="structLexState.html#da611999f8386fc5bc5e77be8e00f435">lookahead</a>;  <span class="comment">/* look ahead token */</span>
<a name="l00058"></a><a class="code" href="structLexState.html#ff5e2083b02058b79cdfde887244b703">00058</a>   <span class="keyword">struct </span><a class="code" href="structFuncState.html">FuncState</a> *<a class="code" href="structLexState.html#ff5e2083b02058b79cdfde887244b703">fs</a>;  <span class="comment">/* `FuncState' is private to the parser */</span>
<a name="l00059"></a><a class="code" href="structLexState.html#246330fb40f867efd283df9d770cbc91">00059</a>   <span class="keyword">struct </span><a class="code" href="structlua__State.html">lua_State</a> *<a class="code" href="structLexState.html#246330fb40f867efd283df9d770cbc91">L</a>;
<a name="l00060"></a><a class="code" href="structLexState.html#2e3f3d8ba6c3690f3745f1bb956cea33">00060</a>   <a class="code" href="structZio.html">ZIO</a> *<a class="code" href="structLexState.html#2e3f3d8ba6c3690f3745f1bb956cea33">z</a>;  <span class="comment">/* input stream */</span>
<a name="l00061"></a><a class="code" href="structLexState.html#8c1e40147b887dfacafaecad027ea428">00061</a>   <a class="code" href="structMbuffer.html">Mbuffer</a> *<a class="code" href="structLexState.html#8c1e40147b887dfacafaecad027ea428">buff</a>;  <span class="comment">/* buffer for tokens */</span>
<a name="l00062"></a><a class="code" href="structLexState.html#28d310102f29834750c081f05ee1fba7">00062</a>   <a class="code" href="unionTString.html">TString</a> *<a class="code" href="structLexState.html#28d310102f29834750c081f05ee1fba7">source</a>;  <span class="comment">/* current source name */</span>
<a name="l00063"></a><a class="code" href="structLexState.html#e75435fd4bd27be8021deca2167d781f">00063</a>   <span class="keywordtype">int</span> <a class="code" href="structLexState.html#e75435fd4bd27be8021deca2167d781f">nestlevel</a>;  <span class="comment">/* level of nested non-terminals */</span>
<a name="l00064"></a>00064 } <a class="code" href="structLexState.html">LexState</a>;
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 <span class="keywordtype">void</span> <a class="code" href="llex_8c.html#5990de8fb45dcae70577c150f11ebbe4">luaX_init</a> (<a class="code" href="structlua__State.html">lua_State</a> *L)
<a name="l00068"></a>00068         <span class="comment">/*@modifies L @*/</span>;
<a name="l00069"></a>00069 <span class="keywordtype">void</span> <a class="code" href="llex_8c.html#77ac2d8fb2149ee123bc1a9fa0fc09b1">luaX_setinput</a> (<a class="code" href="structlua__State.html">lua_State</a> *L, <a class="code" href="structLexState.html">LexState</a> *LS, <a class="code" href="structZio.html">ZIO</a> *z, <a class="code" href="unionTString.html">TString</a> *source)
<a name="l00070"></a>00070         <span class="comment">/*@modifies LS, z @*/</span>;
<a name="l00071"></a>00071 <span class="keywordtype">int</span> <a class="code" href="llex_8c.html#d629883556f73d2dcbabc2d641f86096">luaX_lex</a> (<a class="code" href="structLexState.html">LexState</a> *LS, <a class="code" href="unionSemInfo.html">SemInfo</a> *seminfo)
<a name="l00072"></a>00072         <span class="comment">/*@modifies LS, seminfo @*/</span>;
<a name="l00073"></a>00073 <span class="keywordtype">void</span> <a class="code" href="llex_8c.html#275cf8fdaec9b3479be680414c991b42">luaX_checklimit</a> (<a class="code" href="structLexState.html">LexState</a> *ls, <span class="keywordtype">int</span> val, <span class="keywordtype">int</span> limit, <span class="keyword">const</span> <span class="keywordtype">char</span> *msg)
<a name="l00074"></a>00074         <span class="comment">/*@modifies ls @*/</span>;
<a name="l00075"></a>00075 <span class="keywordtype">void</span> <a class="code" href="llex_8c.html#62dfdc3824855840c7b8ef0161ce973a">luaX_syntaxerror</a> (<a class="code" href="structLexState.html">LexState</a> *ls, <span class="keyword">const</span> <span class="keywordtype">char</span> *s)
<a name="l00076"></a>00076         <span class="comment">/*@modifies ls @*/</span>;
<a name="l00077"></a>00077 <span class="keywordtype">void</span> <a class="code" href="llex_8c.html#0d119c045adef256015c7b051336d7fe">luaX_errorline</a> (<a class="code" href="structLexState.html">LexState</a> *ls, <span class="keyword">const</span> <span class="keywordtype">char</span> *s, <span class="keyword">const</span> <span class="keywordtype">char</span> *token, <span class="keywordtype">int</span> line)
<a name="l00078"></a>00078         <span class="comment">/*@modifies ls @*/</span>;
<a name="l00079"></a>00079 <span class="comment">/*@observer@*/</span>
<a name="l00080"></a>00080 <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="llex_8c.html#d6bdb1e4b2c531111a14e44aa6006858">luaX_token2str</a> (<a class="code" href="structLexState.html">LexState</a> *ls, <span class="keywordtype">int</span> token)
<a name="l00081"></a>00081         <span class="comment">/*@modifies ls @*/</span>;
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 12 08:44:54 2007 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
